"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="cce7d276-f219-5286-8397-930272fee65b")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[5945],{272180:(e,t,l)=>{l.d(t,{D:()=>r,a:()=>i});var n=l(614092);function a(e){return{isTextNode:"TEXT"===e.type,collectionStableId:e.getNearestDakotaCollectionId()??void 0,itemStableId:e.getNearestDakotaCollectionItemId()??void 0,fieldSchemaStableId:e.getDakotaFieldId()??void 0}}function r(e,t){if(0===t.length)return null;let l=t[0],n=e.get(l);if(!n)return null;let r=a(n);for(let l=1;l<t.length;l++){let n=t[l],i=e.get(n);if(!i)return null;let s=a(i);if(r.isTextNode!==s.isTextNode||r.collectionStableId!==s.collectionStableId||r.itemStableId!==s.itemStableId||r.fieldSchemaStableId!==s.fieldSchemaStableId)return null}return r}function i(e){return(0,n.Fk)(r,e)}},267670:(e,t,l)=>{l.d(t,{S:()=>_});var n=l(848318),a=l(301168),r=l(562027),i=l(382902),s=l(52813),o=l(865114),c=l(679044),d=l(802240),u=l(55116),m=l(436999),p=l(271326);function _(){let e=(0,a.wA)(),t=n.useRef(!1),l=(0,a.d4)(e=>e.loadingState),_=(0,p.n1)(),f=(0,o.qd)(_),y=(0,i.md)(u.fy7.Query({group:(0,d.M)()})),g=(0,m.je)();n.useEffect(()=>{if(!t.current&&!0===_&&!1===f&&"loaded"===y.status){t.current=!0;let e=new Set(g?.data?.map(e=>e.libraryKey)??[]);for(let t of y?.data?.libraryPresetSubscriptionsV2??[]){let l=(0,r.l)((0,s.oA)(t.libraryKey)??"");l&&e.has(l)&&(0,c.n)({libraryKey:l})}}},[e,_,f,l,y,g])}},673416:(e,t,l)=>{l.d(t,{BS:()=>eI});var n=l(848318),a=l(301168),r=l(353317),i=l(30552),s=l(765431),o=l(990140),c=l(186606),d=l(320953),u=l(19180),m=l(536384),p=l.n(m),_=l(781239),f=l(182317),y=l(156974),g=l(401970),E=l(967688),h=l(453370),b=l(244534),C=l(31898),v=l(696786),k=l(178109),S=l(303397),x=l(853733),w=l(535884),T=l(17753),N=l(52463),I=l(547011),A=l(335744),M=l(832329),P=l(193867),L=l(977796),O=l(483157),R=l(987419),F=l(614892),D=l(177345),K=l(699848),B=l(748078),H=l(271020),V=l(544405),G=l(658029),W=l(229417),$=l(819632),U=l(720522),z=l(302941),j=l(87463),X=l(67188),Y=l(657966),J=l(625479),q=l(21614),Z=l(16808),Q=(e=>(e[e.VERTICAL=0]="VERTICAL",e[e.MIDDLE_CHILD=1]="MIDDLE_CHILD",e[e.LAST_CHILD=2]="LAST_CHILD",e))(Q||{});function ee(e){let{lineConfiguration:t,hideLine:l,wideContainer:a}=e;return n.createElement("div",{className:a?"bubbled_props_line_styles--containerWide--csTgg bubbled_props_line_styles--container--XumJm":"bubbled_props_line_styles--container--XumJm"},!l&&n.createElement("div",{className:"bubbled_props_line_styles--lineContainer--pEgTS"},(()=>{switch(t){case 0:return n.createElement("div",{className:"bubbled_props_line_styles--vertical--pialf bubbled_props_line_styles--_line--Vhv8-"});case 1:return n.createElement(n.Fragment,null,n.createElement("div",{className:"bubbled_props_line_styles--middleChildVertical--PxRp- bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),n.createElement("div",{className:"bubbled_props_line_styles--middleChildHorizontal--ucsHZ bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}));case 2:return n.createElement(n.Fragment,null,n.createElement("div",{className:"bubbled_props_line_styles--lastChildVertical--83Los bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),n.createElement("div",{className:"bubbled_props_line_styles--lastChildHorizontal--kGsHC bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}))}})()),e.children)}let et="bubbled_instances_list--minusIcon--dY8i-",el="bubbled_instances_list--instanceIcon--aRlGl",en="bubbled_instances_list--instanceName--09LuV",ea="bubbled_instances_list--instanceNameWide---L338 bubbled_instances_list--instanceName--09LuV",er="bubbled_instances_list--ui3InstanceNameAndIcon--W4S9T component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g component_prop_def_row--ui3ComponentPropDefNameContainer--fBQXq",ei="bubbled_instances_list--ui3LineContainer--OdBbV",es="bubbled_instances_list--ui3Line--SIYpX";var eo=l(839808),ec=l(149444);function ed(e){let{showUnbubbledPrimaryInstances:t,showNumHidden:l,wideContainer:r,scrollableContainer:i}=e,s=(0,a.d4)(J.K4),o=(0,v.GS)(),[u,m]=(0,n.useState)(!1),f=(0,q.uQ)(),y=t?s:s?.filter(e=>e.isBubbled),g=e=>{d.l7.user("toggle-props-bubbled",()=>c.glU.togglePropsAreBubbled(e)),c.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},h=e=>{c.Ez5.canvasViewState().temporarilyHoveredNodes.set(e)},b=()=>{c.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},C=0,k=o&&!t&&!u&&null!=y&&y.length>5,S=k?y.slice(0,4):y;return k&&(C=y.length-4),n.useEffect(()=>()=>{b()},[]),n.useEffect(()=>{b()},[f]),n.createElement("div",{className:p()({"bubbled_instances_list--scrollableContainer--ob0LQ":i})},S?.map((a,i)=>{let s=a.connectedGUIDs.slice(0).sort();return n.createElement(z.S.recordableDiv,{className:"bubbled_instances_list--instanceSection--tLYN0",key:i,onMouseEnter:()=>h(a.connectedGUIDs),onMouseLeave:b,recordingKey:_.Pt(e,s[0])??""},o?t?n.createElement(e_,{data:a,showNumHidden:l,onUnbubbleInstance:g,recordingKey:_.Pt(e,"checkbox",s[0]),wideContainer:r}):n.createElement(em,{data:a,onUnbubbleInstance:g,recordingKey:_.Pt(e,"unbubble",s[0]),wideContainer:r}):n.createElement(n.Fragment,null,n.createElement(ee,{lineConfiguration:Q.VERTICAL,hideLine:0===a.bubbledNestedInstances.length,wideContainer:r},t?n.createElement(eu,{data:a,onUnbubbleInstance:g,showNumHidden:l,wideContainer:r,recordingKey:_.Pt(e,"checkbox",s[0])}):n.createElement(n.Fragment,null,n.createElement(U.B,{className:el,svg:eo.A}),n.createElement("p",{className:r?ea:en},a.name),n.createElement(Z.K0,{className:et,svg:ec.A,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":E.t("design_systems.component_properties.unbubble_instance"),onClick:()=>{g(a.connectedGUIDs[0])},recordingKey:_.Pt(e,"unbubble",s[0])}))),a.bubbledNestedInstances.map((e,t)=>n.createElement("div",{key:t},n.createElement(ee,{lineConfiguration:t===a.bubbledNestedInstances.length-1?Q.LAST_CHILD:Q.MIDDLE_CHILD,wideContainer:r},n.createElement("div",{className:r?ea:en},e.name))))))}),o&&!u&&C>0&&n.createElement(Y.t8,{label:(0,E.t)("design_systems.component_properties.show_more_nested_instances_rows",{count:C}),onClick:()=>m(!0)}))}function eu({data:e,onUnbubbleInstance:t,showNumHidden:l,wideContainer:a,recordingKey:r}){return n.createElement("div",{className:a?"bubbled_instances_list--checkboxContainerWide--Kdd3u bubbled_instances_list--checkboxContainer--qm3X7":"bubbled_instances_list--checkboxContainer--qm3X7"},n.createElement(H.S,{checked:e.isBubbled,onChange:()=>{e.connectedGUIDs[0]&&t(e.connectedGUIDs[0])},recordingKey:r,label:n.createElement(V.J,null,n.createElement(j.E,{truncate:"line-clamp",lineClamp:2},e.name))}),l&&!!e.numHidden&&n.createElement("div",{className:"bubbled_instances_list--numHidden--fW-Sr"},(0,E.tx)("design_systems.component_properties.num_hidden",{num:e.numHidden})))}function em({data:e,onUnbubbleInstance:t,recordingKey:l,wideContainer:a}){let{bubbledNestedInstances:r}=e,i=n.createElement(K.DE,{label:null,input:n.createElement("div",{className:er},n.createElement("div",{className:el},n.createElement(W.y,null)),n.createElement("p",{className:en},e.name)),icon:n.createElement("div",{className:et},n.createElement(G.K,{"aria-label":(0,E.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{t(e.connectedGUIDs[0])},recordingKey:l,htmlAttributes:{"data-tooltip":(0,E.t)("design_systems.component_properties.unbubble_instance"),"data-tooltip-type":T.Ib.TEXT,onMouseDown:X.dG}},n.createElement($.f,null)))});return 0===r.length?i:n.createElement(ep,{data:e,row:i,wideContainer:a})}function ep({data:e,row:t,wideContainer:l}){return n.createElement(Y.R$,{row:t,isCollapsedByDefault:!0},e.bubbledNestedInstances.map((e,t)=>n.createElement("div",{key:t},n.createElement(K.DE,{label:null,input:n.createElement("div",{className:er},n.createElement("div",{className:ei},n.createElement("div",{className:es})),n.createElement("div",{className:l?ea:en},e.name)),icon:null}))))}function e_({data:e,onUnbubbleInstance:t,recordingKey:l,showNumHidden:a,wideContainer:r}){return n.createElement(n.Fragment,null,n.createElement(K.Ad,{label:null,input:n.createElement(eu,{data:e,onUnbubbleInstance:t,showNumHidden:a,wideContainer:r,recordingKey:l})}),e.bubbledNestedInstances.map((e,t)=>n.createElement("div",{key:t},n.createElement(K.Ad,{label:null,input:n.createElement("div",{className:"bubbled_instances_list--ui3CheckboxViewNestedInstance--YgTEc"},n.createElement("div",{className:ei},n.createElement("div",{className:es})),n.createElement("div",{className:r?ea:en},e.name))}))))}var ef=l(454805),ey=l(42725),eg=l(175393);function eE(){let e="bubbledPropsPicker",t=(0,a.d4)(e=>e.pickerShown),l=(0,a.wA)(),r=new ef.Mi(t?.initialX,t?.initialY);return t?.id!==ey.Dd?null:n.createElement(eg.vx,{title:(0,E.t)("design_systems.component_properties.expose_nested_instances"),initialPosition:r,initialWidth:ey.wh,headerSize:"small",onClose:()=>{l(b.XE())},recordingKey:e},n.createElement("div",{className:"bubbled_props_picker--container--I6VX-"},n.createElement(ed,{showUnbubbledPrimaryInstances:!0,showNumHidden:!0,wideContainer:!0,scrollableContainer:!0,recordingKey:e})))}var eh=l(657948),eb=l(288597),eC=l(499025),ev=l(42379);let ek="props_panel--addButtonContainer--a58gi",eS="props_panel--dropdownRowWithIcon--03FtD",ex="props_panel--dropdownRowWithoutIcon--F8Ra-";var ew=l(854068),eT=l(632145),eN=l(954184);function eI({recordingKey:e,isInSelectionActionsPanel:t}){let l=(0,a.wA)(),r=(0,v.GS)(),o=(0,a.d4)(D.i$),m=(0,a.d4)(eC.od),p=!(0,a.d4)(eb.Jp),T=(0,a.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===ey.C4),O=(0,a.d4)(e=>!!e.modalShown&&e.modalShown.type===eh.n.type),{componentDescription:B}=(0,M.z6)(),H=(0,a.d4)(e=>e.pickerShown),V=T||O||H?.id===ey.Dd,G=!!(0,a.d4)(J.Z3).length,W=(0,a.d4)(J.K4),$=!!W?.length,U=(0,a.d4)(w.Dr),z=(0,a.d4)(w.Ct),{allowLibraryPublish:j}=(0,n.useContext)(x.s),{submit:X,apply:q}=(0,k.wP)(),Z=n.useRef(null),Q=n.useRef(null),ee=n.useCallback(e=>{H&&l(b.XE()),T?l(h.oB()):l(h.j7({type:ey.C4}))},[l,H,T]),et=n.useCallback(e=>{(0,ey.Pp)(m,!1,e,ey.Fv.ICON);let t=Q.current,n=t?(0,N.cn)(t,ey.wh):{};l(C.to({type:eh.n,data:{propType:e,initialX:n?.x??0,initialY:n?.y??0}}))},[l,m]),el=n.useCallback(()=>{m&&(m.isLooseComponent?S.Y5.triggerActionInUserEditScope("create-state-group"):et(c.J0O.VARIANT))},[et,m]),en=n.useCallback(()=>{let e=Q.current,t=e?(0,N.cn)(e,ey.wh):{};l(b.u1({id:ey.Dd,initialX:t?.x,initialY:t?.y}))},[l]),ea=n.useCallback(async()=>{if(!m)return;let e=(await X({components:[m],clientLifecycleId:(0,f.g)()}))[0];e&&d.l7.user("apply-suggested-props",()=>{q(e)})},[X,q,m]),er=m?.isCodeComponent,ei=[...(0,u.k)().ds_variable_props_number_def?[c.J0O.NUMBER]:[],c.J0O.TEXT,c.J0O.BOOL,...er?[]:[c.J0O.INSTANCE_SWAP],...(0,u.k)().dse_slots?[c.J0O.SLOT]:[]];return m?n.createElement(F.Zk,{ref:Q,style:t?{paddingBottom:0,borderBottom:"none"}:void 0},n.createElement(P.Q,null),r&&!p?n.createElement(L.n,{description:B}):null,n.createElement(r?eM:eA,{isPanelEmpty:p,isAddPropButtonSelected:V,hasBubbledInstances:G,stateGroupSelectionMode:o,selectAddPropOptionRef:Z,toggleAddPropDropdown:ee,recordingKey:e,isInSelectionActionsPanel:t}),T&&Z.current&&n.createElement(A.Cf,{targetRect:Z.current.getBoundingClientRect(),propagateCloseClick:!0},n.createElement(y.c$,{disabled:!0,className:ex},(0,E.tx)("design_systems.component_properties.create_property")),!er&&n.createElement(y.c$,{className:eS,onClick:el,recordingKey:_.Pt("openCreatePropModal",(0,ey.xb)(c.J0O.VARIANT))},n.createElement(I.Nu,null,n.createElement(g.U,{svg:eT.A},n.createElement(i.m,null))),(0,E.tx)("design_systems.component_properties.across_variants")),ei.map(e=>n.createElement(y.c$,{key:e,className:eS,onClick:()=>et(e),recordingKey:_.Pt("openCreatePropModal",(0,ey.xb)(e))},n.createElement(I.Nu,null,n.createElement(g.U,{svg:(0,ey.qe)(e)},(0,ey.zn)(e,!0))),(0,ey.xb)(e))),$&&n.createElement(n.Fragment,null,n.createElement(y.wv,null),n.createElement(y.c$,{disabled:!0,className:ex},(0,E.tx)("design_systems.component_properties.expose_nested_instances")),n.createElement(y.c$,{className:eS,onClick:en,recordingKey:"openBubbledPropPicker"},n.createElement(I.Nu,null,n.createElement(g.U,{svg:ew.A},n.createElement(s.M,null))),(0,E.t)("design_systems.component_properties.choose_instances"))),(0,u.k)().first_draft_suggest_props&&n.createElement(n.Fragment,null,n.createElement(y.wv,null),n.createElement(y.c$,{className:eS,onClick:ea,recordingKey:"suggestProps"},n.createElement(I.Nu,null,n.createElement(g.U,{svg:ew.A},n.createElement(s.M,null))),(0,E.t)("first_draft.suggest_properties")))),H?.id===ey.Dd&&n.createElement(eE,null),n.createElement(Y.e6,{containerWidth:r?ey.O2.RESIZABLE_SIDEBAR:ey.O2.REGULAR,propDimension:ey.OE.DEFINITION,guids:[m.guid],recordingKey:e,enableHidingOverflowRowsInUI3:!1,entrypointForInstanceSwapPicker:null}),G&&n.createElement(n.Fragment,null,n.createElement("p",{className:"props_panel--bubbledInstancesHeading--C26v2"},(0,E.t)("design_systems.component_properties.bubbled_instances")),n.createElement(ed,{recordingKey:e})),r&&U&&z&&j?n.createElement(K.Ad,{label:null,input:n.createElement(R.U,null)}):null):null}function eA({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:l,stateGroupSelectionMode:a,selectAddPropOptionRef:r,toggleAddPropDropdown:i}){return n.createElement(F.fI,{className:!e||t||l?void 0:"props_panel--panelHeaderRowFaded--r4klF draggable_list--panelHeaderRowFaded--kETRR"},n.createElement(O.Q,{className:"props_panel--panelTitleText--i7WqG draggable_list--panelTitleText--SwKez"},(0,E.tx)("design_systems.component_properties.properties")),a!==c.iCO.STATE&&n.createElement("div",{ref:r,className:ek},n.createElement(F.YW,{className:"props_panel--addButton--jAtAX draggable_list--addButton--D0q--",onClick:i,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,E.t)("design_systems.component_panel.create_component_property"),svg:eN.A,recordingKey:"openCreatePropModalDropdown"})))}function eM({isAddPropButtonSelected:e,stateGroupSelectionMode:t,selectAddPropOptionRef:l,toggleAddPropDropdown:a,isInSelectionActionsPanel:i}){let s=n.useRef(null),d=_.rf("openCreatePropModalDropdown","click",a),u=_.rf("openCreatePropModalDropdown","mousedown",e=>e?.stopPropagation());return n.createElement(B.pG,{onClick:d,onMouseDown:u,ref:s,input:(0,E.tx)("design_systems.component_properties.properties"),label:null,appendedClassName:p()(i?"props_panel--ui3PanelHeaderRowSAP--ws4dj props_panel--ui3PanelHeaderRow--Ab8Jz":"props_panel--ui3PanelHeaderRow--Ab8Jz",{[ev.yf]:!e}),icon:t!==c.iCO.STATE?n.createElement("div",{ref:l,className:p()(ek)},n.createElement(r.d,{"aria-expanded":e,htmlAttributes:{"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,E.t)("design_systems.component_panel.create_component_property")},"aria-label":(0,E.t)("design_systems.component_panel.create_component_property")},n.createElement(o.e,null))):void 0})}},437973:(e,t,l)=>{l.d(t,{j:()=>i});var n=l(257264),a=l(136169);let r=(0,n.Op)({initial:"ready_to_show",states:[{id:"ready_to_show",transitions:[(0,n.nr)("curator_content_shown","no_figma_basics_onboarding_was_shown_in_current_session",{condition:({event:e})=>e.properties.shown===a.WD4.id})]},{id:"no_figma_basics_onboarding_was_shown_in_current_session",terminal:!0}]}),i=(0,n.rn)("track_no_figma_basics_onboarding_shown",r)},876326:(e,t,l)=>{l.d(t,{T:()=>C,g:()=>b});var n=l(848318),a=l(301168),r=l(967688),i=l(118287),s=l(533737),o=l(957872),c=l(34375),d=l(34542),u=l(730143),m=l(125761),p=l(752181),_=l(263336),f=l(391301),y=l(442585),g=l(175393),E=l(136169),h=l(161245);let b={[h.a5]:!1,[h.fc]:!1,[h.bo]:!1};function C(){let e=(0,u.MY)(),t=(0,u.q5)(),l=(0,a.wA)(),C=(0,m.iZ)(),{show:v,isShowing:k,complete:S,uniqueId:x}=(0,d.e)({overlay:E.TrJ,priority:_.N.SECONDARY_MODAL},[e]),w=(0,i.te)(),T=!!(0,p.f)(h.fc),N=t?.canEdit,{currentView:I,visualAssetsType:A}=(0,y.wV)();return(0,c.E)(x,["Reset Visual Assets Tooltips",h.io],()=>{C&&t&&l(s.b(b))}),(0,n.useEffect)(()=>{N&&w()&&!T&&A&&I===y.S5.VisualAssets&&v(),k&&I!==y.S5.VisualAssets&&S()},[v,S,k,N,w,T,A,I]),n.createElement(f.rq,{arrowPosition:g.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,r.tx)("rcs.visual_assets.drag_visual_assets_description"),disableHighlight:!0,isShowing:k,onClose:S,pointToLeftEdge:!0,primaryCta:{label:(0,r.tx)("onboarding_pointers.got_it"),type:"button",onClick:S,ctaTrackingDescriptor:o.c.GOT_IT},targetKey:h.ko,title:(0,r.tx)("rcs.visual_assets.drag_visual_assets_title"),trackingContextName:"Visual Assets Search Tooltip",userFlagOnShow:h.fc})}},809761:(e,t,l)=>{l.d(t,{J:()=>f});var n=l(848318),a=l(186606),r=l(320953),i=l(382902),s=l(989232),o=l(995218),c=l(604496),d=l(601167),u=l(77822),m=l(853977),p=l(957508);let _=l(479760).zS;function f(){let[e,t]=(0,i.fp)(p.ph),l=(0,i.md)(p.KG),f=(0,i.md)(p.kh),y=(0,d._X)({subscribeToUpdates_expensive:!0}),[g,E]=(0,n.useState)(null),h="whiteboard"===(0,o.lg)(),b=n.useCallback(()=>{if(e){let{emojis:t,index:l}=e;if(t&&l>=0&&l<t.length){let e=(0,c._Q)(t[l]);e&&r.l7.user("insert-emoji",()=>{(0,s.trackEvent)("inserted_editor_emoji",{emoji:e}),a.SmY?.replaceCurrentShortcodeWithEmoji(e)})}}},[e]),C=n.useCallback(()=>{t(null)},[t]);if(!f||!e||null===l)return null;let v=(0,d.Yb)(y,f);if(!(0,d.ZT)(v,y))return null;let k={top:v.y+y.y-8,bottom:v.y+y.y+v.height+8,left:v.x+y.x,right:v.x+y.x+v.width,height:v.height,width:v.width},S=g&&k.height>0&&k.bottom>y.height-g&&k.top>y.height-k.bottom?{positionFromBottom:{left:k.left,bottom:y.height+y.y-k.top},direction:m.ri.UPWARDS}:{targetRect:k,direction:m.ri.DOWNWARDS};return n.createElement("div",null,n.createElement(u.j,{dispatchTypeahead:t,onClear:C,onInsert:b,typeahead:e,width:168,...S,emojiImageSet:l,isFigJam:h,recordingKey:"emojiTypeaheadView",setMaxTypeaheadHeight:E,zIndex:_}))}},459762:(e,t,l)=>{l.d(t,{L:()=>d});var n=l(848318),a=l(301168),r=l(186606),i=l(696786),s=l(702038),o=l(554326),c=l(204598);let d=n.memo(function(){let e=(0,o.ut)((0,s.aY)(),r.FAf.DESIGN),t=(0,a.d4)(e=>e.mirror.appModel.topLevelMode),l=!(0,i.GS)()&&(t!==r.lyf.PREVIEW&&e!==r.FAf.COMMENT||t===r.lyf.PREVIEW);return n.createElement(c.B,{stackHeader:l,hideResolve:!1})})},719486:(e,t,l)=>{l.d(t,{o:()=>eF});var n=l(848318),a=l(186606),r=l(146968),i=l(858160),s=l(696786),o=l(330362),c=l(959750),d=l(686464),u=l(796580),m=l(659502),p=l(355755),_=l(125761),f=l(559389),y=l(382902),g=l(863270),E=l(755534),h=l(297638),b=l(301168),C=l(536384),v=l.n(C),k=l(989232),S=l(398612),x=l(615233),w=l(460081),T=l(466159),N=l(967688),I=l(730143),A=l(253332),M=l(259964),P=l(967925);function L(){let e=(0,b.wA)(),t=(0,_.iZ)(),{isEditingFile:l,unsortedTeams:a}=(0,P.DF)(),r=(0,I.q5)(),i=(0,M.sL)(r?.editorType),s=n.createRef();return n.createElement(n.Fragment,null,n.createElement("button",{className:v()(h.s.flex.justifyCenter.itemsCenter.absolute.bottom0.left0.wFull.h40.colorBg.font11.fpl__textBodyMediumStrongFontWeight.cursorPointer.$,h.s.b1.colorBorder.bb0.br0.bl0.$,"first_level_resource_contact_support--contactSupportButton--Ioy3K"),onClick:()=>{if((0,k.trackEvent)("help_widget_get_help",{isEditingFile:l,editorType:i,source:"in-product-help-panel-button"}),(0,x.sL)()){(0,S.FJ)("mailto:support-figgov@figma.com","_blank","noopener");return}let e=0===a.filter(A.w5).length;s.current?.open({ticketForms:e?w.Fb.FREE:w.Fb.PAID,locale:t?.locale})}},(0,N.t)("help_widget.menu.contact_support")),n.createElement(T.F,{ref:s,dispatch:e,userName:t?.name||null,userEmail:t?.email||null}))}var O=l(658029),R=l(124810),F=l(378662);function D(){let{hideInProductHelpView:e}=(0,F.A5)();return n.createElement("div",{className:h.s.flex.flexRow.justifyBetween.itemsCenter.$},n.createElement("p",{className:h.s.font16.colorText.fpl__textHeadingLargeFontWeight.$},(0,N.t)("in_product_help_and_learning.first_level_header.title")),n.createElement(O.K,{onClick:()=>{e()},"aria-label":(0,N.t)("general.close")},n.createElement(R.A,null)))}var K=l(531788),B=l(287105),H=l(847240);function V(){let e=(0,g.j6)(),t=(0,_.Pc)().locale,[l,a]=n.useState(""),[r,i]=n.useState(!1),s=n.createRef(),o=n.createRef(),c=()=>{e.trackEvent("CTA Clicked",{text:"Help Center Search",searchQuery:l});let n=(0,B.lF)({query:l});(0,S.FJ)(`https://help.figma.com/hc/${(0,F.FI)(t)}/search?${n}`,"_blank","noopener")};return n.useEffect(()=>{if(o.current&&s.current){let e=s.current.offsetWidth;o.current.style.setProperty("--in-product-help-and-learning-search-bar-max-width",`calc(100% - 32px - ${e}px - 8px)`)}},[o,s]),n.createElement("form",{onSubmit:e=>{e.preventDefault(),c()},className:"first_level_resource_search_bar--searchBar--BexQF",ref:o},n.createElement(H.IW,{className:v()(h.s.h32.wFull.colorBgSecondary.bRadius8.$,{"first_level_resource_search_bar--isFocused--1E4mp":r}),clearSearch:()=>a(""),focusOnMount:!0,hasTransparentBackground:!0,hideXIcon:!0,iconClassName:h.s.colorIconSecondary.$,isFocused:r,onBlur:()=>i(!1),onChange:a,onFocus:()=>i(!0),query:l}),l.length>0&&n.createElement("div",{className:"first_level_resource_search_bar--searchButtonContainer--BADgp"},n.createElement(K.$n,{variant:"primary",type:"submit",ref:s},(0,N.tx)("in_product_help_and_learning.search"))))}var G=l(19180),W=l(720522),$=l(178806),U=l(235252);function z({sectionName:e,sectionOptions:t}){return n.createElement("div",{className:h.s.flex.flexColumn.gap10.font11.fpl__textBodyMediumStrongFontWeight.mt8.$},n.createElement("p",{className:h.s.mb2.$},e),t)}var j=l(491732);let X=()=>{let e=!!(0,G.k)().web_help_widget_report_translations&&U.Gq()?.getPrimaryLocale(!0)!=="en";return[{label:(0,N.t)("help_widget.menu.help_center"),href:"https://help.figma.com/"},{label:(0,N.t)("help_widget.menu.support_forum"),href:"https://forum.figma.com/"},{label:(0,N.t)("help_widget.menu.release_notes"),href:"https://www.figma.com/release-notes/"},{label:(0,N.t)("help_widget.menu.legal_summary"),href:"/legal"},{label:(0,N.t)("help_widget.menu.submit_feedback"),href:"https://forum.figma.com/submit-feedback"},...e?[{label:(0,N.t)("help_widget.menu.report_translation_issues"),href:"https://form.asana.com/?k=2lONzHHSiZJo3FThA47peg&d=10497086658021",onClick:()=>{(0,k.trackEvent)("help_widget_report_translations",{source:"in_product_help_and_learning_panel"})}}]:[],{label:(0,N.t)("help_widget.menu.ask_the_community"),href:"https://forum.figma.com/ask-community"}]},Y=n.memo(function(){let e=X().map(e=>n.createElement("span",{key:e.label,className:h.s.flex.gap8.colorTextBrand.cursorPointer.$},n.createElement($.$z,{variant:"link",onClick:()=>{(0,S.FJ)(e.href,"_blank","noopener"),e.onClick?.()},iconPrefix:n.createElement(W.B,{svg:j.A,width:"16px",className:h.s.colorIconBrand.mr8.$})},e.label))),t=(0,N.t)("in_product_help_and_learning.more_help_resources.section_title");return n.createElement(z,{sectionName:t,sectionOptions:e})});var J=l(230618),q=l(744577),Z=(e=>(e[e.NEW_TO_FIGMA=0]="NEW_TO_FIGMA",e[e.EXPLORE_FEATURES=1]="EXPLORE_FEATURES",e[e.CREATE_COMPONENTS=2]="CREATE_COMPONENTS",e[e.DESIGN_FIRST_BUTTON=3]="DESIGN_FIRST_BUTTON",e[e.VIDEO_TUTORIALS=4]="VIDEO_TUTORIALS",e))(Z||{});function Q(e){switch(e){case 0:return[{displayString:(0,N.t)("in_product_help_and_learning.article.get_started_with_layers"),articleId:0x182dc2b40797},{displayString:(0,N.t)("in_product_help_and_learning.article.explore_layer_types"),articleId:0x183601f04d17},{displayString:(0,N.t)("in_product_help_and_learning.article.combine_layers"),articleId:0x1833cfa8cf97},{displayString:(0,N.t)("in_product_help_and_learning.article.create_and_edit_text"),articleId:0x53d40dbffa},{displayString:(0,N.t)("in_product_help_and_learning.article.browse_and_apply_fonts"),articleId:0x53d4225f82},{displayString:(0,N.t)("in_product_help_and_learning.article.apply_paints_with_the_color_picker"),articleId:0x53d41dbafe},{displayString:(0,N.t)("in_product_help_and_learning.article.add_images_and_videos_to_design_file"),articleId:0x53d40ed782},{displayString:(0,N.t)("in_product_help_and_learning.article.export_from_figma_design"),articleId:0x53d40ed7d2}];case 1:return[{displayString:(0,N.t)("in_product_help_and_learning.article.frames_in_figma_design"),articleId:0x53d425e791},{displayString:(0,N.t)("in_product_help_and_learning.article.add_auto_layout_to_a_design"),articleId:0x53677016397},{displayString:(0,N.t)("in_product_help_and_learning.article.explore_auto_layout_properties"),articleId:0x53d4154d2d},{displayString:(0,N.t)("in_product_help_and_learning.article.create_color_text_effect_and_layout_grid_styles"),articleId:0x53d3fb49a6},{displayString:(0,N.t)("in_product_help_and_learning.article.create_interactions"),articleId:0x53d4133b7d},{displayString:(0,N.t)("in_product_help_and_learning.article.prototype_triggers"),articleId:0x53d40ef5fa},{displayString:(0,N.t)("in_product_help_and_learning.article.prototype_actions"),articleId:0x53d40ef622},{displayString:(0,N.t)("in_product_help_and_learning.article.prototype_animations"),articleId:0x53d4166285},{displayString:(0,N.t)("in_product_help_and_learning.article.parent_child_and_sibling_relationships"),articleId:0x53d40dc9e6}];case 2:return[{displayString:(0,N.t)("in_product_help_and_learning.article.create_components_to_resuse_in_designs"),articleId:0x53d3fa03f2},{displayString:(0,N.t)("in_product_help_and_learning.article.create_and_insert_component_instances"),articleId:0x53d401725d},{displayString:(0,N.t)("in_product_help_and_learning.article.create_and_use_variants"),articleId:0x53d5094712},{displayString:(0,N.t)("in_product_help_and_learning.article.create_interactive_components_with_variants"),articleId:0x53d5518626},{displayString:(0,N.t)("in_product_help_and_learning.article.explore_component_properties"),articleId:0x513129d7517}];default:return[]}}function ee({resource:e}){let t=(0,g.j6)(),l=(0,F.Yj)(),a=(0,y.Xr)(F.J9),r=(0,y.Xr)(F.Zf),i=(0,y.Xr)(F.QU);return n.createElement("button",{key:e.title,className:h.s.cursorPointer.$,style:q.sx.radiusMedium.b1.colorBorder.flex.flexRow.wFull.add({height:"74px",overflow:"hidden"}).$,onClick:async()=>{if(t.trackEvent("CTA Clicked",{text:e.title}),e.resource===Z.DESIGN_FIRST_BUTTON){let t=await l(0xcce00915a97);t&&(a(2),r(e),i(t))}else e.resource===Z.VIDEO_TUTORIALS?(0,S.FJ)("https://www.youtube.com/playlist?list=PLXDU_eVOJTx4iS4wLdfAcM1msnqZmVwC5","_blank","noopener"):(a(2),r(e))}},n.createElement(J.oW,{src:e.image,alt:"",style:q.sx.m0.add({width:"108px",height:"74px",borderRadius:"var(--radius-medium) 0 0 var(--radius-medium)"}).$}),n.createElement("div",{className:h.s.flex.flexColumn.gap2.m12.wFull.font11.ellipsis.alignLeft.$},n.createElement("p",{className:h.s.colorText.fpl__textBodyMediumStrongFontWeight.$},e.title),n.createElement("p",{className:h.s.colorTextSecondary.$},e.description)))}function et(){let e=[{resource:0,title:(0,N.t)("in_product_help_and_learning.popular_resources.new_to_figma.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.new_to_figma.description"),image:(0,x.ck)("a657c232671f190106d0943282bf1a970f036718")},{resource:1,title:(0,N.t)("in_product_help_and_learning.popular_resources.explore_more_features.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.explore_more_features.description"),image:(0,x.ck)("033919a9d852c5a37b60923805a0e11f625cd9b1")},{resource:2,title:(0,N.t)("in_product_help_and_learning.popular_resources.create_components.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.create_components.description"),image:(0,x.ck)("4f93c71141e5989d9f4d8259d2e2751dc3b3d7ab")},{resource:3,title:(0,N.t)("in_product_help_and_learning.popular_resources.design_your_first_button.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.design_your_first_button.description"),image:(0,x.ck)("13d91474245b8e3949763a713a12805283cfe2a2")},{resource:4,title:(0,N.t)("in_product_help_and_learning.popular_resources.video_tutorials.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.video_tutorials.description"),image:(0,x.ck)("02377d4618e4b063422da13c18efd5debece9591")}];return n.createElement("div",{className:h.s.flex.flexColumn.rowGap8.$},n.createElement("p",{className:h.s.font13.colorText.fpl__textBodyMediumStrongFontWeight.$},(0,N.t)("in_product_help_and_learning.popular_resources.section_title")),e.map(e=>n.createElement(ee,{key:e.title,resource:e})))}var el=l(972487),en=l(31898),ea=l(303397),er=l(526351);function ei({option:e}){return n.createElement("span",{className:h.s.flex.colorTextBrand.cursorPointer.$},n.createElement($.$z,{variant:"link",onClick:e.onClick},e.label))}function es(){let e=(0,b.wA)(),t=[{label:(0,N.t)("help_widget.menu.change_keyboard_layout"),onClick:function(){ea.Y5.isReady()&&(e(el.FU({tab:"layout"})),ea.Y5.triggerAction("toggle-keyboard-shortcuts"))}},{label:(0,N.t)("help_widget.menu.change_languages"),onClick:function(){e((0,en.to)({type:er.kA,data:{source:er.IO.HELP}}))}},{label:(0,N.t)("help_widget.menu.keyboard_shortcuts"),onClick:()=>{ea.Y5.isReady()&&ea.Y5.triggerAction("toggle-keyboard-shortcuts")}}].map(e=>n.createElement(ei,{key:e.label,option:e})),l=(0,N.t)("in_product_help_and_learning.settings.section_title");return n.createElement(z,{sectionName:l,sectionOptions:t})}function eo({isFloatingModal:e}){return n.createElement("div",null,n.createElement(g.fu,{name:"First Level"},n.createElement("div",{className:h.s.flex.flexColumn.gap16.p16.pb8.$},n.createElement(D,null),n.createElement(V,null)),n.createElement(E.P,{className:e?"first_level_resources--floatingModalScrollContainer--i7yEe":"first_level_resources--scrollContainer--t1Gzz"},n.createElement("div",{className:h.s.flex.flexColumn.gap16.pb16.$},n.createElement(et,null),n.createElement(es,null),n.createElement(Y,null))),n.createElement(L,null)))}var ec=l(454805),ed=l(175393);function eu({propertiesPanelWidth:e,view:t}){let[l,a]=(0,n.useState)((0,F.iM)({propertiesPanelWidth:e})),r=(0,n.useCallback)(()=>{a((0,F.iM)({propertiesPanelWidth:e}))},[e]);return(0,n.useEffect)(()=>{let e=(0,f.s)(()=>{r()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[r]),(0,n.useEffect)(()=>{r()},[e,r]),n.createElement(ed.vx,{initialWidth:F.yx,initialHeight:.8*window.innerHeight,initialPosition:new ec.Mi(l.x,l.y),maxHeight:.8*window.innerHeight},n.createElement("div",{"data-testid":"in-product-help-floating-modal",className:"dynamic_panel--floatingModalContainer--S9bdj"},t))}var em=l(773511),ep=l(1511);function e_(){let e=(0,y.md)(F.J9),{hideInProductHelpView:t}=(0,F.A5)(),l=(0,y.Xr)(F.J9);return n.createElement("div",{className:h.s.flex.flexRow.justifyBetween.p16.pl12.$},n.createElement(em.E,{onClick:()=>{l(e-1)},"aria-label":(0,N.t)("general.back"),className:h.s.flex.flexRow.itemsCenter.justifyCenter.font11.colorText.fpl__textBodyMediumStrongFontWeight.cursorPointer.$},n.createElement(ep.C,null),(0,N.tx)("general.back")),n.createElement(O.K,{onClick:()=>{t()},"aria-label":(0,N.t)("general.close")},n.createElement(R.A,null)))}var ef=l(162796),ey=l(309488),eg=l(93275),eE=l(197638),eh=l.n(eE);let eb="third_level_resources--helpCenterArticle--Fnl-a";function eC({afterArticleChildren:e}){let{name:t}=(0,g.j6)(),l=(0,y.md)(F.Zf),a=(0,y.md)(F.J9),r=(0,y.md)(F.QU),i=n.createRef(),[s,o]=n.useState(),c=n.useCallback(()=>{i.current?.scrollTo(0,0)},[i]);return((0,n.useEffect)(()=>{Array.from(document.querySelectorAll(`.${eb} a`)).forEach(e=>{if(-1===e.href.indexOf("#"))e.target="_blank";else{let t=e.href.split("#",2);e.href=`#${t[1]}`}e.onclick=()=>{(0,k.trackEvent)("CTA Clicked",{text:e.text,linkUrl:e.href,trackingContext:t,articleId:r?.id})}}),function(e){if(e&&0xcce00915a97===e.id){let e=document.querySelector(".contextual-content.contextual-content--NewUI p:first-of-type");try{if(e){let t=document.createElement("iframe");t.src="https://www.youtube.com/embed/HJG7ILVSjrI?si=kLtIPYEqkgMC_hwH",t.title="Youtube video player",t.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",t.referrerPolicy="strict-origin-when-cross-origin",t.allowFullscreen=!0,t.className="third_level_resources--embeddedVideo--lnko-";let l=e.parentNode;l&&l.insertBefore(t,e)}}catch(e){console.error(e)}}}(r),Array.from(document.querySelectorAll(`.${eb} img`)).forEach(e=>{e.onclick=()=>{o({src:e.src,alt:e.alt})}});let e=Array.from(document.querySelectorAll(".contextual-content--NewUI button.tablinks")),l=Array.from(document.querySelectorAll(".contextual-content--NewUI div.tabcontent"));if(e.length>0&&e.length===l.length){let t=0,n=t=>{e.forEach((e,l)=>{l===t?e.classList.add("active"):e.classList.remove("active")}),l.forEach((e,l)=>{l===t?e.style.display="block":e.style.display="none"})};e.forEach((e,l)=>{e.onclick=()=>n(l),e.classList.contains("active")&&(t=l)}),n(t)}c()},[r]),r)?n.createElement("div",null,n.createElement(g.fu,{name:"Help Center Article",properties:{articleId:r.id}},n.createElement(e_,null),!!l&&3===a&&n.createElement("h3",{className:"third_level_resources--breadcrumb--yQHOD"},l.title," /"," ",n.createElement("span",{className:h.s.fpl__textBodySmallStrongFontWeight.$},r.name)),n.createElement("h1",{className:h.s.lh24.fontSemiBold.font16.fontInter.pt0.px16.pb12.$},r.name),n.createElement("div",{className:"third_level_resources--container--RY81c",ref:i},n.createElement("div",{className:v()(h.s.p16.pt8.$,eb),dangerouslySetInnerHTML:{__html:eh().sanitize(r.body)}}),e,n.createElement(ev,{image:s,onClose:()=>o(void 0)})))):null}function ev({image:e,onClose:t}){let l=ef.hS({open:!!e,onClose:t});return n.createElement(ey.bL,{manager:l,width:"fit-content"},n.createElement("div",{className:"third_level_resources--enlargedImageContainer--EqCOz"},n.createElement(eg.vo,null,n.createElement(J.oW,{src:e?.src,alt:e?.alt,className:"third_level_resources--enlargedImage--l3atX"}))))}function ek(){let e=(0,y.Xr)(F.J9),t=(0,y.md)(F.Zf),l=(0,y.md)(F.QU);if(!t)return null;let a=null;return t.resource===Z.DESIGN_FIRST_BUTTON?n.createElement(eC,{afterArticleChildren:l&&0xcce00915a97===l.id?n.createElement(ex,null):void 0}):t.resource===Z.VIDEO_TUTORIALS?(e(1),null):(a=n.createElement(eS,{details:function(e){switch(e){case 0:return{description:(0,N.t)("in_product_help_and_learning.popular_resources.new_to_figma.details.description"),webm:(0,x.ck)("6db4a35b80ddb5910781af9bc60c66bf902dff3a"),mp4:(0,x.ck)("88dea447c3d80062d168b864c9c01aa5645790e5"),articles:Q(0)};case 1:return{description:(0,N.t)("in_product_help_and_learning.popular_resources.explore_more_features.details.description"),webm:(0,x.ck)("23c86354e978f77d1ca96b6cc52dfdc216f5a99d"),mp4:(0,x.ck)("fd204bb233c3be09b2e29f8621d93342c24b07af"),articles:Q(1)};case 2:return{description:(0,N.t)("in_product_help_and_learning.popular_resources.create_components.details.description"),webm:(0,x.ck)("0f0aad5b442ba063078c23b06010aab77ecf0c07"),mp4:(0,x.ck)("34285a0d04fb97f14cc2611ddc825950aec93300"),articles:Q(2)}}}(t.resource)}),n.createElement("div",null,n.createElement(g.fu,{name:"Second Level"},n.createElement(e_,null),n.createElement("div",{className:h.s.flex.flexColumn.p16.pt8.pb0.$},n.createElement("p",{className:h.s.font16.colorText.fpl__textHeadingLargeFontWeight.pb8.$},t.title),a))))}function eS({details:e}){let t=(0,F.Yj)(),l=(0,y.Xr)(F.J9),a=(0,y.Xr)(F.QU);return n.createElement(n.Fragment,null,n.createElement("p",null,e.description),n.createElement("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:h.s.wFull.hAuto.borderBox.mt16.bRadius5.$},n.createElement("source",{type:"video/webm",src:e.webm}),n.createElement("source",{type:"video/mp4",src:e.mp4})),n.createElement("div",{className:h.s.flex.flexColumn.gap16.pt24.$},e.articles.map(e=>n.createElement("span",{key:e.displayString,className:h.s.colorTextBrand.cursorPointer.alignLeft.fpl__textBodyMediumStrongFontWeight.$},n.createElement($.$z,{variant:"link",trackingProperties:{articleId:e.articleId},onClick:async()=>{let n=await t(e.articleId);n&&(l(3),a(n))}},e.displayString)))))}function ex(){let e=(0,F.Yj)(),t=(0,y.Xr)(F.QU);return n.createElement("button",{key:"design-an-interactive-button",className:h.s.radiusMedium.b1.colorBorder.flex.flexRow.m16.cursorPointer.overflowHidden.$,style:q.sx.add({height:"74px"}).$,onClick:async()=>{let l=await e(0x130e9f996b97);l&&t(l)}},n.createElement(J.oW,{src:(0,x.ck)("c657cef6e7f2fec74ceef573832e097f2d0ce4cd"),alt:"",style:q.sx.m0.add({width:"108px",height:"74px",borderRadius:"var(--radius-medium) 0 0 var(--radius-medium)"}).$}),n.createElement("div",{className:h.s.flex.flexColumn.gap2.m12.font11.ellipsis.alignLeft.$,style:q.sx.add({margin:"auto 12px"}).$},n.createElement("p",{className:h.s.colorText.fpl__textBodyMediumStrongFontWeight.$},(0,N.tx)("in_product_help_and_learning.article.design_an_interactive_button")),n.createElement("p",{className:h.s.colorTextSecondary.$},(0,N.tx)("in_product_help_and_learning.design_an_interactive_button.description")," \u2022"," ",(0,N.tx)("in_product_help_and_learning.minute_estimate",{minutes:20}))))}var ew=l(376852),eT=l(256350),eN=l(142896),eI=l(554326),eA=l(254320),eM=l(518136);function eP({view:e}){let{inProductHelpViewType:t}=(0,F.A5)(),l=(0,eI.J2)(a.Ez5.uiState().inProductHelpSidePanelWidth);return"side_panel"!==t?null:n.createElement(eT.V,null,n.createElement(eM.bo,null,n.createElement(eA.lY,{className:v()("dynamic_panel--sidePanelPosition--YOgLo",eN.Dm),size:l,onResize:e=>{!function(e){let t=(0,ew.qE)(e,F.Jm,F.tL);a.Ez5?.uiState().inProductHelpSidePanelWidth.set(t)}(e)},side:"left","data-cancel-insertable-resource-drag-and-drop":!0},n.createElement("div",{className:"dynamic_panel--sidePanelContainer--4KgPk",style:{width:`${l}px`},"data-testid":"in-product-help-side-panel"},e))))}function eL({propertiesPanelWidth:e}){let t;let{inProductHelpViewType:l,hideInProductHelpView:a,updateInProductHelpViewOnWindowWidthResize:r}=(0,F.A5)(),i=(0,y.md)(F.J9);return(1===i?t=n.createElement(eo,{isFloatingModal:"floating_modal"===l}):2===i?t=n.createElement(ek,null):3===i&&(t=n.createElement(eC,null)),n.useEffect(()=>{let e=(0,f.s)(()=>{"hidden"!==l&&r()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[l,e,r]),n.useEffect(()=>()=>a(),[a]),"side_panel"===l)?n.createElement(g.fu,{name:"In Product Help Panel"},n.createElement(eP,{view:t})):"floating_modal"===l?n.createElement(g.fu,{name:"In Product Help Floating"},n.createElement(eu,{propertiesPanelWidth:e,view:t})):null}var eO=l(699313),eR=l(957070);function eF({boundaryKey:e,children:t}){let l=(0,p.aV)(),f=(0,d.q)(),y=(0,p.p8)("topLevelMode"),g=(0,_.iZ)(),E=l?u.R.topLevelMode:y,h=(0,m.TY)(),b=(0,s.GS)(),C=(0,o.k)(),v=E===a.lyf.LAYOUT||E===a.lyf.BRANCHING||h||!!g&&E===a.lyf.PREVIEW||b&&E===a.lyf.HISTORY,k=(0,c.qw)();(0,i.tt)();let{inProductHelpViewType:S}=(0,F.A5)(),{setPropertiesPanelCollapsed:x}=(0,i.iT)();return(n.useEffect(()=>{C&&x(!0)},[x,C]),C)?n.createElement("div",{className:eR.KF},n.createElement(eO.v2,null)):n.createElement(r.tH,{boundaryKey:e,fallback:r.H4.NONE_I_KNOW_WHAT_IM_DOING},v&&f&&n.createElement(n.Fragment,null,t,"hidden"!==S&&n.createElement(eL,{propertiesPanelWidth:k})))}},316397:(e,t,l)=>{l.d(t,{k:()=>E});var n=l(848318),a=l(301168),r=l(660376),i=l(186606),s=l(940807),o=l(382902),c=l(813321),d=l(797688),u=l(995218),m=l(963307),p=l(601167),_=l(554326),f=l(469888),y=l(747174),g=l(744351);function E({children:e,isShown:t,centerInFrame:l,anchorToRect:r,showInReadOnly:s,respectPreferredPosition:o,disableAnimation:c,zIndex:d,obstacleMargin:u}){let f;let[y,E]=n.useState(!1),[b,C]=n.useState(!1),v=n.useRef(null),{markPositionChanged:k,markSelectionChanged:S}=(0,g.LP)(v),x=(0,a.d4)(({mirror:{appModel:e}})=>[i.QOV.DEFAULT,i.QOV.SELECTING_TEXT,i.QOV.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),w=(0,a.d4)(({mirror:{appModel:e}})=>e.isReadOnly),T=(0,p._X)({subscribeToUpdates_expensive:t}),N=(0,_.J2)(i.Ez5.canvasViewState().selectionBoundingRect),I=(0,_.J2)(i.Ez5.canvasViewState().inlineMenuTarget),A=r||I?.boundingBox||N,M=(0,g.JI)(),P=(0,a.d4)(e=>e.mirror.sceneGraphSelection),L=(0,m.kl)("isTableSublayerSelected"),O=(f=i.cfv.ABOVE,I?.preferredPosition?f=I.preferredPosition:L&&(f=i.cfv.BELOW),f),R=!!M||!T||!A||!x||w&&!s||!t;n.useEffect(()=>{(R||b)&&y&&E(!1)},[R,y,b]);let F=T?.offsetX||0,D=T?.offsetY||0;return(n.useEffect(()=>{E(!1)},[P,F,D]),n.useEffect(()=>{S(P)},[P,S]),R)?n.createElement(g.C_,{disableAnimation:c,ref:v},null):n.createElement(h,{animationContainerRef:v,boundingBox:A,centerInFrame:l,disableAnimation:c,isHovering:y,markPositionChanged:k,obstacleMargin:u,preferredRelativePosition:O,respectPreferredPosition:o,setIsHovering:E,setSizeChanged:C,viewport:T,zIndex:d},e)}function h({children:e,viewport:t,animationContainerRef:l,centerInFrame:a,boundingBox:m,preferredRelativePosition:_,setSizeChanged:E,isHovering:h,setIsHovering:b,markPositionChanged:C,respectPreferredPosition:v,disableAnimation:k,zIndex:S,obstacleMargin:x}){let[w,T]=(0,o.fp)(f.f),N=w.positionRelativeToSelection,I=n.useRef(null),A=(0,u.lg)(),M=(0,g.v2)(),P=a?0:M,L=n.useRef(null),O=(0,d.FQ)(L,x),R=(0,p.Yb)(t,m),F=n.useMemo(()=>({...R,x:R.x+t.x,y:R.y+t.y}),[R,t]),D=n.useCallback((e,l,n,a)=>{if(t){let r=e-t.x,s=l-t.y,o=(0,p.$$)(t,{x:r,y:s-a/window.devicePixelRatio});i.glU.figjamInlineMenuPositionUpdate(o.x,o.y,n.height)}C({x:e+n.width/2,y:l+n.height/2});let r=(0,g.iv)(F,e,l,_);N!==r&&T({type:"SET_POS_RELATIVE_TO_SELECTION",payload:r})},[t,C,F,N,T,_]),K=n.useCallback((e,t,l)=>{switch(l){case i.cfv.ABOVE:return[(0,y.Al)(e,t),a?(0,y.tJ)(e,t):(0,y.T1)(e,t,P)];case i.cfv.BELOW:return[(0,y.Al)(e,t),a?(0,y.tJ)(e,t):(0,y.DH)(e,t,P)];case i.cfv.LEFT:return[(0,y.Dl)(e,t,20),a?(0,y.tJ)(e,t):e.y];case i.cfv.RIGHT:return[(0,y.Yh)(e,20),a?(0,y.tJ)(e,t):e.y];default:(0,r.xb)(l)}},[P,a]),B=n.useCallback((e,t,l)=>{let[n,a]=K(e,t,l);return s.r.fromOriginAndSize(n,a,t.width,t.height)},[K]),H=n.useCallback((e,t,l,n,r)=>!a&&l===i.cfv.ABOVE&&n.top()>r.top()?B(e,t,i.cfv.BELOW):!a&&l===i.cfv.BELOW&&n.top()<r.top()?B(e,t,i.cfv.ABOVE):l===i.cfv.LEFT&&n.left()>r.left()?B(e,t,i.cfv.RIGHT):l===i.cfv.RIGHT&&n.left()<r.left()?B(e,t,i.cfv.LEFT):n,[B,a]),V=n.useCallback((e,l,n,a)=>{let r=s.r.fromOriginAndSize(t.x,t.y,t.width,t.height),i=B(e,l,_),o=O(i,r,a),c=H(e,l,_,o,i);return c===o||v||(o=O(c,r,a)),[o.left(),o.top()]},[_,v,t.height,t.width,t.x,t.y,O,B,H]),[G]=(0,c.A)((0,p.ZT)(R,t),500);if(!G)return n.createElement(g.C_,{disableAnimation:k,ref:l},null);let W="whiteboard"===A&&h?{transition:"transform 0.1s"}:{};return W.WebkitUserSelect="none",n.createElement(y.lM,{frozen:h,offset:P,onMouseEnter:()=>{b(!0),I.current&&clearTimeout(I.current),I.current=null},onMouseLeave:()=>{I.current=setTimeout(()=>b(!1),100)},onPosition:D,positionXY:V,setSizeChanged:E,style:W,targetRect:F,zIndex:S},n.createElement("div",{ref:L},n.createElement(g.C_,{disableAnimation:k,ref:l},e)))}},561882:(e,t,l)=>{l.d(t,{b:()=>S,A:()=>k});var n=l(848318),a=l(353317),r=l(442393),i=l(382902),s=l(781239),o=l(967688),c=l(863270),d=l(696786),u=l(403451),m=l(535884),p=l(84849),_=l(720722),f=l(263336),y=l(17753),g=l(520804),E=l(379889),h=l(419515),b=l(16808),C=l(623519),v=l(773612);function k({entrypoint:e,hideIfNoUpdates:t,initialTabOverride:l}){let a=(0,d.GS)(),s=(0,E.Xm)(),c=(0,i.md)(p.Lc),f=(0,i.md)((0,m.Xh)(s)),y=(0,g.c)(),{isLibraryModalShown:b,onToggleLibraryModal:C}=(0,u.u)({entrypoint:e,modalType:"editor",initialTab:l??(y?_.Wv.RECOMMENDED:a&&c?_.Wv.UPDATES:_.Wv.LIBRARIES)}),v=n.useMemo(()=>c?(0,o.t)("fullscreen.libraries_button.tooltip.updates_to_pull"):f?(0,o.t)("fullscreen.libraries_button.tooltip.updates_to_push"):(0,o.t)("fullscreen.libraries_button.tooltip.no_updates"),[c,f]),k=c||f;(0,h.Pf)({showBadge:k,hasChangesToPull:c,disabled:!a});let S=!(t&&!c&&!f);return{expanded:b,label:v,icon:r.l,onClick:C,shouldShow:S,isUI3:a,badge:k}}function S({recordingKey:e,onSetKeyboardNavigationElement:t,...l}){let{expanded:a,label:r,icon:i,onClick:c,shouldShow:d,isUI3:u,badge:m}=k(l);return d?n.createElement("div",{className:"library_modal_button--teamLibraryIcon--EBc7q","data-onboarding-key":"library"},u?n.createElement(x,{"aria-label":r,"aria-expanded":a,ref:t,recordingKey:s.Pt(e,"teamLibrary"),onClick:c,htmlAttributes:{"data-onboarding-key":f.D}},n.createElement(i),m?n.createElement("div",{className:"library_modal_button--badgeContainer--ebOHQ"},n.createElement("span",{className:"library_modal_button--updatesBadge--B4nW-","data-testid":"library-button-badge"})," "):null):n.createElement(b.o5,{ref:t,"data-onboarding-key":f.D,"data-tooltip":(0,o.t)("fullscreen.libraries_button.tooltip.no_updates"),"data-tooltip-type":y.Ib.TEXT,fallbackSvg:v.A,innerText:"Team Library",onClick:c,recordingKey:s.Pt(e,"teamLibrary"),selected:a,svg:C.A})):null}let x=(0,c.tf)(a.d)},712964:(e,t,l)=>{l.d(t,{m:()=>to,w:()=>ts});var n=l(848318),a=l(301168),r=l(402923),i=l(622518),s=l(93275),o=l(309876),c=l(19180),d=l(382902),u=l(989232),m=l(410441),p=l(875002),_=l(63163),f=l(857607),y=l(454805),g=l(561258),E=l(297638),h=l(967688),b=l(6068),C=l(925085),v=l(645027),k=l(813147),S=l(438071),x=l(353231),w=l(526867),T=l(389541),N=l(992288),I=l(901558),A=l(695920),M=l(730143),P=l(318147),L=l(407638),O=l(138528),R=l(491727),F=l(693964);function D(e){let t=(0,A.RR)(),l=(0,O.D6)("useCanViewPlaygroundQuery"),r=(0,a.d4)(L.getPermissionsState),i=(0,M.q5)(),s=a.d4(R.x)?.id,{currentUserOrgId:o}=r,c=!!(o&&(0,L.canGuestOrg)(o,r)),u=!!(s&&(0,L.hasActiveEduTeam)(r,s));return(0,n.useMemo)(()=>l.transform(l=>{if(!i||!s)return!1;if(c)return!0;if(t){if(l.seatTypeLicenseTypes?.includes(P.G_.DESIGN))return!0}else if(l.designPaidStatus===P.dQ.FULL)return!0;return!!u||d.zl.get(F.TG).has(e)}),[l,i,s,c,t,u,e])}var K=l(397697),B=l(162394),H=l(97795),V=l(303397),G=l(319533),W=l(277454),$=l(948956),U=l(535884),z=l(720722),j=l(475166),X=l(446951),Y=l(775030),J=l(908307),q=l(336004),Z=l(399906),Q=l(695816),ee=l(937629),et=l(175393),el=l(615233),en=l(410725),ea=l(48908),er=l(579898),ei=l(809543),es=l(292024),eo=l(413020),ec=l(900980),ed=l(87148),eu=l(180294),em=l(55116),ep=l(253332),e_=l(361053),ef=l(957845),ey=l(308205);let eg="asset_file_path--path---PrgD text--fontPos11--2LvXf text--_fontBase--QdLsd",eE="asset_file_path--skeletonText--PIxni";function eh({assetFileKey:e,assetLibraryKey:t,assetNodeId:l}){let r=(0,e_.ol)(),i=(0,eu.sZ)(),s=!!i||(0,ep.w5)(r),o=i?.id,{fileContext:d,fileName:u,isPresetLibrary:m,isLoading:p}=function(e,t){let l=(0,en.Rs)(em.ffQ,{libraryKey:t},{enabled:(0,c.k)().dse_lk_asset_file_path}),r=(0,en.Rs)(em.epW,{fileKey:e},{enabled:!(0,c.k)().dse_lk_asset_file_path}),i="loading"===(0,el.u4)("dse_lk_asset_file_path",l.status,r.status),s=n.useMemo(()=>(0,c.k)().dse_lk_asset_file_path?l.data?.libraryKeyToFile?.file:r.data?.file,[r.data?.file,l.data?.libraryKeyToFile?.file]),o=function(e,t){let l=(0,a.d4)(e=>e.hubFiles)[e];return(0,es.wJ)(e)&&l?(0,ei.qD)(l).name:t}(e,s?.name),d=n.useMemo(()=>(0,c.k)().dse_lk_asset_file_path?l.data?.libraryKeyToFile?.hubFile?.currentHubFileVersion?.name??s?.name:o,[s?.name,o,l.data?.libraryKeyToFile?.hubFile?.currentHubFileVersion?.name]),u=(0,ed.E_)(e),m=(0,ed.fd)(t),p=(0,el.u4)("dse_lk_asset_file_path",m,u);return n.useMemo(()=>({fileContext:s,fileName:d,isPresetLibrary:p,isLoading:i}),[s,d,i,p])}(e,t),_=function(e,t){let l=(0,eo.b)({libraryKey:e,nodeId:t}),r=(0,a.d4)(M.tB);return n.useMemo(()=>{if(r?.libraryKey===e)return null;let t=l.data;return null==t?null:t.link},[e,r,l])}(t,l),f=d?.teamLimitedInfo?.id,y=f?function(e,t){let l=location.origin;return t?`${l}/files/${t}/team/${e}`:`${l}/files/team/${e}`}(f,o):void 0,g=d?.teamLimitedInfo?.name,h=f&&g&&s,b=d?.computedWorkspace?.workspace?.id,C=b&&o?ef.fO(b,o):void 0,v=d?.computedWorkspace?.workspace?.name,k=b&&v&&s;return p?n.createElement("div",{className:eg,"data-testid":"asset-file-path-loader"},n.createElement(ea.Wi,{className:eE,opacity:50})," ",s&&n.createElement(n.Fragment,null,"/",n.createElement(ea.Wi,{className:eE,opacity:50}))):n.createElement("div",{className:eg},k&&n.createElement(n.Fragment,null,n.createElement(er.q,{tooltipText:v},n.createElement(ey.X,{href:C??"",newTab:!0},v)),"/"),h&&n.createElement(n.Fragment,null,n.createElement(er.q,{tooltipText:g},n.createElement(ey.X,{href:y??"",newTab:!0},g)),"/"),n.createElement(er.q,{tooltipText:u},_?n.createElement(ey.X,{href:_,newTab:!0},u):n.createElement("span",null,u)),m&&n.createElement("div",{className:E.s.flex.alignCenter.justifyCenter.ml2.$},n.createElement(ec.E,{libraryKey:t,showTooltip:!0})))}var eb=l(143823),eC=l(186606),ev=l(865114),ek=l(156137),eS=l(439404),ex=l(531788),ew=l(658029),eT=l(715627),eN=l(345249),eI=l(264478),eA=l(949325),eM=l(720522),eP=l(401970),eL=l(954849),eO=l(336726),eR=l(696786),eF=l(355755),eD=l(555958),eK=l(17753),eB=l(42725),eH=l(796490),eV=l(16808),eG=l(870567),eW=l(173926),e$=l(912873),eU=l(806362),ez=l(109068);function ej({assetKey:e,type:t,updatedAt:l}){let a=(0,ez.R8)({assetKey:e,type:t}),{avatar:r,authorName:i}=n.useMemo(()=>{if("loaded"!==a.status||!a.data?.assetAttribution)return{avatar:null,authorName:null};let e=(0,eG.oA)(a.data.assetAttribution);if(!e)return{avatar:null,authorName:null};if(e.type===P.GC.COMMUNITY)return{avatar:n.createElement(eU.e,{entity:(0,ez.M)(e),size:e$.Pf.SMALL}),authorName:e.name};let t=(0,ez.G5)(e);return null!=t&&t.img_url&&(t.handle||t.name)?{avatar:n.createElement(e$.H8,{user:t,size:e$.Pf.SMALL}),authorName:t.handle}:{avatar:null,authorName:null}},[a]);return"loading"===a.status?n.createElement(ea.Wi,{className:E.s.h16.w100.$,animationType:ea.JR.LIGHT_SHIMMER}):r&&i?n.createElement("div",{className:"asset_updated_details--updatedAtAvatar--uf4Gy"},r,n.createElement("span",{className:"asset_updated_details--handle--63B8y"},i),l?n.createElement(n.Fragment,null,n.createElement("span",{className:"asset_updated_details--dot--SoliI"},"\xb7"),n.createElement(eW.h1,{date:l})):null):l?n.createElement("div",{className:"asset_updated_details--updatedAt--eam-d"},(0,h.tx)("design_systems.assets_panel.updated_at",{updatedAt:n.createElement(eW.h1,{date:l})})):null}var eX=l(329772),eY=l(217958),eJ=l(372209),eq=l(230645),eZ=l(689324);function eQ({renderedAssetData:e,errorType:t,canViewPlayground:l,onInsert:a,shouldHideError:r,onSetShouldHideError:i}){let s=(0,eF.T3)(),[o,d]=n.useState(!1),u=(0,eR.GS)();n.useEffect(()=>{d(!1),i(!1)},[e.asset,i]);let m=(0,eX.S)(e.asset),p=(0,eH.Y)(e.asset),_=n.useMemo(()=>(0,eD.kH)(e.asset.name??""),[e.asset.name]),f=n.useRef(null),y=(0,eN.NG)({text:_,textRef:f}),g=e.asset,E=n.useMemo(()=>{let t=e.nodeData?.playgroundGUID;if(!t)return"";let l=s.get(t);if(!l)return"";let n=s.get(l.symbolId??"");return n?(n.isState?n.parentGuid:n.guid)??"":""},[e,s]),b=n.useMemo(()=>{if(t)return{errorType:t,shouldHideError:r,setShouldHideError:i}},[t,r,i]),C=(0,h.tx)("design_systems.assets_panel.insert_instance");return n.createElement("div",{className:"component_flyout_body--bodyWrapper--CoGX-"},m&&!o&&n.createElement("div",{className:"component_flyout_body--updateBanner--ETDK5 component_flyout_body--_bodyPadding--KrB6p text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(eA.z,{orientation:"vertical",iconSrc:eq.A,onClose:()=>d(!0),variant:"design"},(0,h.tx)("design_systems.assets_panel.update_banner"))),n.createElement("div",{className:"component_flyout_body--headerFileNameWrapper--MH4jz component_flyout_body--_bodyPadding--KrB6p"},n.createElement("h2",{className:"component_flyout_body--header--3LXSQ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa","data-tooltip":y?_:void 0,"data-tooltip-type":eK.Ib.TEXT,ref:f},_),!!p&&p>1&&n.createElement("div",{className:"component_flyout_body--numVariants--nureW"},(0,h.tx)("design_systems.assets_panel.variant_count",{numVariants:p}))),n.createElement("div",{className:"component_flyout_body--descriptionWrapper--wFyRa component_flyout_body--_bodyPadding--KrB6p"},n.createElement(eY.i,{description:g.description,description_rt:g.description_rt})),g.updated_at&&n.createElement("div",{className:"component_flyout_body--updatedWrapper--q4V48 component_flyout_body--_bodyPadding--KrB6p"},n.createElement(ej,{assetKey:(0,W.Av)(g),type:g.type,updatedAt:g.updated_at})),n.createElement("div",{className:"component_flyout_body--buttonWrapper--Sb1Mq component_flyout_body--_bodyPadding--KrB6p"},(0,c.k)().dse_fpl_wave_1&&u?n.createElement(ex.IK,{onClick:a,recordingKey:"component_flyout_insert"},C):n.createElement(eI.$$,{onClick:a,fullWidth:!0,recordingKey:"component_flyout_insert"},C)),l&&!e?.nodeData&&!b&&n.createElement("div",{className:"component_flyout_body--skeletonWrapper--urKH5"},n.createElement(ea.Wi,{className:"component_flyout_body--skeletonHeader--VoEY3",opacity:50}),n.createElement(ea.Wi,{className:"component_flyout_body--skeletonBody--pINXr",opacity:50})),l&&(e?.nodeData||b)&&n.createElement(eF.q0.Provider,{value:s},n.createElement("div",{className:"component_flyout_body--propsContainer--w8pmU"},n.createElement(eO.x,{componentProps:e.nodeData?.componentProps,containerWidth:eB.O2.UNBOUNDED,errorData:b,instanceSwapPickerInitialHeight:200,instanceSwapPickerInitialPosition:"right-center",label:n.createElement(e0,{renderedAssetData:e}),playgroundGUID:e.nodeData?.playgroundGUID,productComponentGUID:E,sceneGraph:s,shouldShowDividerAboveProps:!0})),n.createElement("div",{className:"component_flyout_body--modeContainer--8n5p5"},n.createElement(eL.b,{fill:!0,modes:e.nodeData?.modeData||{}}))))}function e0({renderedAssetData:e}){let t=n.useCallback(()=>{e.refetchAndResetScene()},[e]);return n.createElement("div",{className:"component_flyout_body--playgroundHeader--lQfDc"},n.createElement("div",{className:"component_flyout_body--flyoutLabel--6Y6lR text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(eM.B,{className:"component_flyout_body--headerIcon--FHdrw",svg:eJ.A}),(0,h.tx)("design_systems.assets_panel.playground_label")),(0,c.k)().dse_fpl_wave_1?n.createElement("span",{className:"component_flyout_body--resetButtonContainer--fCSjD"},n.createElement(ew.K,{"aria-label":(0,h.t)("design_systems.playground.reset_properties"),onClick:t,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps",htmlAttributes:{"data-tooltip":(0,h.t)("design_systems.playground.reset_properties"),"data-tooltip-type":eK.Ib.TEXT}},n.createElement(eP.U,{svg:eZ.A},n.createElement(eT.N,null)))):n.createElement(eV.K0,{className:"component_flyout_body--resetButton--wVXDQ",svg:eZ.A,onClick:t,"data-tooltip":(0,h.t)("design_systems.playground.reset_properties"),"data-tooltip-type":eK.Ib.TEXT,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps"}))}var e1=l(323201),e3=l(362640),e2=l(829640),e4=l(446839),e5=l(500527);let e8="component_flyout_thumbnail--thumbnail--p3jV2";function e6({canViewPlayground:e,renderedAssetData:t,onCloseIfHidden:l,setFlyoutHidden:a,sectionPosition:r,sectionNameForTracking:i,sectionDepth:s}){let o=n.useCallback(()=>{a(!0)},[a]),{onInsertableResourcePointerDown:c,dragState:d}=(0,e2.j)({resource:t.asset,isList:!1,clickToInsert_DEPRECATED:!1,sourceForTracking:e5.iV,fromPlayground:e,recomputeCancelRectsOnPointerUp:!0,onDragStart:o,onPointerUpWithoutInsert:l,sectionPosition:r,sectionNameForTracking:i,sectionDepth:s}),u=n.useMemo(()=>{let e=(0,w.zR)(t.asset,null);if(null!=e)return e1.F.format(e)},[t.asset]),m=e7(t.hasChangesToReset,t.nodeData?.modeData??null);return n.createElement("div",{className:"component_flyout_thumbnail--thumbnailWrapper--P38Qq",onPointerDown:c,role:"button",style:u?{backgroundColor:u}:void 0},e&&t?.thumbnailData&&m?n.createElement("img",{className:e8,src:t.thumbnailData.src,alt:(0,h.t)("design_systems.playground.thumbnail_alt"),draggable:!1}):n.createElement(e4.M,{className:e8,draggable:!1,key:(0,I.V)(t.asset),item:t.asset,shouldGenerateLocalThumbnail:!1}),n.createElement(e3.q,{dragState:d,isList:!1,thumbnailOverrideSrc:e&&t?.thumbnailData?t.thumbnailData.src:void 0}))}let e7=(e,t)=>n.useMemo(()=>{if(e)return!0;let l=eC.glU?.getPlaygroundScene();return!!l&&Object.values(t||{}).some(e=>{let t=e.inheritMode;return"MIXED"!==t&&!!t&&eC.CWU?.getVariableSetDefaultModeForScene(e.collectionID,l)!==t.guid})},[e,t]),e9={maxWidth:640,maxHeight:480};function te({asset:e,onInsert:t,onLoaded:l,flyoutHidden:r,onCloseIfHidden:i,setFlyoutHidden:s,sectionPosition:o,sectionNameForTracking:c,sectionDepth:d}){let u=D(e.library_key),[m,p]=n.useState(!1),_=n.useCallback(()=>p(!1),[]),f=(0,eS.MO)({canvasAsset:e,canViewPlaygroundQueryResult:u,onLoaded:l,onError:_,thumbnailOptions:e9}),y=(0,$.H)(),g=(0,a.d4)(e=>e.fileVersion),E=(0,ev.ZC)(g);if(n.useEffect(()=>{f?.state==="LOADED"&&f?.currentAssetData?.nodeData?.playgroundGUID&&null!=E&&E!==g&&(y(),eC.glU.clearPlaygroundScene())},[g,E,y,e.type,f]),!f)return n.createElement("div",{className:"component_flyout--spinner--c-wap"},n.createElement(eb.k,null));let h="LOADED"===f.state?f.currentAssetData:f.previousAssetData,b="ERROR"===f.state?f.errorType:void 0;return n.createElement(ek.k,{name:"props_playground"},n.createElement("div",{className:"component_flyout--wrapper--96Jih"},n.createElement(e6,{renderedAssetData:h,canViewPlayground:u.unwrapOr(!1),onCloseIfHidden:i,setFlyoutHidden:s,sectionPosition:o,sectionNameForTracking:c,sectionDepth:d}),!r&&n.createElement(eQ,{renderedAssetData:h,errorType:b,canViewPlayground:u.unwrapOr(!1),onInsert:t,onSetShouldHideError:p,shouldHideError:m})))}var tt=l(940016),tl=l(789253),tn=l(27776);let ta=(0,m.jz)(tn.LdP),tr=(0,m.jz)(tn.wkK),ti=(0,b.f)();function ts({asset:e,searchSessionId:t,query:l,sectionPosition:m,sectionNameForTracking:b,assetTypeDropdownSelection:A,sectionDepth:P,containerWidth:L,onGetKeyboardNavigationItemById:O,sourceForTracking:R}){let X=n.useRef(null),el=n.useRef(null),en=(0,d.Xr)(tt.T),ea=n.useMemo(()=>ti(e),[e]),er=D(e.library_key),ei=(0,d.md)(F.TG),es=(0,Q.H)(e.library_key),eo=(0,q._9)(e.library_key,"asset_panel_visual_assets_flyout_insert"),{closeFlyout:ec}=(0,tl.JA)(),ed=(0,T.fV)(e.library_key),eu=(0,M.q5)(),em=(0,a.wA)(),ep=(0,a.d4)(e=>(0,U.e_)(e).local.thumbnails),e_=(0,$.H)(),ef=n.useCallback(({source:e})=>{"outside"!==e&&ec()},[ec]),ey=(0,a.d4)(e=>e.instanceSwapPickerShown),eg=(0,Z.k)(),eE=(0,H.tM)();(0,_.h)(()=>{u.definedAnalyticsHandler.trackDefinedEvent("assets_panel.flyout_opened",{assetKey:(0,I.V)(e),assetType:(0,I.q)(e.type),assetLibraryKey:e.library_key,isLocal:e.isLocal,fileParentOrgId:eu?.parentOrgId??void 0,fileTeamId:eu?.teamId??void 0,assetsPanelVersion:eg,partnerType:(0,B.X)(e.library_key),queryId:eE??void 0})}),(0,_.h)(()=>()=>{em((0,v.vq)()),en(!1)}),n.useEffect(()=>{if(!(0,W.dx)(e)||!e.isLocal)return;let t=e.node_id?ep[e.node_id]:null,l=e.type===z.PW.COMPONENT?e.content_hash:e.version;t?.content_hash!==l&&requestAnimationFrame(()=>{let t=(0,w.r2)(e.node_id);null!=t&&em(S.T1({thumbnails:[{nodeId:e.node_id,url:t,type:e.type}],styleKind:z.AT.LOCAL}))})},[e,em,ep]);let eb=n.useCallback(()=>{requestAnimationFrame(()=>X?.current?.ensureModalOnScreen())},[]),eC=n.useCallback(()=>{ey?.isShown&&em((0,v.vq)())},[em,ey]),ev=(0,H.Hu)(e.library_key),ek=(0,ee.Nv)(!0),eS=(0,Y.CK)(),ex=n.useCallback(()=>{if("loaded"!==er.status)return;let n=V.Y5.getViewportInfo(),a={canvasPosition:{x:n.offsetX,y:n.offsetY},insertAsChildOfCanvas:!0,percentageOffset:new y.Mi(.5,.5),storeInRecentsKey:j.$A.Design,useSmartPositioning:!0,fromPlayground:er.data};e.type===z.PW.COMPONENT?(em((0,k.FU)({item:e,...a})),es&&eo(!0)):e.type===z.PW.STATE_GROUP?em((0,k.b$)({item:e,...a})):e.type===z.PW.MODULE&&em((0,k.Bs)({item:e,...a,insertionCallback:()=>V.Y5.triggerAction("commit")}));let i={aiResultsEnabled:ek,assetKey:(0,W.Av)(e),assetType:(0,I.q)(e.type),queryId:eE??void 0,scoreAi:e.ai_score??void 0,scoreLexical:e.lexical_score??void 0,assetTypeDropdownSelection:A,assetsPanelVersion:eg,fileKey:eu?.key??void 0,fileParentOrgId:eu?.parentOrgId??void 0,fileTeamId:eu?.teamId??void 0,isExample:(0,K.o)(e,ei),libraryKey:e.library_key,partnerType:(0,B.X)(e.library_key),sectionDepth:P,sourceSection:b??void 0,productType:(0,x.pi)({editorType:eu?.editorType})};u.definedAnalyticsHandler.trackDefinedEvent("assets_panel.flyout_insert",{...i,libraryType:ev,searchSessionId:t??void 0,searchQuery:l,sectionPosition:m}),R!==J.tM?u.definedAnalyticsHandler.trackDefinedEvent("asset_search.result_inserted",{...i,libraryType:ev,position:m,reciprocalRank:(0,r.Et)(m)?1/(1+m):void 0,query:l,sessionId:t??void 0,entryPoint:"assets-panel",componentSuggestionSessionId:eS}):(0,J.k1)({...i,position:m})},[eS,er.status,er.data,e,ek,eE,A,eg,eu?.key,eu?.parentOrgId,eu?.teamId,eu?.editorType,ei,P,b,ev,t,l,m,em,es,eo,R]);n.useEffect(()=>{let e=e=>{let t=X.current?.getEl()??el.current;if(t){if(!t.contains(e.target)){if(en(!1),(0,p.NX)(e.target,"data-does-not-dismiss-component-flyout"))return;ec();return}en(!0)}};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[ec,em,en]);let ew=n.useCallback((t,l)=>{let n=t.code??t.key,a=(0,I.V)(e),r=O?.(a);if(!r)return;let i=t.keyCode===f.Uz.TAB,s=t.shiftKey;if((0,g.c2)(t,!1)){r.getItemAbove()?.focus(),l?.();return}if((0,g.Nt)(t,!1)){r.getItemBelow()?.focus(),l?.();return}if((0,g.yn)(n,!1)||i&&s){r.getItemToTheLeft()?.focus(),l?.();return}if((0,g.lv)(n,!1)||i&&!s){r.getItemToTheRight()?.focus(),l?.();return}if("Enter"===n){ex(),l?.();return}},[e,ex,O]),eT=n.useCallback(e=>{ew(e.event,()=>e.accept())},[ew]);var eN=n.createElement("div",{className:E.s.minW0.flex1.$},n.createElement("h1",null,(0,h.t)("design_systems.assets_panel.details")),n.createElement(C.Y,{spacing:0,direction:"horizontal"},e&&n.createElement(eh,{assetFileKey:ea,assetLibraryKey:e.library_key,assetNodeId:e.node_id}),ed&&n.createElement("div",{className:E.s.pr4.$},n.createElement(N.KP,{libraryKey:e.library_key,variant:"secondary",tooltipLocation:"below"}))));let[eI,eA,eM]=(0,G.J)(!1),eP=n.useCallback(()=>{eI.current&&e_()},[eI,e_]);return"loaded"!==er.status?null:(0,c.k)().dse_fpl_wave_2?n.createElement(i.bL,{onClose:ef,defaultPosition:new y.Mi(L+1,ta),width:tr,htmlAttributes:{"data-testid":"component-flyout-modal",id:tl.Ev,hidden:eA,onKeyDown:ew},ref:el,maxHeight:"100vh"},n.createElement(s.vo,null,n.createElement(s.Y9,null,n.createElement(o.J,{style:{margin:0,minWidth:0}},eN)),n.createElement(s.nB,{style:{padding:0},scrolling:"none"},n.createElement(te,{asset:e,onLoaded:eb,onInsert:ex,flyoutHidden:eA,onCloseIfHidden:eP,setFlyoutHidden:eM,sectionPosition:m,sectionNameForTracking:b,sectionDepth:P})))):n.createElement(et.vx,{ref:X,allowAutoExpanding:!0,alwaysEnsureModalOnScreen:!0,canRenderBelowViewport:!1,dataTestId:"component-flyout-modal",headerSize:"large",hidden:eA,id:tl.Ev,initialPosition:new y.Mi(L+1,ta),initialWidth:tr,noCancelDragAndDrop:!0,onClick:eC,onClose:e_,onKeyDown:eT,title:eN,truncateTitleText:!0},n.createElement("div",{"data-not-draggable":!0},n.createElement(te,{asset:e,onLoaded:eb,onInsert:ex,flyoutHidden:eA,onCloseIfHidden:eP,setFlyoutHidden:eM,sectionPosition:m,sectionNameForTracking:b,sectionDepth:P})))}let to=(0,X.Ju)(ts,tl.VI)},500527:(e,t,l)=>{l.d(t,{iV:()=>r,se:()=>i});var n=l(848318);l(672154),l(186606),l(720722);var a=l(789253);let r="asset-description-preview";function i(){let{closeFlyout:e}=(0,a.JA)();return n.useCallback(()=>{e()},[e])}},185643:(e,t,l)=>{l.d(t,{A:()=>p,d:()=>m});var n=l(848318),a=l(301168),r=l(989232),i=l(550984),s=l(730143),o=l(922484),c=l(103789),d=l(925144),u=l(399906);function m({allElements:e}){_(n.useCallback(()=>{let t=e.length,l=0,n=0;for(let t of e)if(!t.key.includes("localComponents")){let e=function e(t){if(t.type===i.zq.TILE)return 1;if(!(0,i.We)(t)||!t.isExpanded)return 0;{let l=0;for(let n of t.children)l+=e(n);return l}}(t);l+=e,n+=Math.min(e,20)}return{numLibraries:t,numComponents:l,numComponentsWithLimit:n}},[e]))}function p(e){_(n.useCallback(()=>{let t=0,l=0,n=0,{allLibrariesUnsorted:a}=e;for(let[r,i]of a)if(i.type===c.yW.DESIGN){if(e.localAssets.libraryKey===r){i.numComponents>=0&&(t+=1);continue}t+=1,l+=i.numComponents,n+=Math.min(i.numComponents,20)}return{numLibraries:t,numComponents:l,numComponentsWithLimit:n}},[e]))}function _(e){let t=(0,a.d4)(e=>e.loadingState),l=(0,a.d4)(e=>e.fileVersion),i=(0,s.q5)(),c=(0,u.k)(),m=i&&null!=l&&(0,d.yD)(i.key)||null,p=!(null!=m&&(0,o.D2)(t,m));n.useEffect(()=>{p||function(e,t,l){if(f)return;let{numLibraries:n,numComponents:a,numComponentsWithLimit:i}=e();(0,r.trackEvent)("Assets Panel Initial Load",{numLibraries:n,numComponents:a,numComponentsWithLimit:i,assetsPanelVersion:t,fileKey:l?.key,fileTeamId:l?.teamId??void 0,fileOrgId:l?.parentOrgId??void 0}),f=!0}(e,c,i)},[e,p,i,c])}let f=!1},901878:(e,t,l)=>{l.d(t,{V:()=>C});var n=l(848318),a=l(301168),r=l(938982),i=l(442393),s=l(989232),o=l(133318),c=l(146968),d=l(264478),u=l(401970),m=l(967688),p=l(174121),_=l(31898),f=l(533737),y=l(957872),g=l(863270),E=l(730143),h=l(679996),b=l(623519);function C(){let e=(0,a.wA)(),t=(0,E.q5)(),l=(0,a.d4)(e=>e.user?.id);if(!t)return null;let C=t.teamId,v=n.createElement(d.Us,{className:"library_upsell_banner--blueLink--bt6GX blue_link--blueLink--9rlnd",onClick:function(){(0,s.trackEvent)("library_upsell_badge_clicked",{fileKey:t?.key,teamId:C,userId:l}),e((0,_.to)({type:p.V,data:{upsellSource:h.b.LIBRARY_UPSELL_BADGE,teamId:C??void 0,openCheckoutInNewTab:!0}}))},trackingProperties:{trackingDescriptor:y.c.UPGRADE_TO_PROFESSIONAL},trusted:!0,role:"button"},(0,m.tx)("design_systems.assets_panel.library_upsell_upgrade"));return n.createElement(c.tH,{boundaryKey:"LibraryUpsellBanner",fallback:c.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:r.e.MONETIZATION_UPGRADES}},n.createElement(g.fu,{name:"library upsell badge",properties:{fileKey:t?.key,teamId:t?.teamId}},n.createElement("div",{className:"library_upsell_banner--bannerBackground--WlTVY"},n.createElement("div",{className:"library_upsell_banner--bannerContainer--SqSHa"},n.createElement(o.Jn,{className:"library_upsell_banner--closeButton--U1sPN",onClick:function(){(0,s.trackEvent)("library_upsell_badge_dismissed",{fileKey:t?.key,teamId:C,userId:l}),e(f.b({has_dismissed_component_sidebar_library_upsell_banner:!0}))}}),n.createElement("div",{className:"library_upsell_banner--bannerContent--SUcpT"},n.createElement("div",{className:"library_upsell_banner--bannerHeader--Lbg8d"},n.createElement(u.U,{svg:b.A,className:"library_upsell_banner--bannerIcon--n5IGN"},n.createElement(i.l,null))),n.createElement("p",{className:"library_upsell_banner--bannerTitle--AN3mP"},(0,m.tx)("design_systems.assets_panel.library_upsell_header")),n.createElement("p",{className:"library_upsell_banner--bannerBody--GSg3l"},(0,m.tx)("design_systems.assets_panel.library_upsell_body",{upgradeToProfessionalPlanLink:v})))))))}},134285:(e,t,l)=>{l.d(t,{g:()=>sc});var n=l(848318),a=l(536384),r=l.n(a),i=l(989232),s=l(354175),o=l(63163),c=l(146968),d=l(135450),u=l(297638),m=l(967688),p=l(292024),_=l(730143),f=l(436999),y=l(837988),g=l(161245),E=l(118287),h=l(957872),b=l(34542),C=l(265098),v=l(355755),k=l(752181),S=l(263336),x=l(391301),w=l(442585),T=l(556049),N=l(136169),I=l(437973);function A(){let e=(0,v.aV)(),t=_.q5()?.canEdit,l=(0,_.MY)(),{show:a,isShowing:r,complete:i}=(0,b.e)({overlay:N.QI3,priority:S.N.SECONDARY_MODAL},[l]),s=(0,E.te)(),{currentView:o}=(0,w.wV)(),c=!!(0,k.f)(g.bo),d="no_figma_basics_onboarding_was_shown_in_current_session"===(0,C.zl)(I.j).currentState;return(0,n.useEffect)(()=>{!e&&t&&s()&&!c&&!d&&o===w.S5.Libraries&&a(),r&&o!==w.S5.Libraries&&i()},[a,i,t,r,s,c,d,o,e]),n.createElement(x.rq,{arrowPadding:g.fg,arrowPosition:T.F_.LEFT_TITLE,description:(0,m.tx)("rcs.visual_assets.explore_within_assets_tab"),disableHighlight:!0,isShowing:r,onClose:i,primaryCta:{label:(0,m.tx)("onboarding_pointers.got_it"),type:"button",onClick:i,ctaTrackingDescriptor:h.c.GOT_IT},targetKey:g.Bs,title:(0,m.tx)("rcs.visual_assets.elevate_your_designs"),trackingContextName:"Visual Asset Packs Tooltip",userFlagOnShow:g.bo})}var M=l(876326);function P({width:e}){return n.createElement(y.p,null,n.createElement("div",{style:{left:`${e}px`,top:"195px"},className:"visual_assets_tooltip_and_target--hiddenNuxAnchor--i4n3a","data-onboarding-key":g.ko}),n.createElement(M.T,null),n.createElement(A,null))}var L=l(775030),O=l(712964),R=l(789253),F=l(901878),D=l(563029),K=l(267670),B=l(599323),H=l(87148),V=l(185643),G=l(410441),W=l(397697),$=l(478581),U=l(561258),z=l(103789),j=l(773511),X=l(39771),Y=l(133212),J=l(19180),q=l(979890),Z=l(206870);let Q="asset_panel_folder--folderButton---mVgX",ee="asset_panel_folder--selected--U7Cz3",et="asset_panel_folder--blankThumbnail--6v5uo";var el=l(540964);let en=(0,G.jz)(el.CT),ea={height:en,width:en},er=n.forwardRef(function({keyPrefix:e,name:t,onClick:l,onContextMenu:a,previewAssetOrUrl:i,recordingKey:s,disabled:o,selected:c,variant:d,customThumbnailData:u,pageInfo:m,hoverable:p,role:_},f){let y=n.createElement(n.Fragment,null,"preview"===d||"preview-no-padding"===d?n.createElement("div",{className:"asset_panel_folder--folderPreview--0ezgC"},i?n.createElement(Z.V,{keyPrefix:e,previewAssetOrUrl:i,type:"preview-no-padding"===d?"no-padding":void 0,customThumbnailData:u,...ea,pageInfo:m}):n.createElement("div",{className:et,style:ea})):n.createElement("div",{className:"asset_panel_folder--folderIcon--FnZdp"},n.createElement(X.x,null)),n.createElement("div",{className:"asset_panel_folder--folderName--CPNC8 ellipsis--ellipsis--Tjyfa"},t),n.createElement("div",{className:r()("asset_panel_folder--folderNextIcon--ZYH9z",{"asset_panel_folder--adjustMargin--uitBT":"icon"===d})},n.createElement(Y.n,null)));return n.createElement("div",{className:"asset_panel_folder--folderContainer--UPeR-",role:_},l?(0,J.k)().dse_fpl_wave_1?n.createElement(j.E,{"aria-label":t,className:r()(Q,{[ee]:c}),onClick:l,ref:f,recordingKey:s,disabled:o,htmlAttributes:{onContextMenu:a}},y):n.createElement(q.GG,{"aria-label":t,className:r()(Q,{[ee]:c}),onClick:l,onContextMenu:a,forwardedRef:f,recordingKey:s,disabled:o},y):n.createElement("div",{className:r()(Q,{[ee]:c,"asset_panel_folder--hover--BjmYh":!!p})},y))});var ei=l(228061),es=l(248971),eo=l(920467);function ec({subtree:e,index:t,keyPrefix:l,depth:a}){let r=(0,ei.sN)(),{folderPath:i,currentView:s}=(0,w.wV)(),[o]=(0,eo.MA)(),{previewAsset:c}=e,{navigateToFolder:d}=(0,w.wV)(),u=n.useCallback(()=>{r("folderRow",d(e.name))},[r,d,e.name]),m=n.useMemo(()=>[z.ON.CONTENTS,z.lM.ASSETS+a,z.tM.FOLDERS,t],[a,t]),{keyboardNavigationItem:p,setKeyboardNavigationElement:_}=(0,U.M3)({path:m,id:e.key,disabled:(i?.length??0)>a}),{focusFirstItem:f,focusSearchBar:y}=(0,es.rl)();(0,es.C0)(p,0===t&&a===(i?.length??0)&&s===w.S5.Assets);let g=(0,es.MB)({onBoth:u,onKeyDown:f,onClick:y}),E=n.useMemo(()=>i&&i.length>a,[i,a]);return n.createElement(er,{name:e.name,onClick:g,keyPrefix:`${l}${e.name}`,previewAssetOrUrl:c,recordingKey:`assetsFolder.${e.name}`,ref:_,disabled:E,variant:"list"===o?"icon":"preview",role:"list"===o?"listitem":"gridcell"})}var ed=l(553857),eu=l(832278),em=l(869143),ep=l(382902),e_=l(901558),ef=l(301168),ey=l(458612),eg=l(588123),eE=l(865114),eh=l(781239),eb=l(540698),eC=l(639239),ev=l(345249),ek=l(925085),eS=l(446244),ex=l(389541),ew=l(949598),eT=l(802348),eN=l(555958),eI=l(931451),eA=l(83742),eM=l(535884),eP=l(700436),eL=l(452086),eO=l(908307),eR=l(168852),eF=l(669465),eD=l(940016),eK=l(329772),eB=l(336004),eH=l(410739),eV=l(357741),eG=l(796490),eW=l(824662),e$=l(709114),eU=l(693964),ez=l(695816),ej=l(444441);let eX="asset_panel_tile--fileName--Skyao ellipsis--ellipsis--Tjyfa",eY="asset_panel_tile--secondary--6CWeS",eJ="asset_panel_tile--nameWrapper--6O-iS",eq="asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",eZ="asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",eQ="asset_panel_tile--tileWrapper--7OwtG asset_panel_tile--_tileWrapperBase--OAJqM",e0="asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM";function e1({asset:e,fileName:t,sourceForTracking:l,thumbLayout:a,thumbHeight:i,thumbWidth:s,displayType:o,viewMode:c,sectionNameForTracking:d,sectionPosition:u,sectionDepth:p,hideInlineName:f,keyboardPosition:y,isFirstTile:g=!1,isExample:E=!1,keyboardPanelDepth:h=0,disableClickPropagation:b=!1,libraryItemTileProps:C,isVisualAsset:v=!1,onSuccessfulAssetInsert:k}){let S=n.useContext(eF.U),{isFlyoutOpen:x}=(0,R.JA)(),T=(0,_.tS)(),N=(0,ep.md)(eU.TG),{currentView:I}=(0,w.wV)(),A=n.useMemo(()=>E??(0,W.Nz)(e,{isPreset:(0,H.lR)(e,N)}),[e,E,N]),M=(0,eK.J)(e,u,d),P=(0,eH.n)(e),L=(0,eT.u)({canSwap:!A,openFileKey:T??"",sourceForTracking:"Asset Panel",insertAsChildOfCanvas:!0}),O=n.useCallback(()=>{x&&!P&&M()},[x,P,M]),F=n.useCallback(()=>{x||S?.onOpenFlyout(e,u,d,p,l)},[x,S,e,u,d,p,l]),D=n.useCallback(e=>{b&&e.stopPropagation(),F()},[b,F]),K=`assetPanelTile.${u}`,B=eh.rf(K,"click",D),V=n.useMemo(()=>({...y,path:[z.ON.CONTENTS,z.lM.ASSETS+h,...y.path]}),[y,h]),{folderPath:G}=(0,w.wV)(),[$]=(0,eo.ye)(),X=I===w.S5.Assets&&G&&$&&(G?.length??0)>h,{setKeyboardNavigationElement:Y,keyboardNavigationItem:q}=(0,U.M3)({...V,id:(0,e_.V)(e),onFocus:O,disabled:X});(0,es.C0)(q,g&&I===w.S5.Assets&&!X);let[Z]=(0,eo.MA)(),Q=(0,eC.N)({colIndex:V.column,rowIndex:V.path[V.path.length-1],isList:"list"===Z,keyboardNavigationItem:q,onComponentInsertSwap:L,onOpenFlyout:F,item:e,sectionNameForTracking:d,sectionPosition:u,shouldRefocusAfterKeyboardInsert:I===w.S5.Recents,sourceForTracking:l===eO.tM?l:eB.mZ}),ee=(0,eV.F)(e,e$.K.ASSETS_PANEL,u,d),et=function(e,t){let l=(0,ef.d4)(eP.dK),n=e.isLocal&&(0,eb.PN)()?(0,ej.eT)(e.node_id,l).join("-"):e.node_id;return eh.rf(`componentThumb.${n}`,"contextmenu",e=>{t(e)})}(e,ee);return n.createElement(n.Fragment,null,n.createElement(j.E,{onClick:B,className:r()("asset_panel_tile--focusableElementWrapper--YzHK7","asset_panel_tile--button--oNPUz",{"asset_panel_tile--transparentBackground--ht3B-":v}),ref:Y,htmlAttributes:{onKeyDown:Q,onContextMenu:et},"aria-describedby":"asset-panel-tile-hint"},n.createElement(e3,{asset:e,disableClickPropagation:b,displayType:o,fileName:t,hideInlineName:f,isVisualAsset:v,libraryItemTileProps:C,onSuccessfulAssetInsert:k,sectionDepth:p,sectionNameForTracking:d,sectionPosition:u,sourceForTracking:l,thumbHeight:i,thumbLayout:a,thumbWidth:s,viewMode:c})),(0,J.k)().dse_fpl_wave_2&&n.createElement(ey.E,{id:"asset-panel-tile-hint","aria-hidden":!0},(0,m.t)("design_systems.assets_panel.asset_tile_sr_hint")))}function e3({asset:e,fileName:t,sourceForTracking:l,thumbHeight:a,thumbWidth:i,sectionNameForTracking:s,sectionPosition:o,sectionDepth:c,hideInlineName:d,displayType:u,libraryItemTileProps:m,isVisualAsset:p,onSuccessfulAssetInsert:_}){let f=(0,ef.wA)(),y=(0,eI.I)(eA.Cn.AssetsPanel),g=(0,ef.d4)(eP.dK),E=(0,ef.d4)(eM.F9),h=(0,ep.md)(eD.T),b=y.searchOption?.type===eR.I.ALL,C=(0,ex.fV)(e.library_key),v=(0,H.fd)(e.library_key),k=(0,ez.H)(e.library_key),S=(0,eB._9)(e.library_key,"asset_panel_visual_assets"),x=b&&(C||v||k),w=n.useRef(null),T=(0,eN.kH)(e.name),N=(0,ev.NG)({text:T,textRef:w}),I=n.useRef(null),A=(0,ev.NG)({text:t??"",textRef:I}),M=!!y.query,P=(0,eH.n)(e),L=(0,eE.ZC)(P);n.useEffect(()=>{P&&!L&&f(eS.jD())},[P,f,L]);let O=e.isLocal&&(0,eb.PN)()?(0,ej.eT)(e.node_id,g).join("-"):e.node_id,R="Local components"===s||"Local private components"===s||e.isLocal,F="grid"===u,D=!d&&F,K=(0,J.k)().api_asset_search_with_scores,B=(0,eG.Y)(e),V=n.useCallback(()=>{(0,eL.$z)(),k&&S(!0),_?.()},[S,k,_]),G={showName:!0,height:a,width:i,draggable:n.useMemo(()=>({sourceForTracking:l,clickToInsert:!1,afterSuccessfulInsert:V,sectionNameForTracking:s,sectionDepth:c}),[V,c,s,l]),shouldHideTooltip:!0,recordingNodePath:O,isSearch:M,useBaseTile:!0,hideNameOverlay:D,numVariants:B,displayType:F?"grid":"list-no-padding",sectionPosition:o,showTooltipImmediately:!1,fileName:N||A?t:void 0,alwaysShowBorder:!1,thumbWrapperClassName:"asset_panel_tile--thumbWrapper--bNG-Y"},W=R?n.createElement(eW.MT,{item:e,isFilePublished:E,...G}):n.createElement(eW.lX,{item:e,...G,...m});return n.createElement("div",{className:p?"asset_panel_tile--visualAssetsGridWrapper--zA9N1 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":F?eZ:eq},n.createElement("div",{className:r()(F?eQ:e0,{"asset_panel_tile--shownInFlyout--7Luo3":P,"asset_panel_tile--selectedFlyoutFocus--GGV8E":P&&h})},W),D&&n.createElement("div",{className:eJ,style:{width:i-2}},n.createElement("span",{className:"asset_panel_tile--name--FG9hg ellipsis--ellipsis--Tjyfa",ref:w},T),n.createElement("div",{className:"asset_panel_tile--caret--x-Vya asset_panel_tile--_caretBase--IZ44d"},n.createElement(eg.e,{"aria-hidden":!0}))),D&&!!t&&n.createElement(ek.Y,{spacing:0,direction:"horizontal",height:"hug-contents"},n.createElement("div",{className:r()(eX,eY),ref:I,style:x?{maxWidth:i-ew.J-2}:{width:i-2}},t),x&&n.createElement(ew.P,{libraryKey:e.library_key,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),K&&n.createElement(n.Fragment,null,n.createElement("div",{className:r()(eX,eY),style:x?{maxWidth:i-ew.J-2}:{width:i-2}},"Score: "+("score"in e?e.score?.toFixed(2)??"N/A":"N/A")),n.createElement("div",{className:r()(eX,eY),style:x?{maxWidth:i-ew.J-2}:{width:i-2}},"(L:"+(e.lexical_score?.toFixed(2)??"N/A")+", AI:"+(e.ai_score?.toFixed(2)??"N/A")+", F:"+(e.fuse_score?.toFixed(2)??"N/A")+")")))}var e2=l(31898),e4=l(97795),e5=l(760641);function e8(){let e=n.useContext(eF.U);return e?.isUi3?e:{...e,width:0}}function e6({width:e,children:t}){let l=function(e){let t=(0,ef.wA)(),{query:l,searchSessionId:a}=(0,e4.Gq)(),r=(0,ei.ht)(),i=(0,U.q_)(),s=(0,e5.LR)(),o=(0,ef.d4)(e=>e.universalInsertModal.showing),c=n.useCallback(()=>{o&&s()},[s,o]),{setFlyoutProps:d}=(0,R.JA)(),u=n.useCallback((n,s,o,u,m)=>{c();let p={asset:n,searchSessionId:a??void 0,query:l??void 0,sectionPosition:s,sectionNameForTracking:o,assetTypeDropdownSelection:r,containerWidth:e,onGetKeyboardNavigationItemById:i,sectionDepth:u,sourceForTracking:m};(0,J.k)().dse_fpl_wave_2?d(p):t((0,e2.to)({type:O.m,data:p}))},[c,a,l,r,e,i,d,t]);return n.useMemo(()=>({onOpenFlyout:u,assetTypeDropdownSelection:r,isUi3:!0,width:e}),[u,r,e])}(e);return n.createElement(eF.U.Provider,{value:l},t)}var e7=l(475869);let e9="asset_panel_virtualization--virtualRow--TxsS-",te="asset_panel_virtualization--virtualRowFirst--mdR2j asset_panel_virtualization--virtualRow--TxsS-",tt="asset_panel_virtualization--virtualRowList--COnhA",tl=(0,G.jz)(e7.Nz),tn=(0,G.jz)(e7.cP),ta=(0,G.jz)(e7.FX),tr=(0,G.jz)(el.$c),ti=(0,G.jz)(el.d5),ts=(0,G.jz)(e7.ZI),to=(0,ep.eU)(!1);function tc(e,t,l={}){if("list"===t)return ts;let n=e;return l.hideAssetName||(n+=tl),l.showFileName&&(n+=tn),l.hasTopPadding&&(n+=ta),l.showAiDebugScores&&(n+=2*(0,G.jz)(e7.uY)),n}function td(e,t,l,a,r,i,s){let o=[],c="list"===a.displayType?"listitem":"gridcell";for(let d=0;d<e.length;d+=t){let u=e.slice(d,d+t),m=[];u.forEach((e,o)=>{if(e){let u=d+o,p=s?.getFileName?.(e);m.push(n.createElement("div",{role:c},n.createElement(e1,{key:`${l}-${(0,e_.V)(e)}`,asset:e,fileName:p,isExample:s?.isExample,isFirstTile:s?.includesFirstTile&&0===u,keyboardPanelDepth:s?.keyboardPanelDepth,keyboardPosition:(0,es.pg)(i,u,t,s?.hasHeader),sectionDepth:s?.depth,sectionNameForTracking:r,sectionPosition:d+o,...a})))}}),o.push({element:n.createElement("div",{className:"list"===a.displayType?tt:0===d?te:e9},m),key:`${l}:row-${d/t}`,keys:u.map(e=>(0,e_.V)(e)),height:tc(a.thumbHeight,a.displayType,{showFileName:!!s?.getFileName,hasTopPadding:0!==d,showAiDebugScores:!!(0,J.k)().api_asset_search_with_scores})})}return o.length>0&&(o.unshift({element:n.createElement(eu.hK,{height:tr}),key:`${l}:spacer-top`,height:tr,ariaHidden:!0}),o.push({element:n.createElement(eu.hK,{height:ti}),key:`${l}:spacer-bottom`,height:ti,ariaHidden:!0})),o}function tu({elements:e,hideScrollbar:t,initialScrollTop:l,onScroll:a,anchorScroll:r,role:i}){let s=n.useRef(null),o=(0,em.Te)({count:e.length,getScrollElement:()=>s.current,estimateSize:t=>e[t].height,getItemKey:t=>e[t].key,paddingEnd:8,overscan:6,initialOffset:l}),c=function({scrollContainerRef:e,initialScrollTop:t,onScroll:l,enabled:a,virtualizer:r,getKeys:i}){let[s,o]=n.useState(t??e.current?.scrollTop),[c,d]=n.useState(e.current?.scrollHeight),{width:u}=e8(),m=(0,eE.ZC)(u),p=n.useCallback((e,t)=>{if(!t)return{keys:[],offset:void 0};let l=e.getVirtualItems().find(e=>e.start>=t);return l?{keys:i(l),offset:l.start-t}:{keys:[],offset:void 0}},[i]),[_,f]=n.useState(()=>p(r,t??e.current?.scrollTop)),y=n.useCallback((e,t)=>{l?.(e,t),a&&(o(e),f(p(r,e)))},[a,p,l,r]);return n.useEffect(()=>{let t=m&&u&&m!==u,l=e.current?.scrollHeight&&c&&e.current?.scrollHeight!==c;if(t&&d(e.current?.scrollHeight),void 0!==s&&void 0!==_.offset&&a&&t&&l){let t=r.getVirtualItems().find(e=>i(e).some(e=>_.keys.includes(e)));if(t)r.scrollToOffset(t.start-_.offset);else{let t=s/c,l=e.current.scrollHeight*t;r.scrollToOffset(l)}}},[_.keys,_.offset,a,i,m,e,c,s,r,u]),y}({enabled:r,scrollContainerRef:s,initialScrollTop:l,onScroll:a,virtualizer:o,getKeys:n.useCallback(t=>{let l=e[t.index];return l?l.keys??[l.key]:[]},[e])}),[d,u]=(0,ep.fp)(to);return n.useEffect(()=>{if(!d)return;let t=e.findIndex(e=>"preset_libraries_header"===e.key);-1!==t&&(o.scrollToIndex(t,{align:"start"}),u(!1))},[e,o,u,d]),n.createElement(eu.xU,{scrollContainerRef:s,hideScrollbar:t,initialScrollTop:l,onScroll:c},n.createElement("div",{style:{height:`${o.getTotalSize()}px`,width:"100%",position:"relative"},role:i},o.getVirtualItems().map(t=>{let l=e[t.index];return l?n.createElement("div",{key:t.key,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${t.start}px)`},role:"grid"===i?"row":void 0,"aria-hidden":l.ariaHidden},l.element):null})))}var tm=l(430385),tp=l(562027),t_=l(550984),tf=l(933614),ty=l(720722),tg=l(692454),tE=l(938535),th=l(612962);function tb(e){let t=(0,eN.ke)(e.name),l=e.type===ty.PW.RESPONSIVE_SET?e.containingFrame?.name:e.containing_frame?.name;return l?[l,...t]:t}function tC(e,t="",{isPreset:l,sortingFn:n}={isPreset:!1,sortingFn:void 0}){let a=new Map,r=[];n?e.sort(n):(0,W.gO)(e,{sortFn:e=>tb(e).join("/"),priorityFn:e=>(0,W.Nz)(e,{isPreset:l})});let i=Object.create(null);for(let l of e){let e=tb(l),n="";for(let s=0;s<e.length;s++){let o=e[s],c=n,d=s<e.length-1;n+=o+(d?"/":"");let u=null;if(i[c]&&(u=i[c]),d){let l=i[n]??{name:o,key:`${t}-${e.slice(0,s+1).join("/")}`,items:[],subtrees:new Map,type:t_.l$.NAME_GROUP,previewAsset:void 0};i[n]||(i[n]=l,u?u.subtrees.set(o,l):a.set(o,l))}d||(u?u.items.push(l):r.push(l))}}return a.forEach(e=>{(function e(t){t.previewAsset=tw(t),t.subtrees.forEach(t=>e(t))})(e)}),{sortedItems:r,sortedSubtrees:a}}function tv(e,t,{isPreset:l}){let n=new Map,{itemsByPageId:a,pageNamesByPageId:r,itemsWithoutPage:i}=(0,tg.tz)(e,e=>e),{itemsByPageId:s,pageNamesByPageId:o,itemsWithoutPage:c}=(0,tg.tz)(t,e=>e),d={...r,...o};(0,tg.fM)(a,d,i),(0,tg.fM)(s,d,c,!0);let u=Object.keys(d);for(let e of((0,W.gO)(u,{sortFn:e=>d[e],priorityFn:e=>(0,W.dS)(d[e],{isPreset:l})}),u)){let t=d[e],r=e in a?a[e]:void 0,i=r,o=[],c=null,u=null;if(r&&r.length>0){i=r.filter(e=>!(0,W.Nz)(e,{isPreset:l}));let{sortedItems:e,sortedSubtrees:t}=tC(o=r.filter(e=>(0,W.Nz)(e,{isPreset:l})),"examples",{isPreset:l});o.length>0&&(u={name:(0,m.t)("design_systems.assets_panel.examples"),items:e,subtrees:t,key:z.nE,type:t_.l$.COMPONENTS,previewAsset:void 0})}if(i&&i.length>0){let{sortedItems:e,sortedSubtrees:t}=tC(i,"components",{isPreset:l});c={name:(0,m.t)("design_systems.assets_panel.components"),items:e,subtrees:t,key:z.c_,type:t_.l$.COMPONENTS,previewAsset:void 0}}let p=null,_=s[e];if(_&&_.length>0){let{sortedItems:e,sortedSubtrees:t}=tC(_,"templates",{isPreset:l});p={name:(0,m.t)("design_systems.assets_panel.templates"),items:e,subtrees:t,key:z.JS,type:t_.l$.TEMPLATES,previewAsset:void 0}}let{sortedItems:f,sortedSubtrees:y}=tC([...o??[],...i??[],..._??[]],"assets",{isPreset:l}),g={name:t,items:f,subtrees:y,key:z.Mk,type:t_.l$.COMPONENTS,previewAsset:void 0},E={name:t,id:e,previewAsset:function({componentSubtree:e,exampleSubtree:t,templateSubtree:l}){let n=tw(t),a=tw(l),r=tw(e);return n||a||r}({componentSubtree:c,exampleSubtree:u,templateSubtree:p}),components:c,examples:u,templates:p,assets:g,type:z.yW.DESIGN};n.set(e,E)}return n}function tk(e,t,l,n){let a=new Map,{itemsByPageId:r,pageNamesByPageId:i,itemsWithoutPage:s}=(0,tg.tz)(e,e=>({containing_frame:e.containingFrame??void 0}));(0,tg.fM)(r,i,s);let o=Object.keys(i);for(let e of((0,tm.v7)(o,e=>i[e]),o)){let n=i[e],s=r[e]??[];if(!n||0===s.length)continue;let{sortedItems:o,sortedSubtrees:c}=tC(s,"assets",{sortingFn:l}),d={name:n,items:o,subtrees:c,key:z.Mk,type:t_.l$.RESPONSIVE_SETS,previewAsset:void 0},u={name:n,id:e,previewAsset:t[e]??tw(d),assets:d,type:z.yW.SITE,numAssets:function e(t){return t.items.length+Array.from(t.subtrees.values()).reduce((t,l)=>t+e(l),0)}(d)};a.set(e,u)}if(n){let e=(0,th.u)();if(e.length>0){let t={name:(0,m.t)("design_systems.assets_panel.site_blocks.embeds"),id:"embeds",embeds:e,previewAsset:void 0,assets:{name:"",items:[],subtrees:new Map,key:"EMPTY_ASSETS_NOT_USED",type:t_.l$.COMPONENTS,previewAsset:void 0},type:z.yW.SITE,numAssets:e.length};a.set("embeds",t)}}return a}function tS(e,t){let{allItems:l,publishedItems:n,privateItems:a,numPublished:r}=e;return r>0&&t&&a.length>0?n:l}function tx(e){let t=Array.from(e.items.values());for(let[l,n]of e.subtrees.entries())t.push(...tx(n));return t}function tw(e){let t=e?tx(e):[];return t.length>0?t[0]:void 0}var tT=l(4881),tN=l(932265);let tI=(0,ep.Iz)(()=>(0,tT.rt)(0));function tA({libraryKey:e,pageId:t,folderPath:l}={}){let{lastNavAction:a}=(0,tN.ZX)(),r=a===tN.r6.Back||a===tN.r6.Mount||a===tN.r6.ToggleView&&!l,[i,s]=(0,ep.fp)(tI("libraries")),[o,c]=(0,ep.fp)(tI(`pages-${e}`)),[d,u]=(0,ep.fp)(tI(`assets-${e}-${t}-${(l??[]).join("-")}`));return{librariesScrollTop:r?i:0,pagesScrollTop:r?o:0,assetsScrollTop:r?d:0,handleScrollLibraries:n.useCallback(e=>{s(e)},[s]),handleScrollPages:n.useCallback(t=>{e&&c(t)},[c,e]),handleScrollAssets:n.useCallback(l=>{e&&t&&u(l)},[u,e,t])}}function tM({elementMinSize:e,spaceAvailable:t,gap:l}){return Math.max(1,Math.floor((t+l)/(e+l)))}function tP({numElements:e,spaceAvailable:t,gap:l}){return Math.floor((t-(e-1)*l)/e)}function tL({width:e,widthToHeightRatio:t=1,maxHeight:l}){let n=Math.floor(e/t);return void 0===l?Math.max(0,n):Math.max(0,Math.min(l,n))}let tO=(0,G.jz)(el.H0),tR=2*(0,G.jz)(el.Mj),tF={NORMAL:115,WIDE:void 0,SMALL:72},tD={minColumns:2,maxColumns:3,aspectRatio:1,maxHeight:tF.NORMAL},tK={minColumns:1,maxColumns:1,aspectRatio:3.25,maxHeight:tF.WIDE},tB={minColumns:3,maxColumns:5,aspectRatio:1,maxHeight:tF.SMALL},tH=e=>{switch(e){case $.rp.WIDE:return tK;case $.rp.SMALL:return tB;default:return tD}};function tV(e,t){let[l]=(0,eo.MA)(),a=n.useMemo(()=>t&&"grid"===l?t:[],[l,t]),r=n.useMemo(()=>a.every(e=>e.fullPage)?.85:Math.max(a.map(e=>e.mainThumbnailInfo.width/e.mainThumbnailInfo.height).reduce((e,t)=>Math.abs(t-1)<Math.abs(e-1)?t:e),.7),[a]),i=e-tR,s=n.useMemo(()=>tM({elementMinSize:144,gap:tO,spaceAvailable:i}),[i]),o=r>1?1:Math.min(2,s),c=n.useMemo(()=>tP({numElements:o,gap:tO,spaceAvailable:i}),[o,i]),d=n.useMemo(()=>tL({width:c,widthToHeightRatio:r,maxHeight:void 0}),[r,c]);return"list"===l||0===a.length?{tileWidth:40,tileHeight:40,numColumns:1}:{tileWidth:c,tileHeight:d,numColumns:o}}function tG(){let{width:e}=e8(),{componentLayouts:t,exampleLayout:l}=function({sidebarWidth:e}){let t=n.useMemo(()=>e-tR,[e]),l=n.useMemo(()=>{let e={};for(let l of[$.rp.NORMAL,$.rp.WIDE,$.rp.SMALL]){let{minColumns:n,maxColumns:a,aspectRatio:r,maxHeight:i}=tH(l),s=Math.max(Math.min(a,tM({elementMinSize:i??t,gap:tO,spaceAvailable:t})),n),o=tP({numElements:s,gap:tO,spaceAvailable:t}),c=tL({width:o,maxHeight:i,widthToHeightRatio:r});e[l]={width:o,height:c,columns:s}}return e},[t]),a=n.useMemo(()=>Math.max(tM({elementMinSize:200,gap:tO,spaceAvailable:t}),1),[t]),r=n.useMemo(()=>tP({numElements:a,gap:tO,spaceAvailable:t}),[a,t]),i=n.useMemo(()=>tL({width:r,widthToHeightRatio:1.5,maxHeight:200}),[r]);return n.useMemo(()=>({componentLayouts:l,exampleLayout:{width:r,height:i,columns:a}}),[l,a,r,i])}({sidebarWidth:e}),[a,r]=n.useMemo(()=>{let e={},l={};for(let[n,a]of Object.entries(t))e[n]={thumbHeight:a.height,thumbWidth:a.width,viewMode:eB.Bk.Grid,thumbLayout:n,sourceForTracking:eB.mZ,displayType:"grid"},l[n]=a.columns;return[e,l]},[t]),i=n.useMemo(()=>({thumbHeight:l.height,thumbWidth:l.width,viewMode:eB.Bk.Grid,thumbLayout:$.rp.NORMAL,sourceForTracking:eB.mZ,displayType:"grid"}),[l.height,l.width]),s=n.useMemo(()=>({thumbHeight:40,thumbWidth:40,viewMode:eB.Bk.List,thumbLayout:$.rp.NORMAL,sourceForTracking:eB.mZ,displayType:"list"}),[]);return n.useMemo(()=>({componentTilePropsByLayout:a,numColumnsByLayout:r,listProps:s,exampleTileProps:i,numExampleColumns:l.columns}),[a,r,s,i,l.columns])}function tW(e,t,l,n=!1){return"list"===t?{props:e.listProps,numColumns:1}:n?{props:e.exampleTileProps,numColumns:e.numExampleColumns}:{props:e.componentTilePropsByLayout[l],numColumns:e.numColumnsByLayout[l]}}var t$=l(82433),tU=l(334804),tz=l(813147),tj=l(689347),tX=l(782589),tY=l(17753),tJ=l(375615),tq=l(937629);let tZ=(0,G.jz)(el._K);function tQ({asset:e,cmsCollectionMappings:t,sectionNameForTracking:l,sectionDepth:a,sectionPosition:i,keyboardPosition:s,isFirstTile:o=!1,keyboardPanelDepth:c=0,thumbHeight:d,thumbWidth:m,libraryName:p,hideName:_=!1,onDragStart:f}){let y=(0,eN.kH)(e.name),{currentView:g,folderPath:E}=(0,w.wV)(),[h]=(0,eo.ye)(),[b]=(0,eo.MA)(),C="list"===b,v=(0,tJ.jx)(),k=null!=t,S=n.useMemo(()=>({...s,path:[z.ON.CONTENTS,z.lM.ASSETS+c,...s.path]}),[s,c]),x=g===w.S5.Assets&&E&&h&&(E?.length??0)>c,{setKeyboardNavigationElement:T,keyboardNavigationItem:N}=(0,U.M3)({...S,id:(0,e_.V)(e),disabled:x});(0,es.C0)(N,o&&g===w.S5.Assets&&!x);let{logInsert:I}=t0({item:e,sectionNameForTracking:l,sectionPosition:i,sourceForTracking:eB.mZ,isList:C}),A=n.useCallback(()=>{I("drag"),(0,eL.$z)()},[I]),M=n.useMemo(()=>({sourceForTracking:eB.mZ,sectionNameForTracking:l,sectionDepth:a,afterSuccessfulInsert:A,onDragStart:f}),[l,a,A,f]),P=function({item:e,cmsCollectionMappings:t,sectionNameForTracking:l,sectionPosition:a,sourceForTracking:r,isList:i}){let s=(0,ef.wA)(),{logInsert:o,logKeyboardInsert:c}=t0({item:e,sectionNameForTracking:l,sectionPosition:a,sourceForTracking:r,isList:i}),d=n.useCallback(()=>{s((0,tz.jR)({item:e,cmsCollectionMappings:t,insertAsChildOfCanvas:!1,useSmartPositioning:!0})),(0,eL.$z)()},[s,e,t]);return n.useCallback(e=>{let t=0===e.detail;t&&c(),o(t?"keyboard":"click"),d()},[d,o,c])}({item:e,cmsCollectionMappings:t,sectionNameForTracking:l,sectionPosition:i,sourceForTracking:eB.mZ,isList:C}),L=n.useMemo(()=>(0,tX.NR)(y),[y]),{listProps:O}=tG(),R=n.useMemo(()=>{if(_&&!C&&!k)return{"data-tooltip-type":tY.Ib.TEXT,"data-tooltip":L}},[L,_,C,k]);return n.createElement(j.E,{className:C?r()("asset_panel_responsive_set_tile--tileList--3j7Tn asset_panel_responsive_set_tile--_tileBase--NnHE4 asset_panel_tile--button--oNPUz",eq):r()("asset_panel_responsive_set_tile--tileGrid--C-Qj3 asset_panel_responsive_set_tile--_tileBase--NnHE4 asset_panel_tile--button--oNPUz",t1({isFirstTile:o,isInLibraryFlyout:v,isCmsBlock:k})),ref:T,onClick:P,"aria-label":L,...R},n.createElement("div",{className:r()(C?e0:eQ,u.s.relative.$)},n.createElement(eW.lX,{alwaysShowBorder:!1,cmsCollectionMappings:t,displayType:C?"list-no-padding":"grid",draggable:M,height:C?O.thumbHeight:d,item:e,sectionPosition:i,shouldHideTooltip:!0,showName:C,thumbPaddingGrid:tZ,thumbWrapperClassName:"asset_panel_responsive_set_tile--thumbWrapper--3Geap asset_panel_tile--thumbWrapper--bNG-Y",useBaseTile:!0,width:C?O.thumbWidth:m})),!_&&!C&&n.createElement(n.Fragment,null,n.createElement("div",{className:eJ,style:{width:m-2}},n.createElement(tU.G,{text:L})),p&&n.createElement("div",{style:{width:m-2}},n.createElement(tU.G,{text:p,className:r()(eX,eY)}))))}function t0({item:e,sectionNameForTracking:t,sectionPosition:l,sourceForTracking:a,isList:r}){let s=(0,tq.Nv)(!0),o=(0,_.tS)(),c=(0,w._m)(),d=(0,e4.Ew)({assetKey:(0,tj.u2)(e),assetLibraryKey:e.sourceLibraryKey,assetType:e.type,isList:r,sectionNameforTracking:t,sectionPosition:l,sourceForTracking:a??eB.mZ,isExample:!1,partnerType:void 0}),u=(0,L.CK)(),m=!!d.searchSessionId,p=n.useCallback(t=>{let{type:l,sectionPosition:n,searchQuery:a,searchSessionId:r,...o}=d;i.definedAnalyticsHandler.trackDefinedEvent("asset_search.result_inserted",{...o,aiResultsEnabled:s,assetType:l,position:n,reciprocalRank:1/(1+n),query:a,sessionId:r,entryPoint:eB.mZ,componentSuggestionSessionId:u}),i.definedAnalyticsHandler.trackDefinedEvent("assets_panel.site_kit_inserted",{assetName:(0,tX.NR)((0,eN.kH)(e.name)),type:"responsive set",group:e.containingFrame?.pageName,isFullPage:e.fullPage,fileKey:d.fileKey,fileTeamId:d.fileTeamId,fileOrgId:d.fileOrgId,sectionPosition:n,searchQuery:d.searchQuery,searchSessionId:d.searchSessionId,searchType:m?c?"site kit":"all":void 0,viewMode:d.viewMode?.toLocaleLowerCase(),queryId:d.queryId,action:t})},[d,s,c,m,e.containingFrame?.pageName,e.fullPage,e.name,u]),f=n.useCallback(()=>{i.definedAnalyticsHandler.trackDefinedEvent("assets_panel.keyboard_insert",{...d,aiResultsEnabled:s,assetsPanelVersion:3,fileKey:o??void 0})},[d,s,o]);return n.useMemo(()=>({logInsert:p,logKeyboardInsert:f}),[p,f])}let t1=({isFirstTile:e,isInLibraryFlyout:t,isCmsBlock:l})=>l?"x19y5rnk x12tve8b":t?e?"asset_panel_responsive_set_tile--gridWrapperForBlocksRedesignFirstTile--cxGGn asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":"asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":eZ;var t3=l(891627),t2=l(186606),t4=l(320953),t5=l(755595),t8=l(454805),t6=l(230618),t7=l(994924),t9=l(303397),le=l(625844),lt=l(982323),ll=l(687391),ln=l(357202),la=l(527603);let lr=2*(0,G.jz)(el.Mj),li=(0,G.jz)("4px");function ls({embeds:e}){let{thumbWidth:t,thumbHeight:l}=function(){let[e]=(0,eo.MA)(),{width:t}=e8(),{listProps:l}=tG();if("list"===e)return{thumbWidth:l.thumbWidth,thumbHeight:l.thumbHeight};let n=Math.floor(t-lr),a=Math.floor(n/2);return{thumbWidth:n,thumbHeight:a}}();return n.createElement(n.Fragment,null,e.map((e,a)=>n.createElement(lo,{key:e.name,embed:e,sectionPosition:a,keyboardPosition:{path:[z.ON.CONTENTS,z.lM.ASSETS,a],column:null},thumbHeight:l,thumbWidth:t,isFirstTile:0===a})))}function lo({embed:e,sectionPosition:t,keyboardPosition:l,sectionNameForTracking:a="Site kit",isFirstTile:s=!1,thumbHeight:o,thumbWidth:c,libraryName:d,onDragStart:m}){var p;let[_]=(0,eo.MA)(),f="list"===_,{currentView:y}=(0,w.wV)(),g=function(e,t,l){let[a]=(0,eo.MA)(),r=(0,e4.Ew)({assetKey:e.name,assetLibraryKey:(0,tp.l)(tE.Yl),assetType:"embed",isList:"list"===a,sectionNameforTracking:l,sectionPosition:t,sourceForTracking:eB.mZ,isExample:!1,partnerType:void 0}),s=(0,w._m)(),o=(0,L.CK)();return n.useCallback(l=>{i.definedAnalyticsHandler.trackDefinedEvent("asset_search.result_inserted",{...r,entryPoint:eB.mZ,componentSuggestionSessionId:o});let n=!!r.searchSessionId;i.definedAnalyticsHandler.trackDefinedEvent("assets_panel.site_kit_inserted",{assetName:e.name,type:"embed",group:"Embeds",fileKey:r.fileKey,fileTeamId:r.fileTeamId,fileOrgId:r.fileOrgId,sectionPosition:t,searchQuery:r.searchQuery,searchSessionId:r.searchSessionId,searchType:n?s?"site kit":"all":void 0,viewMode:r.viewMode?.toLocaleLowerCase(),queryId:r.queryId,action:l}),"keyboard"===l&&i.definedAnalyticsHandler.trackDefinedEvent("assets_panel.keyboard_insert",r)},[r,e.name,s,t,o])}(e,t,a),{onInsertableResourcePointerDown:E,dragState:h}=(p={resource:e,clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:()=>{g("drag"),(0,eL.$z)()},onDragStart:m},(0,le.t)({...p},{insertAction:e=>{let t=e.pointerPercentageOffset||new t8.Mi;return ld(p.resource,e.dropPosition,t),Promise.resolve()},dragPreviewPointerPosition:lt.N.CENTERED,getDragPreviewSrc:()=>p.resource.preview_url,onPointerDownCallback:()=>{t2.glU.setShowHTMLWidgetCanvasDragAndDropOutlines(!0,{x:p.resource.width,y:p.resource.height})},onPointerUpCallback:()=>{t2.glU.setShowHTMLWidgetCanvasDragAndDropOutlines(!1,null)},recordingKey:eh.Pt("html-widget",p.resource.name)})),b=t4.nc.user("insert-embed",E),C=n.useMemo(()=>({...l,path:[z.ON.CONTENTS,z.lM.ASSETS,...l.path]}),[l]),{setKeyboardNavigationElement:v,keyboardNavigationItem:k}=(0,U.M3)({...C});(0,es.C0)(k,s&&y===w.S5.Assets);let S=n.useCallback(t=>{let l=t9.Y5.getViewportInfo();ld(e,new t8.Mi(l.offsetX,l.offsetY),new t8.Mi(.5,.5)),g(t),(0,eL.$z)()},[e,g]),x=n.useCallback(()=>S("keyboard"),[S]),T=n.useCallback(()=>S("click"),[S]),N=(0,es.MB)({onKeyDown:x,onClick:T}),I=f?"site_kit_embeds--buttonList--dJCdj site_kit_embeds--_buttonBase--PU9Mw asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM library_item_tile--tileListLargeNoPadding--QnDtc library_item_tile--tile--okxBn library_item_tile--_variantHover--xfLPt library_item_tile--_tileListBase--jZpFH":lm(s),A=f?la.vZ:"site_kit_embeds--embedNameWrapper--7DR-c asset_panel_tile--nameWrapper--6O-iS";return n.createElement(n.Fragment,null,n.createElement(lu,{dragState:h,opacityOverride:.5}),n.createElement(t7.n.div,{onPointerDown:b,className:u.s.flex.if(f,u.s.wFull).$},n.createElement(j.E,{className:I,ref:v,onClick:N},n.createElement("div",{className:r()("site_kit_embeds--thumbContainer--SgHWz"),style:{width:c,height:o}},n.createElement(t6.oW,{src:e.thumbnail_url,className:"site_kit_embeds--thumbnail---2jDe"})),n.createElement("div",{className:r()(A,eY),style:f?void 0:{width:c-2-li}},n.createElement(tU.G,{text:e.name})),d&&!f&&n.createElement("div",{style:{width:c-2}},n.createElement(tU.G,{text:d,className:r()(eX,eY)})))))}let lc=(0,ll.P)("recently-used-site-embeds","name",t5.z.object({name:t5.z.string()}),{transform:e=>({name:e.name})});function ld(e,t,l){ep.zl.set(lc,e),t4.l7.user("insert-embed",()=>{t2.glU.insertEmbed(e.initial_url,{x:t.x,y:t.y,percentOffsetX:l.x,percentOffsetY:l.y},!1,{x:e.width,y:e.height}),t9.Y5.triggerAction("commit")})}function lu(e){let t=e.dragState;if(!t?.dragPosition||!t?.grabbedPointerPercentageOffset)return null;let l=function(e){let{draggingResource:t}=e,{zoomScale:l,x:n}=t9.Y5.getViewportInfo(),a=e.dragPosition?.x;return(!a||a<n)&&e.draggingThumbSize?e.draggingThumbSize:new t8.Mi(t.width,t.height).scale(l)}(t),a=t.dragPosition;return a=a.subtract(new t8.Mi(t.grabbedPointerPercentageOffset.x*l.x,t.grabbedPointerPercentageOffset.y*l.y)),(0,t3.createPortal)(n.createElement("div",{className:r()(ln.Wy,{[ln.ce]:t.isDraggingOverCanvas}),style:{left:a.x,top:a.y,width:l?.x,height:l?.y,maxWidth:t.draggingThumbMaxDimensions?.x||void 0,maxHeight:t.draggingThumbMaxDimensions?.y||void 0,zIndex:e.zIndexOverride,opacity:e.opacityOverride?e.opacityOverride:1}},n.createElement(t6.oW,{src:t.draggingResource.preview_url,alt:""})),document.getElementById("fullscreen-root"))}let lm=e=>e?"site_kit_embeds--buttonGridForFirstItem--hvYlI site_kit_embeds--buttonGrid--iiN-l asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt site_kit_embeds--_buttonBase--PU9Mw asset_panel_responsive_set_tile--gridWrapperForBlocksRedesignFirstTile--cxGGn asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":"site_kit_embeds--buttonGrid--iiN-l asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt site_kit_embeds--_buttonBase--PU9Mw",lp=(0,G.jz)(el.HE),l_=(0,G.jz)(el._q),lf=(0,G.jz)(el.RQ),ly=(0,G.jz)(el.$c),lg=(0,G.jz)(el.d5);function lE({page:e,libraryKey:t,hideScrollbar:l}){let{assetsScrollTop:a,handleScrollAssets:r}=tA({libraryKey:t,pageId:e.id}),[i]=(0,eo.MA)(),{width:s}=e8(),o=n.useMemo(()=>tx(e.assets),[e.assets]),{tileHeight:c,tileWidth:d,numColumns:u}=tV(s,o),m=n.useMemo(()=>{let e=[];return e.push(...lv(o,u,d,c,i,"assets","Site kit",[z.tM.COMPONENTS],{includesFirstTile:!0,hideName:!0})),e},[o,i,u,c,d]);return n.createElement(tu,{elements:m,hideScrollbar:l,initialScrollTop:a,onScroll:r,anchorScroll:!0,role:i})}function lh({subtree:e,currentFolderPath:t,hideScrollbar:l,onScroll:a,initialScrollTop:r,role:i}){let s=lb({subtree:e,currentFolderPath:t});return n.createElement(tu,{elements:s,hideScrollbar:l,onScroll:a,initialScrollTop:r,role:i})}let lb=({subtree:e,currentFolderPath:t})=>{let{folderPath:l}=(0,w.wV)(),[a]=(0,eo.MA)(),{width:r}=e8(),{tileHeight:i,tileWidth:s,numColumns:o}=tV(r,e?.items),c=t.join("/"),d=t.length,u=l?.length??0,m=n.useCallback(({subtree:e,elements:t})=>{let l=e.items.length>0;if(l){let l=[z.tM.COMPONENTS];t.push(...lv(e.items,o,s,i,a,e.key,"Site kit",l,{includesFirstTile:d===u,keyboardPanelDepth:d,depth:d,hideName:!0}))}let r=Array.from(e.subtrees.values());l&&r.length>0&&t.push({element:n.createElement(eu.cG,null),key:"divider",height:lf}),r.forEach((l,r)=>{t.push({element:n.createElement(ec,{subtree:l,index:r+e.items.length,keyPrefix:c,depth:d}),key:l.key,height:"list"===a?lp:l_})})},[o,s,i,d,u,c,a]);return n.useMemo(()=>{let t=[];return e&&m({subtree:e,elements:t}),t},[m,e])};function lC(e){return e.type===ty.PW.RESPONSIVE_SET}function lv(e,t,l,a,r,i,s,o,c={}){let d=[];for(let u=0;u<e.length;u+=t){let m=e.slice(u,u+t),p=[];m.forEach((e,r)=>{let d=u+r;lC(e)?p.push(n.createElement(tQ,{key:`${i}-${(0,e_.V)(e)}`,asset:e,hideName:c.hideName,isFirstTile:c?.includesFirstTile&&0===d,keyboardPanelDepth:c?.keyboardPanelDepth,keyboardPosition:(0,es.pg)(o,d,t),libraryName:c.libraryKeyToLibraryName?.(e),sectionDepth:c?.depth,sectionNameForTracking:s,sectionPosition:u+r,thumbHeight:a,thumbWidth:l})):p.push(n.createElement(lo,{embed:e,key:e.name,sectionNameForTracking:s,sectionPosition:u+r,keyboardPosition:(0,es.pg)(o,d,t),isFirstTile:c?.includesFirstTile&&0===d,thumbHeight:a,thumbWidth:l,libraryName:c.libraryKeyToLibraryName?.(e)}))}),d.push({element:n.createElement("div",{className:"list"===r?tt:0===u?te:e9,role:"row"},p),key:`${i}:row-${u/t}`,keys:m.map(e=>lC(e)?(0,e_.V)(e):e.name),height:tc(a,r,{showFileName:!!c.libraryKeyToLibraryName,hasTopPadding:0!==u,showAiDebugScores:!!(0,J.k)().api_asset_search_with_scores,hideAssetName:!!c.hideName})})}return d.length>0&&(d.unshift({element:n.createElement(eu.hK,{height:ly}),key:`${i}:spacer-top`,height:ly}),d.push({element:n.createElement(eu.hK,{height:lg}),key:`${i}:spacer-bottom`,height:lg})),d}function lk({children:e,index:t,width:l}){let a=(0,ep.md)(ei.h),i=n.useMemo(()=>e.flat().filter(e=>!!e),[e]),s=n.useMemo(()=>{let e=lS(-Math.min(t,i.length-1)),l=`translateX(${e})`;return{transform:l,WebkitTransform:l}},[i.length,t]),o=r()("slide_carousel--container--1f4th",{"slide_carousel--noTransition--0heGr":a});return n.createElement("div",{style:s,"data-testid":"slide-carousel",className:o},i.map((e,a)=>n.createElement("div",{className:"slide_carousel--item--w20ND",style:{width:l},key:a,"data-testid":"slide-carousel-item","aria-hidden":a!==t,inert:a!==t?"":void 0},e)))}let lS=e=>`${100*e}%`,lx=(0,G.jz)(el.HE),lw=(0,G.jz)(el._q),lT=(0,G.jz)(el.ce),lN=(0,G.jz)(el.RQ);function lI({page:e,width:t}){let{libraryKey:l,currentView:a}=(0,w.wV)(),{getPage:r}=(0,ed.G)(),{previousPageId:i}=(0,w.RR)(),s=n.useMemo(()=>a===w.S5.Pages?r(l,i):e,[a,r,l,e,i]);return l&&s?n.createElement(lA,{libraryKey:l,page:s,width:t}):n.createElement("div",{style:{width:t}})}function lA({libraryKey:e,page:t,width:l,hideScrollbar:a}){let[r]=(0,eo.ye)();if((0,z.AZ)(t))return n.createElement(lF,{page:t});if(r)return n.createElement(lP,{page:t,libraryKey:e,width:l,hideScrollbar:a});switch(t.type){case z.yW.DESIGN:return n.createElement(lM,{page:t,libraryKey:e});case z.yW.SITE:return n.createElement(lE,{page:t,libraryKey:e,hideScrollbar:a})}}function lM({page:e,libraryKey:t}){let{assetsScrollTop:l,handleScrollAssets:a}=tA({libraryKey:t,pageId:e.id}),[r]=(0,eo.MA)(),i=tG(),{componentSectionNameForTracking:s,templateSectionNameForTracking:o}=(0,ei.zf)(),c=n.useMemo(()=>{let t=[];if(e.templates){let l=tx(e.templates),{props:a,numColumns:s}=tW(i,r,$.rp.NORMAL,!0);t.push({element:n.createElement(eu.X3,{title:(0,m.t)("design_systems.assets_panel.templates")}),key:"templates:header",height:lT}),t.push(...td(l,s,"templates",a,o,[z.tM.TEMPLATES],{includesFirstTile:!0}))}if(e.examples){let l=tx(e.examples),{props:n,numColumns:a}=tW(i,r,$.rp.NORMAL,!0);t.push(...td(l,a,"examples",n,s,[z.tM.EXAMPLES],{includesFirstTile:!0,isExample:!0}))}if(e.components){e.templates&&t.push({element:n.createElement(eu.X3,{title:(0,m.t)("design_systems.assets_panel.components")}),key:"components:header",height:lT});let l=tx(e.components),{props:a,numColumns:o}=tW(i,r,(0,$.PI)(l,!0));t.push(...td(l,o,"components",a,s,[z.tM.COMPONENTS],{includesFirstTile:!e.templates&&!e.examples}))}return t},[e.templates,e.examples,e.components,i,r,o,s]);return n.createElement(tu,{elements:c,initialScrollTop:l,onScroll:a,anchorScroll:!0,role:r})}function lP({page:e,width:t,libraryKey:l,hideScrollbar:a}){let{folderPath:r}=(0,w.wV)(),{getFolder:i}=(0,ed.G)(),{previousFolderPath:s,previousPageId:o}=(0,w.RR)(),c=e.id,[d,u]=n.useMemo(()=>{let t=[],d=s??r??[],u=0;for(let s=-1;s<d.length;s++){let m=d.slice(0,s+1),p=i(l,c??o,m);if(p){if((0,w.xc)(p))continue;t.push(n.createElement(lO,{page:e,libraryKey:l,currentFolderPath:m,hideScrollbar:a,key:`components-${m?m.join("/"):"root"}`})),s===(r??[]).length-1&&(u=t.length-1)}}return[t,u]},[r,i,a,l,e,c,s,o]);return n.createElement(lk,{index:u,width:t},d)}function lL(e,t){let l=e;for(let e of t){let t=l.subtrees.get(e);if(!t)return null;l=t}return l}function lO({page:e,libraryKey:t,currentFolderPath:l,hideScrollbar:a}){let[r]=(0,eo.MA)(),i=n.useMemo(()=>e.type===z.yW.DESIGN?lL(e.assets,l):null,[l,e.assets,e.type]),s=n.useMemo(()=>e.type===z.yW.SITE?lL(e.assets,l):null,[l,e.assets,e.type]),{folderPath:o}=(0,w.wV)(),c=(0,H.fd)(t),d=e.id,u=l.length,m=o?.length??0,{assetsScrollTop:p,handleScrollAssets:_}=tA({libraryKey:t,pageId:d,folderPath:l});switch(e.type){case z.yW.DESIGN:return n.createElement(lR,{subtree:i,currentFolderPath:l,hideScrollbar:a||u<m,onScroll:_,initialScrollTop:p,role:r,isPreset:c});case z.yW.SITE:return n.createElement(lh,{subtree:s,currentFolderPath:l,hideScrollbar:a||u<m,onScroll:_,initialScrollTop:p,role:r})}}function lR({subtree:e,currentFolderPath:t,isPreset:l,hideScrollbar:a,onScroll:r,initialScrollTop:i,role:s}){let o=lD({subtree:e,currentFolderPath:t,isPreset:l});return n.createElement(tu,{elements:o,hideScrollbar:a,onScroll:r,initialScrollTop:i,role:s})}function lF({page:e}){let[t]=(0,eo.MA)();return n.createElement(eu.xU,null,n.createElement("div",{className:"grid"===t?"asset_panel_assets--embeds--kl79b":u.s.flex.flexColumn.itemsCenter.$},n.createElement(ls,{embeds:e.embeds})))}let lD=({subtree:e,currentFolderPath:t,isPreset:l})=>{let a=tG(),{componentSectionNameForTracking:r}=(0,ei.zf)(),{folderPath:i}=(0,w.wV)(),[s]=(0,eo.MA)(),o=t.join("/"),c=t.length,d=i?.length??0,u=n.useMemo(()=>!!(l&&e?.items)&&e?.items.every(e=>W.Nz(e,{isPreset:l})),[l,e?.items]),m=n.useCallback(e=>{let t=e.subtrees.values().next().value;return t&&(0,W.dS)(t.name,{isPreset:l})},[l]),p=n.useCallback(({subtree:e,elements:t})=>{let l=e.items.length>0,i=m(e);if(l){let l=[z.tM.COMPONENTS],{props:n,numColumns:i}=tW(a,s,(0,$.PI)(e.items,!0),u);t.push(...td(e.items,i,e.key,n,r,l,{hasHeader:!1,includesFirstTile:c===d,keyboardPanelDepth:c,isExample:u}))}let p=Array.from(e.subtrees.values());l&&p.length>0&&!i&&t.push({element:n.createElement(eu.cG,null),key:"divider",height:lN,ariaHidden:!0}),p.forEach((l,a)=>{t.push({element:n.createElement(ec,{subtree:l,index:a+e.items.length,keyPrefix:o,depth:c}),key:l.key,height:"list"===s?lx:lw}),0===a&&i&&p.length>1&&t.push({element:n.createElement(eu.cG,null),key:"examples_divider",height:lN,ariaHidden:!0})})},[m,a,s,u,r,c,d,o]);return n.useMemo(()=>{let t=[];return e&&p({subtree:e,elements:t}),t},[p,e])};var lK=l(620964),lB=l(316581),lH=l(871043),lV=l(329228),lG=l(156974),lW=l(744577),l$=l(453370),lU=l(413020),lz=l(162394),lj=l(175051),lX=l(882009),lY=l(516122);let lJ="asset-panel-library-context-menu",lq=eh.Pt("assetsLibrary","contextMenu"),lZ=lG.ms,lQ=lG.c$,l0=n.memo(({dropdownShown:e,usePortal:t})=>{let[{data:l}]=(0,lV.IT)((0,H.Re)(e?.data?.partnerType));if(!e||e.type!==lJ)return null;let{data:a}=e;if(!a)return null;let{libraryHref:r,position:i,isLocalLibrary:s,hideUnsubscribe:o=!1,onGoToLibrary:c,onPublish:d,onUnsubscribe:u,onSendFeedback:p}=a,_=s?n.createElement(lQ,{onClick:d,recordingKey:eh.Pt(lq,"publishLibrary")},(0,m.tx)("design_systems.assets_panel.publish_library")):null,f=[_,o||s?null:n.createElement(lQ,{onClick:u,recordingKey:eh.Pt(lq,"unsubscribe")},(0,m.tx)("design_systems.assets_panel.remove_library_from_file")),s||!r?null:n.createElement(lQ,{href:r,target:"_blank",recordingKey:eh.Pt(lq,"goToLibrary"),onClick:c},(0,m.tx)("design_systems.assets_panel.go_to_library")),!s&&l?n.createElement(lQ,{href:l,target:"_blank",recordingKey:eh.Pt(lq,"sendFeedback"),onClick:p},(0,m.tx)("design_systems.assets_panel.send_feedback_to_creator")):null].filter(lH.Vq);if(!i||!f.length)return null;let y=n.createElement(lZ,{style:lW.sx.add({top:`${i.top}px`,right:`${i.right}px`,bottom:`${i.bottom}px`,left:`${i.left}px`}).add(lW.sx.fixed).$},...f);return t?t3.createPortal(y,document.body):y});var l1=l(768618);let l3="asset-panel-page-context-menu",l2=eh.Pt("assetsLibrary","contextMenu"),l4=lG.ms,l5=lG.c$,l8=n.memo(({dropdownShown:e,usePortal:t})=>{if(!e||e.type!==l3)return null;let{data:l}=e;if(!l)return null;let{libraryPageHref:a,position:r,isLocalLibrary:i,onClickLocalPage:s,onClickSubscribedPage:o}=l;if(!r)return null;let c=i?n.createElement(l5,{recordingKey:eh.Pt(l2,"goToLibrary"),onClick:s},(0,m.tx)("design_systems.assets_panel.go_to_page")):a?n.createElement(l5,{href:a,target:"_blank",recordingKey:eh.Pt(l2,"goToLibrary"),onClick:o},(0,m.tx)("design_systems.assets_panel.go_to_page")):null;if(!c)return null;let d=n.createElement(l4,{style:lW.sx.add({top:`${r.top}px`,right:`${r.right}px`,bottom:`${r.bottom}px`,left:`${r.left}px`}).add(lW.sx.fixed).$},c);return t?t3.createPortal(d,document.body):d});function l6(){let e=(0,ef.d4)(e=>e.dropdownShown),t=(0,ef.d4)(lK.h),l=e?.type===e$.K.ASSETS_PANEL&&!!e?.data?.component,a=e?.type===l3&&!!e?.data?.pageId,r=e?.type===lJ&&!!e?.data,i=(0,lB.K)(!0),s=n.useContext(eF.U);return n.createElement(n.Fragment,null,l&&n.createElement(e$.h,{selectedView:t,dropdownShown:e,onJumpToLocalComponent:i,onOpenFlyout:s?.onOpenFlyout,usePortal:!0}),a&&n.createElement(l8,{dropdownShown:e,usePortal:!0}),r&&n.createElement(l0,{dropdownShown:e,usePortal:!0}))}var l7=l(531788),l9=l(582261),ne=l(580213),nt=l(863270),nl=l(403451),nn=l(143823),na=l(554326),nr=l(639398),ni=l(451548),ns=l(615233),no=l(810503),nc=l(182317),nd=l(391375),nu=l(475166),nm=l(331084),np=l(21614),n_=l(859613),nf=l(463580),ny=l(476254);let ng={loadTimeMs:2e3,numSuggestions:4},nE="mockAutoSuggestConfig";function nh(){return(0,ns.b5)()&&(0,J.k)().anticipation_mock}nh()?window.mockAutoSuggestConfig={get(){if(!nh())return;let e=localStorage.getItem(nE);return e?{...ng,...JSON.parse(e)}:ng},set(e){if(!nh())return;let t={...this.get(),...e};localStorage.setItem(nE,JSON.stringify(t))},reset(){nh()&&localStorage.setItem(nE,JSON.stringify(ng))}}:localStorage.removeItem(nE);let nb=(0,tT.rt)(new Map);async function nC({targetNodeGuid:e}){if(!nh())return{suggestions:[]};let t=window.mockAutoSuggestConfig?.get();if(!t)return{suggestions:[]};let l=ep.zl.get(nb),n=l.get(e);if(!n){let t=ny.D.getState(),a=[...Object.values(t.library.publishedByLibraryKey.components).map(e=>Object.values(e).map(e=>Object.values(e))).flat(2),...Object.values(t.library.publishedByLibraryKey.stateGroups).map(e=>Object.values(e).map(e=>Object.values(e))).flat(2)];if(0===a.length)throw Error("MOCK: COULD NOT FIND ANY ASSETS - maybe they are still loading?");n=a.sort(()=>Math.random()-.5).map(e=>({...e,suggestionSource:ni.Ou.RECENTS}));let r=new Map(l);r.set(e,n),ep.zl.set(nb,r)}return await new Promise(e=>{setTimeout(()=>{e({suggestions:n.slice(0,t.numSuggestions)})},t.loadTimeMs)})}var nv=l(946250),nk=l(124992);let nS=e=>e?`${e.name} ${e.guid}`:"NO TARGET";async function nx(e){return(0,J.k)().anticipation_mock?await nC({targetNodeGuid:e.targetNode.guid}):await (0,n_.A)(e)}var nw=l(368141),nT=l(394960),nN=l(209877);let nI="asset_panel_recents--resultsWrapper--k79Vy",nA="asset_panel_recents--resultsWrapperList--peuzW";var nM=l(212974);let nP=w.S5.Libraries,nL=(0,G.jz)(nM.$A),nO=(0,ep.eU)(0),nR={statusIndicator:{width:"xw4jnvo",height:"x1qx5ct2",margin:"xy3p2pi",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",borderRadius:"x16rqkct",$$css:!0},statusIndicatorSeen:{backgroundColor:"x1v8gsql",color:"x1n0bwc9",$$css:!0},statusIndicatorUnseen:{backgroundColor:"xcr9a89",color:"x1fgql6j",$$css:!0}};function nF({suggestions:e,analyticsData:t,hasLibraries:l,subscribedLibraries:a}){let r=nH(),i=(0,ep.Xr)(nr.a),s=n.useCallback(()=>{(0,eO.gb)(t,ni.GG.RESULT_INSERTED,ni.qd.ASSET_PANEL)},[t]),o=tG(),c=n.useMemo(()=>{let e={};return a?.forEach(t=>{e[t.libraryKey]=t.name}),e},[a]),d=n.useMemo(()=>{let{props:t,numColumns:l}=tW(o,eo.$H.GRID,$.rp.NORMAL);return e.map((e,a)=>n.createElement(e1,{key:`${e.id}-${a}`,asset:e,fileName:c?c[e.library_key]:"",sectionPosition:a,keyboardPosition:(0,es.pg)([z.ON.SUGGESTIONS],a,l),onSuccessfulAssetInsert:s,...t,sourceForTracking:eO.tM}))},[e,o,c,s]);n.useEffect(()=>{e.length>0&&t.queryId&&((0,eO.gb)(t,ni.GG.RESULTS_SHOWN,ni.qd.ASSET_PANEL),i())},[e,t,i]);let u=(0,m.tx)("auto_suggest.asset_panel.no_libraries"),p=(0,m.tx)("auto_suggest.suggestion_shelf_no_suggestions"),_=n.createElement("div",{className:"xh8yej3 x1iyjqo2 x1r8uery x1l90r2v"},n.createElement("div",{className:nI},d));return(0,L.NB)(),n.createElement("div",{className:"x78zum5 xdt5ytf x6s0dn4 xl56j7k",style:{minHeight:r}},l?d.length>0?_:p:u)}function nD(){let e;let{width:t}=e8(),l=(0,f.He)().size>0,a=!l,r=(0,f.je)(),i=n.useRef(null),{suggestions:s,isLoading:o,analyticsData:c,debugString:d,isInitialized:u}=function(e=!1){let t=function(e){(0,ns.Ay)().anticipation_config||((0,ns.Ay)().anticipation_config=ni.PV);let t=(0,ns.Ay)().anticipation_config.dominantFrameConfig;return function({targetNodeGuid:e,disabled:t}){let[{suggestions:l,analyticsData:a},r]=(0,ep.fp)(nr.P),{isLoaded:i}=(0,nm.y)(),s=function(){let{isLoaded:e}=(0,nm.y)();return{isLoaded:e,assets:(0,nd.g5)(nu.$A.Design).productComponents.map(e=>({...e,suggestionSource:ni.Ou.RECENTS}))}}(),o=n.useMemo(()=>i&&s.isLoaded,[i,s.isLoaded]),[c,d]=n.useState(o);n.useEffect(()=>{!c&&o&&(d(!0),0===l.length&&r({suggestions:s.assets,analyticsData:ni.YQ}))},[o,s,c,l.length,r]);let{suggestions:u,analyticsData:m,isLoading:p,suggestionsNodeGuid:y,debugString:g}=function({targetNodeGuid:e,disabled:t}){let[l,a]=n.useState([]),[r,i]=n.useState(`${e} - INIT`),[s,o]=n.useState(ni.YQ),[c,d]=n.useState(!1),[u,m]=n.useState(void 0),p=(0,_.tS)(),y=(0,f.He)(),g=(0,nk.r8)();return n.useEffect(()=>{if(t||!g)return;let l=(0,l1.UN)(),n=e?l.get(e):void 0,r=new AbortController;if(n&&p){if(n&&ni.b4.includes(n.type)){d(!0),a([]),m(n.guid),i(nS(n)+" - STARTED");let e={fileKey:p,queryId:(0,nc.g)(),selectionId:n?.guid};o(e);let t=(0,nk.k1)(),l=new eO.O({analyticsData:e,config:t,entryPoint:ni.qd.ASSET_PANEL}),{signal:s}=r,c=new nf.I(t2.otU.COMPONENTS,r);nx({targetNode:n,openFileKey:p,signal:s,subscribedLibraryKeys:y,autoSuggestSession:c,logger:l,config:t}).then(({suggestions:e})=>{s.aborted||a(e)}).catch(e=>{if((0,no.x1)("auto_suggest","Error fetching suggestions",{error:e}),"AbortError"===e.name)return}).finally(()=>{s.aborted||(d(!1),i(nS(n)+" - FINISHED"));try{c.destroy()}catch(e){}})}else n&&(d(!1),a([]),m(n.guid),i(nS(n)+" - INVALID TARGET"))}else a([]),i(nS(n)+" - NO TARGET/OPEN FILE"),d(!1),m(void 0),o(ni.YQ);return()=>{r&&r.abort()}},[e,t,p,y,g]),{suggestions:l,isLoading:c,analyticsData:s,suggestionsNodeGuid:u,debugString:r}}({targetNodeGuid:e,disabled:t});n.useEffect(()=>{u.length>0&&r({suggestions:u,analyticsData:m})},[u,m,r]);let E=(0,nk.r8)();return t||!E?{suggestions:[],analyticsData:ni.YQ,isLoading:!1,isInitialized:!1,suggestionsNodeGuid:void 0,debugString:""}:{suggestions:l,analyticsData:a,isLoading:p,isInitialized:c||l.length>0,suggestionsNodeGuid:y,debugString:g}}({targetNodeGuid:function({selectedNode:e,config:t,disabled:l}){let a=!(0,J.k)().anticipation,[r,i]=n.useState(void 0),{debouncedViewportInfo:s,viewportIsStable:o}=(0,nv.pJ)(a),c=!!e&&ni.b4.includes(e.type)&&(0,nv.Mw)(e,s,.4),d=(0,nv.pW)(s,l||a||c,t);return n.useEffect(()=>{if(o&&!a){if(c){i(e.findContainingFragmentOrSelf());return}i(d)}},[d,c,e,a,o]),r}({selectedNode:(0,np.Vr)(),config:t,disabled:e}),disabled:e})}(e);return e?{suggestions:[],analyticsData:ni.YQ,isLoading:!1,isInitialized:!1,suggestionsNodeGuid:void 0,debugString:""}:t}(a),p=(0,ep.Xr)(nO),y=nH(),g=(0,na.ut)(t2.Ez5?.editorPreferences().showAssetAutoSuggest,!0),[E,h]=n.useState(null),b=g&&s.length>0&&l&&u||!!E,C=n.useCallback(()=>{let e=!b;t2.Ez5?.editorPreferences().showAssetAutoSuggest.set(e),h(e),(0,eO.gb)(c,e?ni.GG.PANEL_OPENED:ni.GG.PANEL_CLOSED,ni.qd.ASSET_PANEL)},[b,c]);n.useEffect(()=>{if(i.current?.clientHeight)p(i.current?.clientHeight);else{let e=nL+8;b&&(e+=y),(0,J.k)().anticipation_trigger_debug&&(e+=16),p(e)}},[b,y,p]);let{currentView:v}=(0,w.wV)(),k=v===w.S5.Libraries?0:1,S=(0,ep.md)(nr.a);return a||(!u||b&&o||b&&"loading"===r.status?e=n.createElement(nn.k,{size:"md"}):b||(e=n.createElement("div",{...t$.xk(nR.statusIndicator,S?nR.statusIndicatorSeen:nR.statusIndicatorUnseen)},s.length))),n.createElement("div",{className:"x1n5zjp5 x1e56ztr",ref:i},n.createElement(nw.B,null,n.createElement(nT.H,null,n.createElement(j.E,{onClick:C,className:"x1iyjqo2"},n.createElement(nN.g,{isExpanded:b}),(0,m.tx)("auto_suggest.asset_panel.title")),n.createElement("div",{className:"x78zum5 x6s0dn4"},e))),b&&n.createElement(lk,{index:k,width:t},n.createElement("div",null,n.createElement(nF,{suggestions:s,analyticsData:c,hasLibraries:l,subscribedLibraries:r.data})),n.createElement("div",null)),(0,J.k)().anticipation_trigger_debug&&n.createElement("div",{className:"xh8yej3 xlup9mm xw2csxc x10wlt62"},d))}function nK(){let e=(0,nk.r8)(),{currentView:t}=(0,w.wV)();return e&&t===nP}function nB(){let e=nK();return(function(){let e=(0,ep.md)(w.W9),t=(0,eE.ZC)(e),{suggestions:l,analyticsData:a}=(0,ep.md)(nr.P),{currentView:r}=(0,w.wV)(),i=(0,eE.ZC)(r);n.useEffect(()=>{!1===t&&!0===e&&l.length>0&&a.queryId&&i===nP&&(0,eO.gb)(a,ni.GG.STARTED_SEARCH,ni.qd.ASSET_PANEL)},[t,e,l,a,i])}(),e)?n.createElement(nD,null):null}function nH(){let e=tG();return Math.max(n.useMemo(()=>{let t=e.numColumnsByLayout[$.rp.NORMAL];return Math.ceil(ni.lS/t)*(tc(e.componentTilePropsByLayout[$.rp.NORMAL].thumbHeight,eo.$H.GRID,{showFileName:!0})+16)},[e]),150)}var nV=l(874728),nG=l(882839),nW=l(658029),n$=l(1511),nU=l(523035),nz=l.n(nU),nj=l(142896),nX=l(511067),nY=l(244780),nJ=l(271326),nq=l(253332),nZ=l(715880),nQ=l(256387),n0=l(490029),n1=l(240350),n3=l(313693);function n2(){(0,n0.K)();let{subscribedFileDataByLibraryKey:e,hubFilesByLibraryKey:t}=(0,n1.N)(),l=(0,ef.d4)(_.tB),a=(0,ef.d4)(eM.e_),r=(0,ef.d4)(eM.MH),i=(0,ef.d4)(eM.dM),s=(0,ef.d4)(nZ.P),o=(0,nJ.n1)(),c=(0,ex.Fl)(),d=(0,ep.md)(ez.lj),u=n.useMemo(()=>l?.teamId?s[l.teamId]:null,[l?.teamId,s]),p=n.useMemo(()=>!!u&&(0,nq.w5)(u),[u]),f=n.useMemo(()=>(0,eB.Sg)(r,i),[r,i]),y=(0,eB.$1)({library:a,fileDataByLibraryKey:e}),g=(0,eB.oV)({library:a,hubFilesByLibraryKey:t,visualAssetLibraryKeys:d}),E=n.useMemo(()=>o?g:null,[o,g]),{url:h,shouldCover:b}=(0,n3.t)(),C=(0,nQ.Nn)(),v=n.useMemo(()=>{let e=[];for(let t of C)t.data&&e.push(t.data);return e},[C]),k=(0,nQ.fi)(),S=(0,nQ.Bv)(),x=(0,ep.md)(eU.TG);return n.useMemo(()=>(function({localComponentsInfo:e,localTemplatesInfo:t,localThumbnailUrl:l,localThumbnailShouldCover:n,subscribedComponentsInfo:a,subscribedCommunityComponentsInfo:r,canPublish:i,openFileKey:s,openFileLibraryKey:o,approvedLibraryKeysByResourceType:c,siteKitsAssetData:d,siteKitThumbnailComponents:u,siteKitSortingFn:p,presetLibraryKeys:_}){let{libraryKeyToSubscribedItems:f,subscribedFiles:y}=a,g=function({subscribedFiles:e,libraryKeyToSubscribedComponents:t,approvedLibraryKeysByResourceType:l}){let n=new Map;for(let a of(0,ei.uo)(e,l)){if(!a.library_key)continue;let e=(0,tp.l)(a.library_key),l=t[e]??[],r=tv(l,[],{isPreset:!1}),i={name:a.name,libraryKey:(0,tp.l)(a.library_key??""),pages:r,numComponents:l.length,numTemplates:0,thumbnailUrl:a.thumbnail_url_override??a.thumbnail_url,thumbnailShouldCover:!!a.thumbnail_guid,type:z.yW.DESIGN,libraryType:"team"};n.set(e,i)}return n}({subscribedFiles:[...y],libraryKeyToSubscribedComponents:f,approvedLibraryKeysByResourceType:c}),E=function(e,t){if(!e)return new Map;let{libraryKeyToSubscribedItems:l,subscribedHubFiles:n}=e??{hubFileIdToSubscribedItems:{},subscribedHubFiles:[]},a=new Map;for(let e of(0,ei.LH)(n)){if(!e.library_key)continue;let n=(0,tp.l)(e.library_key),r=l[n]??[],i=tv(r,[],{isPreset:t.has(e.library_key)});if(r.length>0){let t={name:(0,tf.oA)(e),libraryKey:(0,tp.l)(e.library_key??""),pages:i,numComponents:r.length,numTemplates:0,thumbnailUrl:e.thumbnail_url,thumbnailShouldCover:!0,type:z.yW.DESIGN,libraryType:"community"};a.set(n,t)}}return a}(r,_),h=function(e,t,l,n,a,r,i,s){let{privateItems:o,numPublished:c}=e,{privateItems:d,numPublished:u}=t??{privateItems:[],numPublished:0},p=c+u>0&&a&&o.length+d.length>0,_=tS(e,a),f=t?tS(t,a):[],y=!!s?.has(i),g=tv(_,f,{isPreset:y}),E={name:(0,m.t)("design_systems.assets_panel.created_in_this_file"),libraryKey:i,pages:g,numComponents:_.length,numTemplates:f.length,thumbnailUrl:l,thumbnailShouldCover:n,type:z.yW.DESIGN,libraryType:"team"};if(p){let e=null;if(o.length>0){let{sortedItems:t,sortedSubtrees:l}=tC(o,"p_components",{isPreset:y});e={name:(0,m.t)("design_systems.assets_panel.components"),items:t,subtrees:l,key:z.c_,type:t_.l$.COMPONENTS,previewAsset:void 0}}let t=null;if(d.length>0){let{sortedItems:e,sortedSubtrees:l}=tC(d,"p_templates",{isPreset:y});t={name:(0,m.t)("design_systems.assets_panel.templates"),items:e,subtrees:l,key:z.JS,type:t_.l$.TEMPLATES,previewAsset:void 0}}let{sortedItems:l,sortedSubtrees:n}=tC([...o??[],...d??[]],"assets",{isPreset:y}),a={name:(0,m.t)("design_systems.assets_panel.assets"),items:l,subtrees:n,key:z.Mk,type:t_.l$.COMPONENTS,previewAsset:void 0},r={name:(0,m.t)("design_systems.assets_panel.hidden"),id:z.o8,previewAsset:o[0]??d[0],components:e,examples:null,templates:t,assets:a,type:z.yW.DESIGN};E.pages.set(z.o8,r)}return E}(e,t,l,n,i,0,o,_),b=new Map([...g,...E]);b.set(h.libraryKey,h);let C=null;if(d){for(let e of(C=new Map,d)){let t=(0,tE.Pv)(e);if(!t)continue;let l=t.library.libraryKey,n=tk(t.assets,u[l]??{},p,l===tE.Yl),a={...t.library,pages:n};C.set(l,a),b.set(l,a)}let e=(0,th.V)();if(e){let t=tk([],{},p,!0),l={...e,pages:t};C.set((0,tp.l)(tE.Yl),l),b.set((0,tp.l)(tE.Yl),l)}}return{localAssets:h,libraries:g,presets:E,siteKits:C,allLibrariesUnsorted:b}})({localComponentsInfo:f,localThumbnailUrl:h,localThumbnailShouldCover:b,subscribedComponentsInfo:y,subscribedCommunityComponentsInfo:E??void 0,canPublish:p,openFileKey:l?.key??"",openFileLibraryKey:(0,tp.l)(l?.libraryKey??""),approvedLibraryKeysByResourceType:c,siteKitsAssetData:v.length>0?v:void 0,siteKitThumbnailComponents:k,siteKitSortingFn:S,presetLibraryKeys:x}),[f,h,b,p,l?.key,l?.libraryKey,c,v,k,S,y,E,x])}var n4=l(412189);let n5="asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P",n8="asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",n6="asset_panel_collapsible_breadcrumb--allLibraries--6vL0- asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862";function n7({stubs:e}){let{collapsibleStubs:t,lastStub:l,numHiddenStubs:a,breadcrumbRef:r,ellipsisRef:i,stubRefs:s}=n9(e),o=n.useCallback(()=>i.current?{top:i.current.getBoundingClientRect().bottom,left:i.current.getBoundingClientRect().left}:{top:0,left:0},[i]),c=a===t.length;return n.createElement("div",{className:u.s.flex.itemsCenter.overflowHidden.flexShrink1.flexGrow1.$,style:lW.sx.add({flexBasis:"content"}).$,ref:r,role:"navigation","data-onboarding-key":nY.we},n.createElement(al,{shouldEllipsize:c}),a>0&&n.createElement(at,{allStubs:t,numHiddenStubs:a,getDropdownTarget:o,ref:i}),t.map((e,t)=>t<a?null:n.createElement(an,{key:t,i:t,name:e,ref:e=>s.current[t]=e})),e.length>0?n.createElement(aa,{name:l,firstSlash:0===t.length,shouldEllipsize:c}):null)}let n9=e=>{let[t,l]=n.useMemo(()=>0===e.length?[[],void 0]:[e.slice(0,-1),e[e.length-1]],[e]),[a,r]=n.useState([]),i=n.useRef([]);n.useEffect(function(){i.current.length>t.length&&(i.current=i.current.slice(0,t.length)),a.length>t.length&&r(e=>e.slice(0,t.length))},[t,a.length,e.length]);let s=n.useRef(null),o=n.useRef(null),{width:c}=e8();return n.useLayoutEffect(function(){let e=s.current;if(!e)return;let t=e.children,l=e.offsetWidth-nz()(Array.from(t).map(e=>e.scrollWidth));if(l<0){let e=i.current[a.length];e&&r(t=>[...t,e.scrollWidth])}else if(0===l)return;else if(a.length>0){let e=a.length-1;l>a[e]-(o.current&&1===a.length?o.current.scrollWidth:0)&&r(e=>e.slice(0,-1))}},[a,i,e,c]),{collapsibleStubs:t,lastStub:l,numHiddenStubs:a.length,breadcrumbRef:s,ellipsisRef:o,stubRefs:i}},ae="asset-panel-ellipsis-menu",at=n.forwardRef(({numHiddenStubs:e,allStubs:t,getDropdownTarget:l},a)=>{let i=(0,ei.sN)(),s=(0,nX.Um)(),o=s?.type===ae,c=(0,ef.wA)(),d=n.useCallback(()=>c((0,l$.oB)()),[c]),m=n.useCallback(()=>c((0,l$.j7)({type:ae,data:{position:l()}})),[c,l]),{isCurrentlySkippingPage:p,isCurrentlySkippingFirstFolder:_,navigateBackToPathIndex:f}=(0,w.wV)(),y=n.useMemo(()=>t.slice(0,e),[t,e]),g=n.useMemo(()=>y.join(" / "),[y]),E=n.useMemo(()=>{if(o)return s.data?.position},[s?.data?.position,o]),h=n.useCallback(e=>{i("breadcrumb",f(ai(e,p,_)))},[_,p,i,f]),{focusBackButton:b,focusSearchBar:C}=(0,es.rl)(),v=(0,es.NR)({onBoth:e=>()=>{h(e)},onKeyDown:()=>()=>{setTimeout(()=>b(),0)},onClick:()=>C}),{setKeyboardNavigationElement:k}=(0,U.M3)({path:[z.ON.BREADCRUMB],column:z.Yv.ELLIPSIS}),S=r()(n5,{"asset_panel_collapsible_breadcrumb--dropdownOpen--YMRPh":o});return n.createElement("div",null,n.createElement("div",{ref:a,className:u.s.flex.itemsCenter.$},n.createElement(ar,null),n.createElement("button",{ref:k,className:S,onClick:m,"data-tooltip-type":tY.Ib.TEXT,"data-tooltip":g,"aria-label":g,"aria-haspopup":"listbox","aria-expanded":o},"\u2026")),o&&t3.createPortal(n.createElement(lG.X3,{className:nj.Dm,positionAbsolute:!0,style:E,id:"asset-panel-ellipsis-menu",hideDropdown:d,autofocusPrevElementOnEsc:!0},y.map((e,t)=>n.createElement(lG.c$,{key:e,onClick:v(t)},e))),document.body))});function al({shouldEllipsize:e}){let t=(0,_._G)(),{allLibrariesByLibraryKey:l}=(0,n4.g)(),{currentView:a,libraryKey:i,visualAssetsType:s,navigateToLibrary:o,isCurrentlySkippingPage:c,isCurrentlySkippingFirstFolder:d,folderPath:p}=(0,w.wV)(),{setLastNavAction:f}=(0,tN.ZX)(),{focusBackButton:y,focusSearchBar:g}=(0,es.rl)(),E=function(){let{libraries:e,siteLibraries:t,librariesForConnectedProject:l}=(0,n4.g)(),a=n2().localAssets,r=l.length>0,i=n.useMemo(()=>{let l=e.length>0,n=a.numComponents+a.numTemplates>0;return l||n||"disabled"!==t.status},[e,t.status,a]);return r&&!i}(),h=n.useMemo(()=>i?i===t?(0,m.t)("design_systems.assets_panel.created_in_this_file"):l.get(i)?.name:void 0,[i,t,l]),b=(0,ei.sN)(),C=a===w.S5.Libraries,v=a===w.S5.Pages,k=a===w.S5.Recents,S=a===w.S5.VisualAssets,x=n.useMemo(()=>!!v||!!c&&(!p||!!d&&1===p.length),[p,d,c,v]),T=n.useCallback(e=>{let t=o(e);f(tN.r6.Back),b("breadcrumb",t)},[b,o,f]),N=(0,es.MB)({onBoth:()=>T(i??(0,tp.l)("")),onKeyDown:y,onClick:g}),{setKeyboardNavigationElement:I}=(0,U.M3)({path:[z.ON.BREADCRUMB],column:z.Yv.LIBRARY}),A=r()(v?n8:"asset_panel_collapsible_breadcrumb--libraryStub--PU1iu asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",{"asset_panel_collapsible_breadcrumb--ellipsized--vFJ6x ellipsis--ellipsis--Tjyfa":e});return C?E?n.createElement("div",{className:n6,style:{marginLeft:3}},(0,m.tx)("design_systems.libraries_modal.connected_project_libraries")):n.createElement("div",{className:n6,style:{marginLeft:3}},(0,m.tx)("design_systems.assets_panel.dropdown_type_all_libraries")):k?n.createElement("div",{className:n8,style:{marginLeft:3}},(0,m.tx)("design_systems.assets_panel.dropdown_type_recents")):S?n.createElement("div",{className:n8,style:{marginLeft:3}},s===w.G3.IconSets?(0,m.tx)("design_systems.assets_panel.icon_sets"):(0,m.tx)("design_systems.assets_panel.illustrations")):n.createElement("div",{className:u.s.flex.overflowHidden.$},n.createElement("button",{onClick:N,className:A,disabled:x,ref:I,type:"button"},h))}let an=n.forwardRef(({name:e,i:t},l)=>{let{isCurrentlySkippingPage:a,isCurrentlySkippingFirstFolder:r,navigateBackToPathIndex:i}=(0,w.wV)(),s=(0,ei.sN)(),o=n.useCallback(e=>{s("breadcrumb",i(e))},[s,i]),c=n.useMemo(()=>ai(t,a,r),[t,r,a]),{setKeyboardNavigationElement:d}=(0,U.M3)({path:[z.ON.BREADCRUMB],column:z.Yv.STUBS+t}),{focusBackButton:m,focusSearchBar:p}=(0,es.rl)(),_=(0,es.MB)({onBoth:()=>o(c),onKeyDown:m,onClick:p});return e?n.createElement("div",{ref:l,className:u.s.flex.itemsCenter.$},n.createElement(ar,null),n.createElement("button",{ref:d,onClick:_,className:n5},e)):null});function aa({name:e,shouldEllipsize:t}){let l=n.useRef(null),{pageId:a,folderPath:r}=(0,w.wV)(),{width:i}=e8(),[s,o]=n.useState(!1);return(n.useEffect(()=>{o(!!(0,ev._C)({text:e??"",textRef:l}))},[e,i]),n.useEffect(()=>{setTimeout(()=>o(!!(0,ev._C)({text:"",textRef:l})),0)},[a,r]),e)?n.createElement("div",{className:u.s.noWrap.flex.itemsCenter.if(t,u.s.overflowHidden).$},n.createElement(ar,null),n.createElement("div",{"data-tooltip-type":tY.Ib.TEXT,"data-tooltip":s?e:void 0,ref:l,className:u.s.mx4.px2.if(t,u.s.overflowHidden.pre.ellipsis).$,"aria-current":"location"},e)):null}function ar(){return n.createElement("div",{className:"asset_panel_collapsible_breadcrumb--breadcrumbSlash--XWfHn","aria-hidden":!0}," / ")}let ai=(e,t,l)=>{let n=e;return t&&n++,l&&n++,n-1};var as=l(995218);function ao(){let e=(0,_._G)(),{getLibrary:t}=(0,ed.G)(),{libraries:l,presets:a,siteLibraries:r,librariesForConnectedProject:i}=(0,n4.g)(),s=n.useMemo(()=>t(e??void 0),[t,e]),o=n.useMemo(()=>!s||(s.type===z.yW.DESIGN?0===s.numComponents&&0===s.numTemplates:0===s.numResponsiveSets),[s]),c=0===l.length,d=0===a.length,u=0===i.length,m=(0,as.cJ)(),[p]=(0,ep.fp)(w.aK);return n.useMemo(()=>m?"Blocks"!==p&&o&&c&&d&&u:o&&c&&d&&u&&"disabled"===r.status,[o,c,d,u,r,m,p])}function ac({page:e}){let{currentView:t,folderPath:l,onBack:a,libraryKey:r,isCurrentlySkippingPage:i,isCurrentlySkippingFirstFolder:s}=(0,w.wV)(),o=(0,ei.sN)(),{closeFlyout:c}=(0,R.JA)(),{setBackButtonKeyboardItem:d,focusSearchBar:u}=(0,es.rl)(),p=n.useCallback(()=>{o("backButton",a()),c()},[a,o,c]),_=n.useCallback(()=>{t===w.S5.Recents?r||u():t===w.S5.Pages?u():t===w.S5.Assets&&i&&!l&&u()},[t,u,l,i,r]),f=(0,es.MB)({onBoth:p,onKeyDown:_,onClick:u}),y=n.useMemo(()=>{if(t===w.S5.Search||t===w.S5.Recents)return[];let n=e?.name&&!i?[e.name]:[],a=l??[];return[...n,...s?a.slice(1):a]},[t,l,i,s,e?.name]),g=ao(),E=t!==w.S5.Libraries&&t!==w.S5.Search;return g?null:n.createElement(n.Fragment,null,t!==w.S5.Search&&n.createElement("div",{className:"asset_panel_header--breadcrumbWrapper--NC2Ps asset_panel_header--horizontalFlex--k99PA"},E&&n.createElement(nW.K,{"aria-label":(0,m.t)("design_systems.assets_panel.back"),onClick:f,ref:d,recordingKey:"assetsPanelBack"},n.createElement(n$.C,null)),n.createElement(n7,{stubs:y})))}l(48908);var ad=l(70217),au=l(651273),am=l(755534),ap=l(384192),a_=l(405988),af=l(531497),ay=l(268601),ag=l(159016);function aE(){let{closeOverlay:e}=(0,ay.h)(),[t,l]=(0,ep.fp)(ag.s0),a=n.useCallback(()=>{l(t2.Nfd.DAKOTA),e()},[l,e]);return n.createElement("div",{...t$.Ay.props(af.A.p16)},n.createElement("div",{...t$.Ay.props(af.A.flex,af.A.flexColumn,af.A.itemsCenter,af.A.textCenter,af.A.gap8)},n.createElement(a_.T,{className:"x1aue78i"}),n.createElement("div",{...t$.Ay.props(af.A.textBodyMediumStrong,af.A.colorText)},(0,m.tx)("dakota.site_blocks.create_cms_collection")),n.createElement("div",{...t$.Ay.props(af.A.textBodyMedium,af.A.colorTextSecondary)},(0,m.tx)("dakota.site_blocks.dynamically_connect_and_update")),n.createElement(l7.IK,{onClick:a},(0,m.tx)("dakota.site_blocks.create_collection_button"))))}var ah=l(757685);function ab({collections:e,assets:t,renderFlyoutItem:l}){return n.createElement(n.Fragment,null,e.map((e,a)=>n.createElement(aC,{key:e.id,assets:t,collectionId:e.id,collectionName:e.name},e=>l({...e,index:a}))))}function aC({collectionId:e,collectionName:t,assets:l,children:a}){let r=function(e){let{data:t}=(0,ap.gL)(e);return(0,n.useMemo)(()=>t?function(e){let t=e.sort((e,t)=>(0,ah.Ez)(t.position,e.position)),l=t.filter(e=>"plain_text"===e.fieldType),n=l.find(e=>"title"===e.name.toLowerCase())||l[0],a=l.find(e=>e.id!==n?.id),r=t.find(e=>"image"===e.fieldType);return{primaryTextFieldId:n?.id??null,secondaryTextFieldId:a?.id??null,imageFieldId:r?.id??null}}(t.fieldSchemas||[]):{primaryTextFieldId:null,secondaryTextFieldId:null,imageFieldId:null},[t])}(e),i=function(e){let t=(0,nQ.t0)();return(0,n.useMemo)(()=>t?Object.fromEntries([[t.primaryTextFieldId,e.primaryTextFieldId],[t.secondaryTextFieldId,e.secondaryTextFieldId],[t.imageFieldId,e.imageFieldId]].filter(e=>null!=e[1])):{},[t,e])}(r);return a({asset:function(e,t){let l=(0,nQ.t0)(),a=l?.assetNames;return(0,n.useMemo)(()=>{if(!a)return null;let l=function(e,t){let{primaryTextFieldId:l,secondaryTextFieldId:n,imageFieldId:a}=e,r=null!==l,i=null!==n,s=r||i,o=null!==a;return(i&&!r&&(0,no.x1)("CMS","Unexpected CMS block fields",{primaryTextFieldId:l,secondaryTextFieldId:n,imageFieldId:a},{reportAsSentryError:!0}),o)?r&&!i?t.imageSingleTextList||t.textImageList:s?t.textImageList:t.imageOnlyList:s?t.textOnlyList:null}(e,a);return l?t.find(e=>e.name===l)??null:null},[e,t,a])}(r,l),cmsCollectionMappings:{collectionId:e,collectionName:t,fieldSchemaMappings:i}})}function av(){return n.createElement("div",{...t$.Ay.props(af.A.p16)},n.createElement(nn.k,null))}var ak=l(450651),aS=l(10855);let ax=(0,n.createContext)(void 0);function aw(){let e=(0,n.useContext)(ax);if(void 0===e)throw Error("useFlyoutContext must be used within a FlyoutProvider");return e}function aT({page:e,libraryKey:t,onDragStart:l,children:a}){let r=(0,n.useMemo)(()=>tx(e.assets),[e.assets]),i=function(){let{windowInnerWidth:e}=(0,aS.l)();return(0,n.useMemo)(()=>Math.min(Math.max(Math.floor(15*e/64),144),220),[e])}(),s=(0,n.useMemo)(()=>i-8,[i]),o=(0,n.useMemo)(()=>i-2*eW.$A-8,[i]),c=(0,n.useMemo)(()=>({page:e,libraryKey:t,assets:r,panelWidth:i,embedThumbWidth:s,thumbWidth:o,onDragStart:l}),[e,t,r,i,s,o,l]);return n.createElement(ax.Provider,{value:c},a)}let aN=n.forwardRef(({hide:e,libraryKey:t,onMouseEnter:l,onMouseLeave:a,onDragStart:r},i)=>{let{getLibrary:s}=(0,ed.G)(),{isLeftPanelCollapsed:o}=(0,n.useContext)(ak.t),c=(0,d.b)();if(o)return null;let u=s(t);if(!u)return null;let m=(0,w.Cg)(u);return m&&m.type===z.yW.SITE?t3.createPortal(n.createElement("div",{ref:i,...t$.Ay.props(aO.flyout,aO.flyoutPosition(c),e&&aO.hidden),onMouseEnter:l,onMouseLeave:a,"data-fullscreen-prevent-event-capture":!0,"data-testid":"asset-panel-library-flyout","aria-hidden":e},n.createElement(aT,{libraryKey:t,page:m,onDragStart:r},n.createElement(aA,null))),document.body):null}),aI="Site kit";function aA(){let{page:e,libraryKey:t,assets:l,embedThumbWidth:a,thumbWidth:r,onDragStart:i}=aw();return(0,nQ.VF)()(t)?n.createElement(aM,null):(0,z.AZ)(e)?n.createElement(aP,null,n.createElement(aL,{styleXStyle:aO.gap16},e.embeds.map((e,t)=>n.createElement(tJ.Ay.Provider,{key:e.name,value:tJ.W7.Embed},n.createElement(lo,{key:e.name,embed:e,sectionPosition:t,keyboardPosition:{path:[z.ON.CONTENTS,z.lM.ASSETS,t],column:null},thumbHeight:Math.floor(a/2),thumbWidth:a,isFirstTile:0===t,onDragStart:i}))))):n.createElement(aP,null,n.createElement(aL,{styleXStyle:aO.gap16},l.map((e,t)=>n.createElement(tJ.Ay.Provider,{key:e.name,value:e.fullPage?tJ.W7.Webpage:tJ.W7.Block},n.createElement(tQ,{key:e.name,asset:e,sectionPosition:t,thumbWidth:r,isFirstTile:0===t,sectionNameForTracking:aI,keyboardPosition:(0,es.pg)([z.tM.COMPONENTS],t,1),hideName:!0,onDragStart:i})))))}function aM(){let e=(0,_.tS)(),{data:t,status:l}=(0,ap.c$)(e),{libraryKey:a,assets:r,thumbWidth:i,onDragStart:s}=aw(),o=(0,n.useMemo)(()=>r.filter(e=>e.type===ty.PW.RESPONSIVE_SET),[r]),c=(0,n.useCallback)(({asset:e,cmsCollectionMappings:t,index:l})=>e?n.createElement(tQ,{key:e.name,asset:e,cmsCollectionMappings:t,hideName:!0,keyboardPosition:(0,es.pg)([z.tM.COMPONENTS],l,1),onDragStart:s,sectionNameForTracking:aI,sectionPosition:l,thumbWidth:i}):null,[s,i]);return"loading"===l||null==t?n.createElement(aL,{styleXStyle:aO.justifyCenter},n.createElement(av,null)):0===t.length?n.createElement(aL,{styleXStyle:aO.justifyCenter},n.createElement(aE,null)):n.createElement(aP,null,n.createElement(aL,{styleXStyle:aO.my4},n.createElement(tJ.Ay.Provider,{key:a,value:tJ.W7.Block},n.createElement(ab,{collections:t,assets:o,renderFlyoutItem:c}))))}function aP({children:e}){let{libraryKey:t,page:l}=aw(),{assetsScrollTop:a,handleScrollAssets:r}=tA({libraryKey:t,pageId:l.id});return n.createElement(am.P,{hideScrollbar:!0,onScroll:r,initialScrollTop:a},e)}function aL({styleXStyle:e,children:t}){let{thumbWidth:l}=aw();return n.createElement("div",{...t$.Ay.props(e,aO.flyoutWrapper,aO.flyoutWrapperWidth(l))},t)}let aO={flyout:{position:"x10l6tqk",justifyContent:"xl56j7k",top:"x13vifvy",bottom:"x1ey2m1c",display:"x78zum5",backgroundColor:"x1yjdb4r",borderRight:"xspf3my",borderRightWidth:null,borderInlineStartWidth:null,borderInlineEndWidth:null,borderRightStyle:null,borderInlineStartStyle:null,borderInlineEndStyle:null,borderRightColor:null,borderInlineStartColor:null,borderInlineEndColor:null,fontFamily:"x1v78wtz",padding:"x9dr4nv",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,zIndex:"xybi4ul",$$css:!0},flyoutPosition:e=>[{left:(e&&au._,"x837sfr"),insetInlineStart:null,insetInlineEnd:null,$$css:!0},{"--left":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`calc(var(--left-panel-width) + ${e?au._+1:0}px)`)}],hidden:{display:"x1s85apg",$$css:!0},flyoutWrapper:{display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",$$css:!0},my4:{marginTop:"x15r87gk",marginBottom:"x1ah0xmj",$$css:!0},gap16:{gap:"x1r05qx8",rowGap:null,columnGap:null,$$css:!0},justifyCenter:{justifyContent:"xl56j7k",$$css:!0},flyoutWrapperWidth:e=>[{width:e+2*eW.$A+8==null?null:"x1bl4301",$$css:!0},{"--width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e+2*eW.$A+8)}]},aR=(0,ep.eU)(null);var aF=l(506428);let aD={width:"unset"},aK=[{name:"pages",url:(0,ns.ck)("99bf5f7ad969ea1167c7b09340ffc4486185e71a"),background:{light:"--ramp-blue-300",dark:"--ramp-pale-blue-600"},style:{...aD,filter:"drop-shadow(0px 2px 8px rgba(0, 49, 124, 0.10))"}},{name:"navigation",url:(0,ns.ck)("a84d6d275dd4af825b41cf6a782d8950a38ccf28"),background:{light:"--ramp-persimmon-300",dark:"--ramp-pale-persimmon-600"},style:{...aD,filter:"drop-shadow(0px 2px 6px rgba(185, 42, 0, 0.10))"}},{name:"heroes",url:(0,ns.ck)("2314584dee6e81eb3a90596302b184d88f6b00f3"),background:{light:"--ramp-pink-300",dark:"--ramp-pale-pink-600"},style:{...aD,filter:"0px 2px 6px 0px rgba(165, 0, 117, 0.10)"}},{name:"features",url:(0,ns.ck)("c9c8ec535fe73557c9729a00cebbffbdf6e3bd00"),background:{light:"--ramp-yellow-400",dark:"--ramp-pale-yellow-600"},style:{...aD,filter:"drop-shadow(0px 2px 6px rgba(197, 92, 0, 0.10))"}},{name:"embeds",url:(0,ns.ck)("b6ff5202c5344702953b4d618f6d06a362b63e1b"),background:{light:"--ramp-violet-400",dark:"--ramp-pale-violet-600"},style:{...aD,filter:"drop-shadow(0px 2px 8px rgba(51, 19, 179, 0.10))"}}],aB=(0,G.jz)(el.Sx),aH=(0,G.jz)(el.T5);function aV({library:e,previewHeight:t,cardWidth:l,keyboardSection:a,rowIndex:r,columnIndex:s=0,hideUnsubscribe:o,flyoutHandlers:c,isFolderView:d,folderVariant:u="preview"}){let{focusFirstItem:p,focusSearchBar:f}=(0,es.rl)(),{navigateToLibrary:y}=(0,w.wV)(),g=(0,_.q5)(),h=(0,ep.md)(aR),b=(0,ez.H)(e.libraryKey),[C]=(0,eo.MA)(),v=((0,E.GM)()()?eo.$H.LIST:C)===eo.$H.LIST,k=(0,ei.sN)(),S=n.useCallback(()=>{k("libraryCard",y(e.libraryKey))},[e.libraryKey,k,y]),{currentView:x}=(0,w.wV)(),T=x!==w.S5.Libraries,{setKeyboardNavigationElement:N}=(0,U.M3)({path:[z.ON.CONTENTS,z.lM.LIBRARIES,a,r],column:s,id:e.libraryKey,disabled:T}),I=(0,es.MB)({onBoth:S,onKeyDown:p,onClick:f}),A=n.useCallback(t=>{c?c.onClick(e.libraryKey):I(t)},[c,I,e.libraryKey]),M=n.useCallback(t=>c?.onMouseEnter?.(t,e.libraryKey),[c,e.libraryKey]),P=n.useCallback(t=>c?.onMouseLeave(t,e.libraryKey),[c,e.libraryKey]),L=n.useCallback(t=>c?.onMouseMove(t,e.libraryKey),[c,e.libraryKey]),O=n.useMemo(()=>{let t=e.libraryKey===g?.libraryKey?"localLibrary":e.libraryKey;return eh.Pt("assetsLibrary",t)},[e.libraryKey,g?.libraryKey]),R=function(e,t=!1){let l=(0,_.q5)(),a=(0,ef.wA)(),r=e.libraryKey===l?.libraryKey,s=(0,eB._9)(e.libraryKey,"assets_panel_library_context_menu"),o=n.useCallback(()=>s(!1),[s]),c=function(){let e=(0,ef.wA)(),t=(0,_.q5)(),l=(0,ef.d4)(e=>e.teams),a=(0,ef.d4)(eM.fA),r=n.useCallback(()=>{e(e2.to({type:lj.dD,data:{entrypoint:lX.RR.ASSET_PANEL_LIBRARY_CONTEXT_MENU}}))},[e]),i=t?.teamId&&l[t.teamId],s=n.useCallback(()=>{e(e2.to({type:lY.$3,data:{afterFileMove:r,team:i||null}}))},[e,r,i]);return n.useCallback(()=>{a?r():s()},[a,r,s])}(),d=(0,lz.X)(e.libraryKey),u=(0,lU.b)({libraryKey:e.libraryKey}),m=u.data?.link,p=n.useCallback(()=>{i.definedAnalyticsHandler.trackDefinedEvent("assets_panel.go_to_library",{libraryKey:e.libraryKey,fileKey:l?.key,fileTeamId:l?.teamId??void 0,fileOrgId:l?.parentOrgId??void 0,entryPoint:"library_context_menu"})},[e.libraryKey,l]),f=n.useCallback(()=>{i.definedAnalyticsHandler.trackDefinedEvent("assets_panel.send_feedback_to_creator",{libraryKey:e.libraryKey,fileKey:l?.key,fileTeamId:l?.teamId??void 0,fileOrgId:l?.parentOrgId??void 0,entryPoint:"library_context_menu",partnerType:d})},[e.libraryKey,l,d]),y=n.useCallback(()=>{i.definedAnalyticsHandler.trackDefinedEvent("assets_panel.open_library_context_menu",{libraryKey:e.libraryKey,fileKey:l?.key,fileTeamId:l?.teamId??void 0,fileOrgId:l?.parentOrgId??void 0})},[e.libraryKey,l]);return n.useCallback(l=>{e.type!==z.yW.SITE&&(l.preventDefault(),l.stopPropagation(),a((0,l$.j7)({type:lJ,data:{libraryHref:m,isLocalLibrary:r,partnerType:d,hideUnsubscribe:t,onGoToLibrary:p,onPublish:c,onUnsubscribe:o,onSendFeedback:f,position:{top:l.clientY,left:l.clientX}}})),y())},[e.type,a,m,r,d,t,p,c,o,f,y])}(e,o),F=!!(0,nQ.dj)(e.libraryKey),D=function(e,t){let l="dark"===(0,aF.DP)()?"dark":"light";return n.useMemo(()=>{if(!t)return;let n=aK.find(t=>t.name===e.toLowerCase()||e===(0,m.t)("design_systems.assets_panel.site_embeds")&&"embeds"===t.name);if(n)return{url:n.url,backgroundToken:`var(${n.background[l]})`,style:n.style}},[t,e,l])}(e.name,F||e.libraryKey===tE.Yl);return n.createElement(q.GG,{"aria-label":e.name,className:d?"":"asset_panel_library--library--5bw5-",forwardedRef:N,onClick:A,onContextMenu:R,onMouseEnter:M,onMouseLeave:P,onMouseMove:L,recordingKey:O,style:{width:v||d?"100%":l},tabIndex:T?-1:0},d?n.createElement(er,{keyPrefix:e.libraryKey,name:e.name,hoverable:!0,previewAssetOrUrl:D?.url??(e.thumbnailUrl||void 0),selected:h?.persisted&&h?.key===e.libraryKey,recordingKey:O||"assetsLibraryFolder",variant:u,customThumbnailData:D}):n.createElement(aG,{library:e,previewHeight:t,isList:v,showAuthor:b}))}function aG({library:e,previewHeight:t,isList:l,showAuthor:a}){let{thumbnailUrl:r}=e,[i,s]=n.useState(r),o=n.useMemo(()=>{if(i)return`url(${i})`},[i]),c=n.useCallback(()=>{s(r)},[r]),d=n.useMemo(()=>l?{height:aB,width:aH}:{height:t},[l,t]);return n.createElement("div",{className:l?"asset_panel_library--libraryCardList--qG5I1 asset_panel_library--libraryCard--l0q0e":"asset_panel_library--libraryCard--l0q0e"},n.createElement("div",{className:"asset_panel_library--libraryPreviewSection--fRTrr"},n.createElement("div",{style:{backgroundImage:o,...d},className:e.thumbnailShouldCover?"asset_panel_library--libraryPreviewCover---Jx5R asset_panel_library--libraryPreview--jl-5n":"asset_panel_library--libraryPreview--jl-5n"}),r&&n.createElement(t6.oW,{src:r,onLoad:c,className:"asset_panel_library--hiddenImage--a-LoJ",alt:""})),n.createElement(aW,{library:e,isList:l,showAuthor:a}))}function aW({library:e,isList:t,showAuthor:l}){let a=(0,ep.md)(ez.Rs),r=e.type!==z.yW.SITE,i=n.useMemo(()=>e.type===z.yW.SITE?"":e.numComponents>0?(0,m.t)("design_systems.assets_panel.num_components",{numComponents:e.numComponents}):"",[e]),s=a?.[e.libraryKey]?.author_name||e.authorName;return n.createElement("div",{className:t?"asset_panel_library--libraryFooterList--x3M2r asset_panel_library--libraryFooter--jXcDc":r?"asset_panel_library--libraryFooter--jXcDc":"asset_panel_library--libraryFooterWithoutLibraryStats--FnrKN asset_panel_library--libraryFooter--jXcDc"},n.createElement("div",{className:"asset_panel_library--libraryNameAndStats--uiY8T"},n.createElement("div",{className:"asset_panel_library--nameAndIconForList--UCm5F"},n.createElement("h3",{className:"asset_panel_library--libraryName--aege1 ellipsis--ellipsis--Tjyfa"},e.name),n.createElement("div",{className:"asset_panel_library--libraryIcon--6s19b"},n.createElement(ew.P,{libraryKey:e.libraryKey,compact:!0,showPresetTooltip:!0,colorPrimaryOnHover:!0,tooltipDelay:500,tooltipLocation:"below"}))),r&&n.createElement("div",{className:"asset_panel_library--libraryStats--JL9eF ellipsis--ellipsis--Tjyfa"},l?(0,m.tx)("community.by_publisher",{publisher:s}):i)))}function a$(){return n.createElement("svg",{width:"74px",height:"45px",viewBox:"0 0 76 46",fill:"none"},n.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"url(#pattern0_4378_11285)"}),n.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"url(#pattern1_4378_11285)"}),n.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"#85C9E4"}),n.createElement("g",{filter:"url(#filter0_dd_4378_11285)"},n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"url(#pattern2_4378_11285)"}),n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"url(#pattern3_4378_11285)"}),n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"#E5F4FF"}),n.createElement("g",{clipPath:"url(#clip0_4378_11285)"},n.createElement("g",{filter:"url(#filter1_d_4378_11285)"},n.createElement("rect",{x:"40.7627",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"40.8477",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M38.7913 22.7412L56.2288 40.1787M56.2288 22.7412L38.7913 40.1787M44.6973 22.46V40.46M47.5097 22.46V40.46M50.3225 22.46V40.46M56.51 28.6475L38.51 28.6475M56.51 31.4599L38.51 31.4599M56.51 34.2726L38.51 34.2726M53.135 31.46C53.135 34.5666 50.6166 37.085 47.51 37.085C44.4034 37.085 41.885 34.5666 41.885 31.46C41.885 28.3534 44.4034 25.835 47.51 25.835C50.6166 25.835 53.135 28.3534 53.135 31.46ZM50.3225 31.46C50.3225 33.0133 49.0633 34.2725 47.51 34.2725C45.9567 34.2725 44.6975 33.0133 44.6975 31.46C44.6975 29.9067 45.9567 28.6475 47.51 28.6475C49.0633 28.6475 50.3225 29.9067 50.3225 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M46.8393 29.3914H46.3369C46.0243 29.3914 45.8679 29.3914 45.7485 29.4522C45.6435 29.5057 45.5582 29.591 45.5047 29.6961C45.4438 29.8155 45.4438 29.9719 45.4438 30.2845V32.4054C45.4438 32.718 45.4438 32.8742 45.5047 32.9936C45.5582 33.0986 45.6435 33.1841 45.7485 33.2376C45.8678 33.2984 46.024 33.2984 46.336 33.2984H48.4587C48.7706 33.2984 48.9266 33.2984 49.0459 33.2376C49.1509 33.1841 49.2365 33.0985 49.2901 32.9935C49.3508 32.8742 49.3508 32.7182 49.3508 32.4062V31.903M49.6299 30.5077V29.1123M49.6299 29.1123H48.2345M49.6299 29.1123L47.6764 31.0658",stroke:"#007BE5",strokeWidth:"0.558837",strokeLinecap:"round",strokeLinejoin:"round"}))),n.createElement("g",{clipPath:"url(#clip1_4378_11285)"},n.createElement("g",{filter:"url(#filter2_d_4378_11285)"},n.createElement("rect",{x:"55.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"55.7447",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M53.6882 22.7412L71.1257 40.1787M71.1257 22.7412L53.6882 40.1787M59.5943 22.46V40.46M62.4066 22.46V40.46M65.2194 22.46V40.46M71.407 28.6475L53.407 28.6475M71.407 31.4599L53.407 31.4599M71.407 34.2726L53.407 34.2726M68.032 31.46C68.032 34.5666 65.5136 37.085 62.407 37.085C59.3004 37.085 56.782 34.5666 56.782 31.46C56.782 28.3534 59.3004 25.835 62.407 25.835C65.5136 25.835 68.032 28.3534 68.032 31.46ZM65.2195 31.46C65.2195 33.0133 63.9603 34.2725 62.407 34.2725C60.8537 34.2725 59.5945 33.0133 59.5945 31.46C59.5945 29.9067 60.8537 28.6475 62.407 28.6475C63.9603 28.6475 65.2195 29.9067 65.2195 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M64.911 33.9649L63.704 32.758M63.704 32.758C64.1063 32.3557 64.3552 31.7999 64.3552 31.186C64.3552 29.9582 63.3599 28.9629 62.1321 28.9629C60.9043 28.9629 59.9089 29.9582 59.9089 31.186C59.9089 32.4138 60.9043 33.4091 62.1321 33.4091C62.746 33.4091 63.3017 33.1603 63.704 32.758Z",stroke:"#007BE5",strokeWidth:"0.555781",strokeLinecap:"round",strokeLinejoin:"round"}))),n.createElement("g",{clipPath:"url(#clip2_4378_11285)"},n.createElement("g",{filter:"url(#filter3_d_4378_11285)"},n.createElement("rect",{x:"25.7114",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"25.7964",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M23.7397 7.68945L41.1772 25.127M41.1772 7.68945L23.7397 25.127M29.6458 7.4082V25.4082M32.4582 7.4082V25.4082M35.2709 7.4082V25.4082M41.4585 13.5957L23.4585 13.5957M41.4585 16.4081L23.4585 16.4081M41.4585 19.2209L23.4585 19.2209M38.0835 16.4082C38.0835 19.5148 35.5651 22.0332 32.4585 22.0332C29.3519 22.0332 26.8335 19.5148 26.8335 16.4082C26.8335 13.3016 29.3519 10.7832 32.4585 10.7832C35.5651 10.7832 38.0835 13.3016 38.0835 16.4082ZM35.271 16.4082C35.271 17.9615 34.0118 19.2207 32.4585 19.2207C30.9052 19.2207 29.646 17.9615 29.646 16.4082C29.646 14.8549 30.9052 13.5957 32.4585 13.5957C34.0118 13.5957 35.271 14.8549 35.271 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M31.0159 13.8096C30.3787 13.8096 29.8621 14.3262 29.8621 14.9634V17.5596V17.848C29.8621 18.4852 30.3787 19.0019 31.0159 19.0019H33.9005C34.5377 19.0019 35.0544 18.4852 35.0544 17.848V17.5596V14.9634C35.0544 14.3262 34.5377 13.8096 33.9005 13.8096H31.0159ZM31.0159 14.3865H33.9005C34.2193 14.3865 34.4774 14.6447 34.4774 14.9634L34.4786 16.7507C34.2542 16.5424 34.0254 16.4121 33.7742 16.4057C33.7652 16.4054 33.7655 16.4057 33.7563 16.4057C33.4283 16.4057 33.0637 16.6578 32.8188 16.9737C32.7562 16.8324 32.693 16.6927 32.6203 16.5589C32.2799 15.9303 31.9081 15.5412 31.4486 15.5403C31.058 15.5395 30.7228 15.8588 30.4367 16.2961L30.439 14.9634C30.439 14.6447 30.6972 14.3865 31.0159 14.3865ZM33.6121 14.9634C33.4528 14.9634 33.3236 15.0926 33.3236 15.2519C33.3236 15.4111 33.4528 15.5403 33.6121 15.5403C33.7713 15.5403 33.9005 15.4111 33.9005 15.2519C33.9005 15.0926 33.7713 14.9634 33.6121 14.9634ZM31.4486 16.1173C31.6165 16.1175 31.8715 16.3789 32.1155 16.8295C32.2124 17.0077 32.2993 17.2042 32.3772 17.3974C32.4239 17.5128 32.4599 17.6011 32.4761 17.6496C32.5548 17.8852 32.8745 17.9187 32.9991 17.7038C33.0115 17.6824 33.034 17.6415 33.0712 17.5867C33.1335 17.4944 33.2045 17.4009 33.2786 17.3161C33.4638 17.1038 33.6423 16.9826 33.7563 16.9826C33.8714 16.9855 34.0491 17.1064 34.234 17.3161C34.309 17.4012 34.3782 17.4944 34.4414 17.5867C34.4613 17.6155 34.4642 17.6291 34.4774 17.6496V17.848C34.4774 18.1668 34.2193 18.4249 33.9005 18.4249H31.0159C30.6972 18.4249 30.439 18.1668 30.439 17.848V17.6046C30.4572 17.5532 30.4814 17.4924 30.52 17.3974C30.5988 17.2042 30.6842 17.008 30.7817 16.8295C31.0277 16.378 31.281 16.117 31.4486 16.1173Z",fill:"#007BE5"}))),n.createElement("g",{clipPath:"url(#clip3_4378_11285)"},n.createElement("g",{filter:"url(#filter4_d_4378_11285)"},n.createElement("rect",{x:"40.7627",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"40.8477",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M38.7915 7.68945L56.229 25.127M56.229 7.68945L38.7915 25.127M44.6975 7.4082V25.4082M47.5099 7.4082V25.4082M50.3227 7.4082V25.4082M56.5103 13.5957L38.5103 13.5957M56.5103 16.4081L38.5103 16.4081M56.5103 19.2209L38.5103 19.2209M53.1353 16.4082C53.1353 19.5148 50.6169 22.0332 47.5103 22.0332C44.4037 22.0332 41.8853 19.5148 41.8853 16.4082C41.8853 13.3016 44.4037 10.7832 47.5103 10.7832C50.6169 10.7832 53.1353 13.3016 53.1353 16.4082ZM50.3228 16.4082C50.3228 17.9615 49.0636 19.2207 47.5103 19.2207C45.957 19.2207 44.6978 17.9615 44.6978 16.4082C44.6978 14.8549 45.957 13.5957 47.5103 13.5957C49.0636 13.5957 50.3228 14.8549 50.3228 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("g",{clipPath:"url(#clip4_4378_11285)"},n.createElement("path",{d:"M47.6765 15.2739C47.0718 13.8547 44.9556 14.0058 44.9556 15.8198C44.9556 17.6338 47.6765 19.1454 47.6765 19.1454C47.6765 19.1454 50.3974 17.6338 50.3974 15.8198C50.3974 14.0058 48.2811 13.8547 47.6765 15.2739Z",stroke:"#007BE5",strokeWidth:"0.605407",strokeLinecap:"round",strokeLinejoin:"round"})))),n.createElement("g",{clipPath:"url(#clip5_4378_11285)"},n.createElement("g",{filter:"url(#filter5_d_4378_11285)"},n.createElement("rect",{x:"55.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"55.7447",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M53.6885 7.68945L71.126 25.127M71.126 7.68945L53.6885 25.127M59.5945 7.4082V25.4082M62.4069 7.4082V25.4082M65.2197 7.4082V25.4082M71.4072 13.5957L53.4072 13.5957M71.4072 16.4081L53.4072 16.4081M71.4072 19.2209L53.4072 19.2209M68.0322 16.4082C68.0322 19.5148 65.5138 22.0332 62.4072 22.0332C59.3006 22.0332 56.7822 19.5148 56.7822 16.4082C56.7822 13.3016 59.3006 10.7832 62.4072 10.7832C65.5138 10.7832 68.0322 13.3016 68.0322 16.4082ZM65.2197 16.4082C65.2197 17.9615 63.9605 19.2207 62.4072 19.2207C60.8539 19.2207 59.5947 17.9615 59.5947 16.4082C59.5947 14.8549 60.8539 13.5957 62.4072 13.5957C63.9605 13.5957 65.2197 14.8549 65.2197 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M60.2761 16.3467V18.4809C60.2761 18.7755 60.515 19.0144 60.8097 19.0144H64.011C64.3056 19.0144 64.5445 18.7755 64.5445 18.4809V16.3467",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M60.8088 14.6122C60.8088 14.2439 61.1074 13.9453 61.4758 13.9453V13.9453C61.9914 13.9453 62.4095 14.3633 62.4095 14.879V15.2792H61.4758C61.1074 15.2792 60.8088 14.9806 60.8088 14.6122V14.6122Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinejoin:"round"}),n.createElement("path",{d:"M64.0107 14.6122C64.0107 14.2439 63.7121 13.9453 63.3438 13.9453V13.9453C62.8281 13.9453 62.4101 14.3633 62.4101 14.879V15.2792H63.3438C63.7121 15.2792 64.0107 14.9806 64.0107 14.6122V14.6122Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinejoin:"round"}),n.createElement("path",{d:"M60.009 15.2803H64.811V16.3474H60.009V15.2803Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M62.4099 16.3467V19.0144",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"}))),n.createElement("g",{clipPath:"url(#clip6_4378_11285)"},n.createElement("g",{filter:"url(#filter6_d_4378_11285)"},n.createElement("rect",{x:"25.7114",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"25.7964",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M23.74 22.7412L41.1775 40.1787M41.1775 22.7412L23.74 40.1787M29.646 22.46V40.46M32.4584 22.46V40.46M35.2712 22.46V40.46M41.4587 28.6475L23.4587 28.6475M41.4587 31.4599L23.4587 31.4599M41.4587 34.2726L23.4587 34.2726M38.0837 31.46C38.0837 34.5666 35.5653 37.085 32.4587 37.085C29.3521 37.085 26.8337 34.5666 26.8337 31.46C26.8337 28.3534 29.3521 25.835 32.4587 25.835C35.5653 25.835 38.0837 28.3534 38.0837 31.46ZM35.2712 31.46C35.2712 33.0133 34.012 34.2725 32.4587 34.2725C30.9054 34.2725 29.6462 33.0133 29.6462 31.46C29.6462 29.9067 30.9054 28.6475 32.4587 28.6475C34.012 28.6475 35.2712 29.9067 35.2712 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M32.3423 28.5566C31.3514 28.5566 30.6687 29.2395 30.6687 30.2303C30.6687 30.3656 30.6687 30.7798 30.6687 30.7882C30.6687 30.878 30.6233 30.9391 30.4682 31.0671C30.4506 31.0816 30.3768 31.145 30.3549 31.1631C30.0019 31.4549 29.8282 31.7282 29.8318 32.1829C29.8356 32.6426 30.2103 33.0144 30.6687 33.0197H31.5546C31.5546 33.0197 31.5055 33.1902 31.5055 33.2987C31.5055 33.7609 31.8801 34.1355 32.3423 34.1355C32.8045 34.1355 33.1792 33.7609 33.1792 33.2987C33.1792 33.1902 33.1323 33.0197 33.1323 33.0197H34.016C34.4734 33.0214 34.8534 32.6446 34.8528 32.1829C34.8523 31.7316 34.6782 31.4535 34.3298 31.1631C34.3069 31.1438 34.226 31.0822 34.2076 31.0671C34.0559 30.9405 34.016 30.8769 34.016 30.7882C34.016 30.4395 34.016 30.2303 34.016 30.2303C34.016 29.2395 33.3331 28.5566 32.3423 28.5566ZM32.3423 29.1145C33.0252 29.1145 33.4581 29.5474 33.4581 30.2303C33.4581 30.2303 33.4581 30.4395 33.4581 30.7882C33.4581 31.0844 33.5831 31.2713 33.8503 31.4942C33.8715 31.5118 33.961 31.5821 33.9811 31.5988C34.2149 31.7938 34.2946 31.9257 34.2949 32.1829C34.2952 32.3346 34.1652 32.4624 34.016 32.4618C33.9633 32.4616 33.1513 32.4616 32.3423 32.4618C31.5335 32.4621 30.7279 32.4624 30.6687 32.4618C30.513 32.4599 30.391 32.3377 30.3897 32.1829C30.3877 31.9263 30.4674 31.7941 30.7035 31.5988C30.7228 31.5829 30.8053 31.5109 30.8256 31.4942C31.097 31.2699 31.2266 31.0872 31.2266 30.7882C31.2266 30.7798 31.2266 30.3656 31.2266 30.2303C31.2266 29.5474 31.6596 29.1145 32.3423 29.1145ZM32.3423 33.0197C32.4963 33.0197 32.6213 33.1447 32.6213 33.2987C32.6213 33.4527 32.4963 33.5776 32.3423 33.5776C32.1884 33.5776 32.0634 33.4527 32.0634 33.2987C32.0634 33.1447 32.1884 33.0197 32.3423 33.0197Z",fill:"#007BE5"}))),n.createElement("g",{clipPath:"url(#clip7_4378_11285)"},n.createElement("g",{filter:"url(#filter7_d_4378_11285)"},n.createElement("rect",{x:"10.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"10.7447",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M8.68848 7.68945L26.126 25.127M26.126 7.68945L8.68848 25.127M14.5945 7.4082V25.4082M17.4069 7.4082V25.4082M20.2197 7.4082V25.4082M26.4072 13.5957L8.40723 13.5957M26.4072 16.4081L8.40723 16.4081M26.4072 19.2209L8.40723 19.2209M23.0322 16.4082C23.0322 19.5148 20.5138 22.0332 17.4072 22.0332C14.3006 22.0332 11.7822 19.5148 11.7822 16.4082C11.7822 13.3016 14.3006 10.7832 17.4072 10.7832C20.5138 10.7832 23.0322 13.3016 23.0322 16.4082ZM20.2197 16.4082C20.2197 17.9615 18.9605 19.2207 17.4072 19.2207C15.8539 19.2207 14.5947 17.9615 14.5947 16.4082C14.5947 14.8549 15.8539 13.5957 17.4072 13.5957C18.9605 13.5957 20.2197 14.8549 20.2197 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M18.1308 16.0168L17.0145 17.1331L16.4564 16.5749M15.061 17.6354V16.143C15.061 15.9939 15.061 15.9193 15.0792 15.8499C15.0952 15.7884 15.1218 15.7302 15.1575 15.6776C15.1978 15.6183 15.2538 15.5691 15.366 15.4709L16.706 14.2984C16.914 14.1164 17.018 14.0253 17.1352 13.9907C17.2385 13.9601 17.3486 13.9601 17.4519 13.9907C17.5692 14.0254 17.6734 14.1165 17.8817 14.2988L19.2212 15.4709C19.3335 15.5691 19.3895 15.6183 19.4298 15.6776C19.4654 15.7302 19.4918 15.7884 19.5079 15.8499C19.526 15.9193 19.5262 15.9939 19.5262 16.143V17.6364C19.5262 17.9484 19.5262 18.1045 19.4654 18.2238C19.4119 18.3288 19.3263 18.4141 19.2212 18.4677C19.102 18.5284 18.946 18.5284 18.634 18.5284H15.9532C15.6412 18.5284 15.485 18.5284 15.3657 18.4677C15.2607 18.4141 15.1754 18.3288 15.1219 18.2238C15.061 18.1044 15.061 17.948 15.061 17.6354Z",stroke:"#007BE5",strokeWidth:"0.558837",strokeLinecap:"round",strokeLinejoin:"round"}))),n.createElement("g",{clipPath:"url(#clip8_4378_11285)"},n.createElement("g",{filter:"url(#filter8_d_4378_11285)"},n.createElement("rect",{x:"10.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"10.7447",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M8.68823 22.7412L26.1257 40.1787M26.1257 22.7412L8.68823 40.1787M14.5943 22.46V40.46M17.4066 22.46V40.46M20.2194 22.46V40.46M26.407 28.6475L8.40698 28.6475M26.407 31.4599L8.40698 31.4599M26.407 34.2726L8.40698 34.2726M23.032 31.46C23.032 34.5666 20.5136 37.085 17.407 37.085C14.3004 37.085 11.782 34.5666 11.782 31.46C11.782 28.3534 14.3004 25.835 17.407 25.835C20.5136 25.835 23.032 28.3534 23.032 31.46ZM20.2195 31.46C20.2195 33.0133 18.9603 34.2725 17.407 34.2725C15.8537 34.2725 14.5945 33.0133 14.5945 31.46C14.5945 29.9067 15.8537 28.6475 17.407 28.6475C18.9603 28.6475 20.2195 29.9067 20.2195 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M17.2926 28.5586C15.752 28.5586 14.5032 29.8074 14.5032 31.348C14.5032 32.8886 15.752 34.1374 17.2926 34.1374C18.8332 34.1374 20.082 32.8886 20.082 31.348C20.082 29.8074 18.8332 28.5586 17.2926 28.5586ZM17.2926 29.1165C17.6608 29.1165 18.0653 29.9622 18.1269 31.0682L16.4616 31.0716C16.523 29.9656 16.9244 29.1165 17.2926 29.1165ZM16.3076 29.3405C16.0678 29.8071 15.9394 30.4258 15.9085 31.0696L15.0772 31.0671C15.1604 30.307 15.6722 29.6693 16.3076 29.3405ZM18.2789 29.3419C18.9144 29.6707 19.4131 30.2905 19.5093 31.0716L18.6784 31.0691C18.6522 30.3996 18.504 29.811 18.2789 29.3419ZM15.0789 31.6281L15.9099 31.6211C15.9408 32.2649 16.07 32.8942 16.3088 33.3558C15.6415 33.0214 15.1749 32.3667 15.0789 31.6281ZM16.4572 31.6303L18.1224 31.6267C18.0611 32.7324 17.6608 33.5795 17.2926 33.5795C16.9244 33.5795 16.5185 32.7363 16.4572 31.6303ZM18.6798 31.6275L19.5071 31.625C19.4112 32.3639 18.9448 33.0239 18.2778 33.3528C18.5255 32.8406 18.6488 32.2713 18.6798 31.6275Z",fill:"#007BE5"})))),n.createElement("defs",null,n.createElement("pattern",{id:"pattern0_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image0_4378_11285",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})),n.createElement("pattern",{id:"pattern1_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image1_4378_11285",transform:"matrix(0.000916004 0 0 0.00166667 -0.0496025 0)"})),n.createElement("filter",{id:"filter0_dd_4378_11285",x:"4",y:"4",width:"72",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"1"}),n.createElement("feGaussianBlur",{stdDeviation:"1.5"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"0.25"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_4378_11285",result:"effect2_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_4378_11285",result:"shape"})),n.createElement("pattern",{id:"pattern2_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image0_4378_11285",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})),n.createElement("pattern",{id:"pattern3_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image1_4378_11285",transform:"matrix(0.000909091 0 0 0.00166667 -0.0454545 0)"})),n.createElement("filter",{id:"filter1_d_4378_11285",x:"4.51214",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter2_d_4378_11285",x:"19.4091",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter3_d_4378_11285",x:"-10.5394",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter4_d_4378_11285",x:"4.51239",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter5_d_4378_11285",x:"19.4094",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter6_d_4378_11285",x:"-10.5391",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter7_d_4378_11285",x:"-25.5906",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter8_d_4378_11285",x:"-25.5909",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("clipPath",{id:"clip0_4378_11285"},n.createElement("rect",{x:"40.7627",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip1_4378_11285"},n.createElement("rect",{x:"55.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip2_4378_11285"},n.createElement("rect",{x:"25.7114",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip3_4378_11285"},n.createElement("rect",{x:"40.7627",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip4_4378_11285"},n.createElement("rect",{width:"7.25582",height:"7.25582",fill:"white",transform:"translate(44.0486 12.9473)"})),n.createElement("clipPath",{id:"clip5_4378_11285"},n.createElement("rect",{x:"55.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip6_4378_11285"},n.createElement("rect",{x:"25.7114",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip7_4378_11285"},n.createElement("rect",{x:"10.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip8_4378_11285"},n.createElement("rect",{x:"10.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"}))))}function aU(){return n.createElement("svg",{width:"74px",height:"45px",viewBox:"0 0 76 46",fill:"none"},n.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"url(#pattern0_4378_11342)"}),n.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"url(#pattern1_4378_11342)"}),n.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"#F8D4C4"}),n.createElement("g",{filter:"url(#filter0_dd_4378_11342)"},n.createElement("g",{clipPath:"url(#clip0_4378_11342)"},n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"url(#pattern2_4378_11342)"}),n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"url(#pattern3_4378_11342)"}),n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"#FFFBEB"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.9114 27.9895C23.8542 28.1061 23.6358 28.1415 23.4926 28.1662C22.3258 28.3713 17.2683 28.4774 16.7815 28.0637C16.3556 27.7102 16.5918 21.933 17.007 21.6996C17.5439 21.385 23.3996 21.3249 23.8076 21.6466C24.1047 21.8906 24.2908 27.1727 23.9114 27.9895ZM23.7181 21.7208C23.3924 21.4521 17.6728 21.6537 17.1573 21.9012C16.8817 22.6295 16.7028 27.2046 16.9712 27.8551C17.4079 28.1521 22.7589 28.1415 23.6931 27.8551C24.0582 26.9889 23.9222 21.8906 23.7181 21.7208ZM38.1462 21.1021C38.2881 21.342 38.4798 21.5495 38.7086 21.7109C38.9375 21.8724 39.1984 21.9842 39.4741 22.0391C39.4825 22.0369 39.4914 22.0367 39.4999 22.0385C39.5085 22.0402 39.5165 22.0439 39.5234 22.0492C39.5303 22.0545 39.5359 22.0612 39.5397 22.069C39.5436 22.0767 39.5456 22.0852 39.5456 22.0939C39.5456 22.1025 39.5436 22.111 39.5397 22.1187C39.5359 22.1265 39.5303 22.1333 39.5234 22.1385C39.5165 22.1438 39.5085 22.1475 39.4999 22.1492C39.4914 22.151 39.4825 22.1508 39.4741 22.1487C38.8441 22.3113 38.0245 21.7456 38.0245 21.1233C38.0216 21.1074 38.0253 21.091 38.0347 21.0777C38.0441 21.0645 38.0585 21.0554 38.0746 21.0526C38.0907 21.0498 38.1073 21.0534 38.1208 21.0627C38.1342 21.072 38.1433 21.0862 38.1462 21.1021ZM41.0704 17.9378V18.2913C41.0704 18.3382 41.0516 18.3832 41.018 18.4163C40.9845 18.4495 40.9389 18.4681 40.8915 18.4681C40.8443 18.4672 40.7993 18.4483 40.7659 18.4153C40.7326 18.3824 40.7134 18.3379 40.7125 18.2913V17.9378C40.7125 17.8909 40.7314 17.8459 40.7649 17.8128C40.7985 17.7796 40.844 17.761 40.8915 17.761C40.9389 17.761 40.9845 17.7796 41.018 17.8128C41.0516 17.8459 41.0704 17.8909 41.0704 17.9378ZM37.5019 18.2736C37.5019 18.3205 37.4831 18.3655 37.4495 18.3986C37.4159 18.4318 37.3704 18.4504 37.3229 18.4504C37.2755 18.4504 37.23 18.4318 37.1964 18.3986C37.1628 18.3655 37.144 18.3205 37.144 18.2736V17.8352C37.144 17.7883 37.1628 17.7434 37.1964 17.7102C37.23 17.6771 37.2755 17.6584 37.3229 17.6584C37.3704 17.6584 37.4159 17.6771 37.4495 17.7102C37.4831 17.7434 37.5019 17.7883 37.5019 17.8352C37.5162 17.9873 37.5019 18.164 37.5019 18.2736Z",fill:"black"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.7486 43.8508C16.7721 43.8114 16.8054 43.7785 16.8453 43.7553C17.1531 43.6068 18.8282 43.6811 19.1754 43.6952C19.1145 34.4214 24.0611 28.6371 31.2411 26.9789C32.5583 26.6749 32.5619 26.6536 32.5976 26.6749L32.841 26.0137C32.1538 25.9925 31.5919 25.4692 30.9619 25.5753C30.4859 25.6531 30.2461 26.0703 29.7772 26.2471C28.9826 26.544 27.5688 26.0879 27.1357 25.3419C26.9138 24.953 27.1106 24.55 26.971 24.2813C26.7205 24.0656 26.0082 23.7191 25.8042 23.4681C25.3854 22.9519 25.3675 21.7957 25.5572 21.1699C25.8997 20.4618 26.3662 19.819 26.9352 19.2713C27.5543 18.6821 28.1031 18.025 28.571 17.3126C29.1472 16.1777 29.1687 14.6079 29.6447 13.4234C30.1694 12.354 30.9817 11.4477 31.9928 10.8036C32.9802 10.1146 34.1708 9.76773 35.3787 9.81713C36.5062 9.88784 36.9465 10.3616 37.4726 10.5243C37.9988 10.6869 38.1097 10.5243 38.9652 10.8955C39.3048 11.0999 39.6073 11.3593 39.86 11.6627C39.9674 11.7759 39.9602 11.7829 40.1427 11.79C40.3393 11.7754 40.5367 11.7754 40.7333 11.79C41.0685 11.8635 41.389 11.9913 41.6818 12.1683C43.6755 13.3492 43.1386 15.7251 43.8902 17.4717C44.4021 18.6597 45.8266 19.8017 45.9483 21.0427C45.9914 21.6133 45.8672 22.1841 45.5904 22.6867C44.7206 24.1964 43.4715 23.012 42.8236 23.9348C42.6196 24.2247 42.4657 24.5075 42.0863 24.5641C41.6031 24.6277 40.9445 24.2494 40.5508 23.9701C40.4681 24.0654 40.3744 24.1508 40.2716 24.2247C39.9227 24.457 39.548 24.6492 39.1549 24.7975L40.064 26.0526C41.7677 25.8617 44.3842 26.4062 46.07 26.9188C46.1309 26.4945 46.6606 22.9908 47.0615 22.8211C47.6163 22.5806 53.4397 23.2489 53.7941 23.6272C54.0554 23.903 53.5865 29.1533 53.0782 29.9382C53.0031 30.0584 52.7454 30.062 52.6022 30.0655C53.4397 30.6312 54.2487 31.204 54.5386 31.4126C54.7641 30.6418 55.9488 26.5653 56.3855 25.897C56.5108 25.7026 56.6253 25.7061 57.2016 25.897C57.53 24.2782 57.9458 22.6778 58.4471 21.1028C58.2592 20.7975 58.109 20.4711 57.9997 20.1305C57.8663 19.591 57.8468 19.0301 57.9425 18.4829C57.5058 18.6278 54.8965 19.335 54.4741 19.1299C54.3607 19.0499 54.2766 18.9358 54.2343 18.8046C53.7726 17.8076 52.9816 14.4028 52.9207 13.3244C52.8957 13.1864 52.9197 13.044 52.9888 12.9214C53.4075 12.49 59.0413 10.8884 59.5173 11.1006C59.8073 11.2314 60.5911 13.7735 60.6734 14.074C61.3571 16.3403 61.0099 15.8418 61.3893 15.9726C61.826 16.1246 62.2018 17.0333 62.3557 17.454C62.5096 17.8748 62.6707 18.4405 62.4881 18.7728C62.5623 18.908 62.5921 19.0625 62.5735 19.2152C62.5549 19.3678 62.4888 19.5109 62.3843 19.6249C62.4982 19.7502 62.5724 19.9057 62.5978 20.0722C62.6232 20.2387 62.5988 20.4089 62.5275 20.5618C62.4237 20.8836 61.7759 21.0957 61.4537 21.1876C61.7081 21.8646 61.9196 22.5566 62.0873 23.2595C62.3728 24.3502 62.601 25.4548 62.7709 26.5688C62.8768 27.1101 62.9117 27.6627 62.8747 28.2128L63.4617 28.4745C63.4843 28.4847 63.5034 28.5012 63.5167 28.5219C63.5301 28.5426 63.5371 28.5666 63.5369 28.5912C63.5369 28.5912 63.4259 32.8763 61.9978 36.4366C60.2726 40.7465 57.4342 42.1891 53.114 40.5768C53.0751 40.9151 52.9908 41.2469 52.8635 41.5633C52.799 41.6764 52.5807 41.6976 52.434 41.7118C51.1633 41.7529 49.8913 41.7139 48.6256 41.5951L47.5518 48.3127C47.8418 49.14 51.1311 58.5659 51.0846 59.4428C51.0846 59.5347 51.0488 59.6054 50.8949 59.6761C49.9464 60.111 40.9588 61.2707 40.6188 60.3019C40.5329 60.065 40.3253 58.5553 40.2859 58.269L35.2284 57.7174L30.4071 58.0321C30.3552 58.5089 30.2691 58.9815 30.1494 59.4463C30.1065 59.5524 30.0564 59.609 29.9311 59.5983C29.455 59.5524 26.9173 59.0998 26.2158 58.969C23.5242 58.467 23.585 58.4245 23.6638 58.1629C23.8535 57.5442 25.6145 52.7181 26.3017 50.4659C25.2964 50.5719 24.2825 50.5719 23.2772 50.4659C23.2663 50.5042 23.2459 50.5391 23.2178 50.5676C23.1896 50.596 23.1547 50.617 23.1162 50.6285C22.4612 50.8654 16.609 50.5366 16.1294 50.0628C15.6963 49.6845 16.4229 44.3882 16.7486 43.8508ZM59.5102 11.2526C59.4708 11.1925 59.4851 11.1677 59.1702 11.2137C57.8566 11.3975 53.5614 12.7658 53.1892 13.0876C53.1176 13.8972 54.1806 18.3415 54.5994 18.8789C54.9037 18.9814 56.9224 18.4723 57.2338 18.391C59.6032 17.7793 59.5102 17.6838 60.0507 17.5601C60.3298 17.4646 60.3585 17.4611 60.3513 17.4222C60.3504 17.4135 60.3463 17.4053 60.3396 17.3995C60.333 17.3936 60.3244 17.3903 60.3155 17.3904C59.9934 17.3904 59.1308 17.3656 58.9196 17.1181C58.873 17.0678 58.8382 17.0079 58.8177 16.9428C58.7973 16.8776 58.7916 16.8088 58.8012 16.7413C58.8108 16.6737 58.8353 16.6091 58.8731 16.552C58.9109 16.4949 58.961 16.4468 59.0198 16.411C59.4798 16.229 59.9606 16.1031 60.4515 16.0362C60.5983 16.008 60.7772 15.9585 60.9562 15.9373C60.7092 14.8341 59.8932 11.8395 59.5102 11.2526ZM62.5848 28.0962V27.5482C62.5526 26.8764 62.2268 25.1121 62.1302 24.6277C61.9727 23.8428 61.9369 23.6661 61.4788 21.9619C61.4788 21.9159 61.2032 21.1558 61.2032 21.1558C61.1982 21.1426 61.1962 21.1285 61.1972 21.1145C61.1982 21.1004 61.2022 21.0868 61.209 21.0744C61.2158 21.062 61.2252 21.0512 61.2365 21.0427C61.2478 21.0342 61.2609 21.0281 61.2748 21.025C61.3141 21.025 62.2447 20.7987 62.3485 20.5052C62.4523 20.2118 62.4738 19.8582 62.2125 19.7027C62.2029 19.6958 62.1951 19.6867 62.1897 19.6763C62.1843 19.6658 62.1815 19.6543 62.1815 19.6426C62.1815 19.6308 62.1843 19.6193 62.1897 19.6088C62.1951 19.5984 62.2029 19.5893 62.2125 19.5825C62.3269 19.4897 62.4039 19.3595 62.4295 19.2155C62.4551 19.0716 62.4277 18.9233 62.3521 18.7976C62.2698 18.6314 62.7101 18.7127 62.1875 17.5212C62.055 17.2277 61.6076 16.3262 61.3034 16.2272C61.034 16.2012 60.7621 16.2313 60.5052 16.3156C60.0566 16.3854 59.6156 16.4966 59.188 16.6479C59.1609 16.6623 59.1374 16.6828 59.1195 16.7076C59.1016 16.7325 59.0898 16.7611 59.085 16.7912C59.0801 16.8213 59.0824 16.8521 59.0916 16.8813C59.1008 16.9104 59.1166 16.937 59.1379 16.959C59.2952 17.0471 59.4675 17.1058 59.6462 17.1323C60.7737 17.3515 60.5732 17.1075 60.72 17.4858C61.1507 17.4609 61.5813 17.5372 61.9763 17.7086C62.1302 17.7404 62.0658 17.8394 61.9548 17.8217C61.4753 17.6665 60.9624 17.6409 60.4694 17.7475C60.1834 17.7991 59.9038 17.8809 59.6355 17.9914C59.3921 18.0891 59.176 18.2431 59.0055 18.4405C58.9751 18.5153 58.9637 18.5963 58.9724 18.6765C58.9812 18.7566 59.0097 18.8334 59.0556 18.9001C59.1415 19.0309 59.5567 18.9425 59.7142 18.9001C59.929 18.8364 60.1545 18.7834 60.3656 18.7162C60.6627 18.6243 60.6305 18.5996 60.7236 18.6066C61.0518 18.6526 61.3729 18.7393 61.6792 18.8647C61.6879 18.8657 61.6962 18.8686 61.7036 18.8733C61.7109 18.8779 61.7171 18.8841 61.7216 18.8915C61.7262 18.8989 61.7289 18.9071 61.7297 18.9157C61.7305 18.9243 61.7293 18.9329 61.7263 18.941C61.7232 18.949 61.7183 18.9563 61.7119 18.9622C61.7055 18.9681 61.6979 18.9725 61.6896 18.975C61.6812 18.9775 61.6724 18.9781 61.6638 18.9768C61.6552 18.9755 61.647 18.9722 61.6398 18.9673C61.3657 18.8909 61.0855 18.8377 60.8023 18.8082C60.6412 18.8082 60.745 18.8082 60.3406 18.9673C60.158 19.0344 59.9826 19.0875 59.7894 19.1511C59.665 19.1932 59.5367 19.2228 59.4064 19.2395C59.1773 19.4516 59.0127 19.9466 59.3205 20.035C59.4414 20.0556 59.5658 20.0409 59.6784 19.9926C60.4981 19.7274 59.9433 19.5365 61.7222 19.8971C61.7367 19.8989 61.75 19.9061 61.7594 19.9173C61.7687 19.9285 61.7733 19.9428 61.7723 19.9572C61.7723 20.0492 61.7114 19.9926 60.7271 19.9572C60.6081 19.9454 60.4882 19.9454 60.3692 19.9572C60.0614 20.1128 59.6032 20.378 59.2489 20.2754C58.8158 20.1375 58.8301 19.6638 59.1093 19.3173C59.2095 19.1971 59.2203 19.2324 59.1344 19.2183C59.0715 19.2116 59.0108 19.1921 58.956 19.161C58.9012 19.13 58.8534 19.0881 58.8158 19.038C58.731 18.9225 58.6836 18.7843 58.6798 18.6417C58.676 18.4991 58.7159 18.3587 58.7943 18.2389L58.193 18.4157C58.074 18.9633 58.0838 19.5306 58.2216 20.0739C58.26 20.2065 58.3103 20.3355 58.372 20.4593C58.6333 21.0038 58.7299 21.0214 58.6977 21.124C58.2003 22.7215 57.7905 24.3443 57.47 25.9854C58.8194 26.4521 61.2927 27.5269 62.5848 28.0962ZM34.262 52.665C32.7301 52.7287 29.4371 52.8454 27.9267 52.7994C28.0305 53.2449 28.0949 53.5277 28.1128 53.5914C28.8323 53.5914 33.4817 52.7959 34.262 52.665ZM27.3469 52.4847C28.3061 52.7075 40.7584 52.2266 41.825 51.7776C41.714 50.9856 40.6689 46.5343 40.4577 45.6257C39.5183 45.9097 38.541 46.0528 37.5585 46.0499C37.2006 46.2338 36.61 46.552 36.2557 46.7182C36.295 47.0187 36.3917 47.7293 36.1769 47.9415C35.9622 48.1536 31.0192 49.9462 26.6847 50.4482C26.8595 51.1408 27.0808 51.8211 27.3469 52.4847ZM40.5723 43.9745C40.7371 43.9251 40.8895 43.842 41.0197 43.7306C41.1127 43.6316 41.0805 43.3311 41.0197 43.1896C40.9864 43.1209 40.9273 43.0676 40.855 43.0411C40.7676 43.0036 40.6745 42.9809 40.5794 42.974C40.551 42.9733 40.5234 42.9641 40.5005 42.9476C40.4775 42.931 40.4602 42.9079 40.4508 42.8814C40.4415 42.8549 40.4406 42.8262 40.4482 42.7991C40.4558 42.7721 40.4716 42.7479 40.4935 42.73C40.7029 42.5558 40.8487 42.3186 40.9087 42.0547C40.9087 41.8603 40.8335 41.6587 40.5186 41.4819C40.1606 41.5102 39.0869 42.3871 38.5893 41.8815C38.0918 41.3759 38.6788 40.1915 38.124 40.0925C37.5693 39.9935 37.2901 41.641 37.1934 41.8214C36.8713 42.4401 36.0051 42.882 35.5112 43.3912C35.8095 44.445 36.0484 45.5144 36.227 46.5944C36.9429 46.2161 37.4726 45.8873 37.5263 45.8873C38.2744 45.8625 40.2823 45.6575 40.8049 45.1307C40.8978 45.0598 40.9615 44.9578 40.9839 44.844C41.0063 44.7301 40.9859 44.6121 40.9266 44.512C40.8885 44.4455 40.8372 44.3874 40.7756 44.3412C40.7141 44.295 40.6437 44.2617 40.5687 44.2432C40.538 44.2358 40.5108 44.2184 40.4915 44.1937C40.4721 44.1691 40.4618 44.1387 40.4622 44.1075C40.4627 44.0763 40.4738 44.0462 40.4937 44.022C40.5137 43.9979 40.5414 43.9811 40.5723 43.9745ZM36.585 32.201C37.2499 32.1382 37.9179 32.1122 38.5858 32.1232C38.6717 32.1232 38.7433 32.1656 38.7683 32.247C38.8292 32.4732 39.8421 39.8273 39.8922 40.1879C40.107 36.6523 40.3289 32.9293 40.4935 30.1999C39.2479 32.1621 39.1406 32.3566 38.9437 32.2187C38.28 31.6795 37.6523 31.0985 37.0646 30.4792C36.9572 30.8716 36.7854 31.5116 36.585 32.201ZM33.3099 30.96C33.5533 30.6064 33.7931 30.2529 33.8826 30.1221L32.7265 27.2476L33.3099 30.96ZM32.476 26.9011C31.1222 27.1769 29.8022 27.5953 28.5388 28.1492C28.5924 28.3154 29.2832 30.4014 30.1101 32.8904C30.4895 32.8445 32.6621 32.5828 33.3314 32.5121L32.476 26.9011ZM33.9399 30.5145L33.3743 31.356L33.5533 32.4874L34.1081 32.4167C34.0258 31.6494 33.9685 30.9211 33.9399 30.5145ZM24.0575 34.2446C24.062 34.7049 24.1075 35.1639 24.1935 35.6164C25.4212 35.3053 36.1304 32.7031 37.2185 33.3147C37.7625 33.6258 39.5522 40.8809 39.724 41.535L39.8528 41.4713C39.2873 37.5433 38.5357 32.3919 38.5357 32.3778C37.3151 32.2399 25.5572 33.5551 24.0575 34.2446ZM30.3033 41.6375C31.1051 41.5845 34.2871 41.4289 34.9564 41.8673C35.0602 41.938 35.1031 41.9522 35.4718 43.2603C35.9478 42.7618 36.746 42.2916 37.0145 41.7365C37.1362 41.4925 37.333 39.7106 38.167 39.8485C39.2909 40.0359 37.8556 42.3234 39.5164 41.6163C39.409 41.1673 37.648 33.6789 37.1576 33.4031C36.1196 32.8197 24.7984 35.6659 23.3667 36.0654C23.449 36.9281 24.5013 41.5314 24.6946 42.3729C26.5483 42.0211 28.421 41.7755 30.3033 41.6375ZM35.8154 16.906C35.615 17.0404 35.6221 17.3621 35.6579 17.5954C35.9085 19.1759 37.512 20.134 38.6251 18.6208C38.8793 18.2672 39.0761 17.1429 38.9043 16.8954C38.7898 16.7504 37.8663 16.7434 37.6802 16.7434C37.3366 16.7469 35.9944 16.7999 35.8297 16.906H35.8154ZM40.0783 17.1606C40.0783 17.8253 40.3038 18.9284 40.9016 19.2466C41.8644 19.7416 42.8415 18.9567 42.8666 17.9349C42.9033 17.5618 42.8852 17.1855 42.8129 16.8176L42.7771 16.7999C42.8344 16.7009 40.3181 16.6691 40.0926 16.8919C40.085 16.9813 40.085 17.0712 40.0926 17.1606H40.0783ZM38.8327 24.8576C38.2135 25.0343 37.2149 24.9495 36.7353 24.4651C36.7252 24.4546 36.7196 24.4407 36.7196 24.4262C36.7196 24.4118 36.7252 24.3978 36.7353 24.3873C36.8176 24.2883 36.7353 24.4793 37.6659 24.6171C38.5965 24.755 39.1585 24.6171 40.0998 24.0126C40.5325 23.6199 40.8565 23.1246 41.0411 22.5736C41.4265 21.641 41.6679 20.6566 41.757 19.6532C41.4201 19.7077 41.0744 19.6518 40.7727 19.4941C40.4798 19.3249 40.2529 19.0634 40.1284 18.7516C40.2492 19.1252 40.3484 19.5053 40.4255 19.89C40.4423 19.9393 40.4448 19.9922 40.4328 20.0428C40.4208 20.0934 40.3947 20.1397 40.3575 20.1764C40.11 20.3259 39.8186 20.3882 39.5307 20.3532C39.5222 20.3554 39.5134 20.3556 39.5048 20.3538C39.4963 20.352 39.4883 20.3484 39.4814 20.3431C39.4745 20.3378 39.4689 20.331 39.4651 20.3233C39.4612 20.3155 39.4592 20.307 39.4592 20.2984C39.4592 20.2898 39.4612 20.2813 39.4651 20.2735C39.4689 20.2658 39.4745 20.259 39.4814 20.2537C39.4883 20.2484 39.4963 20.2448 39.5048 20.243C39.5134 20.2413 39.5222 20.2415 39.5307 20.2436C39.743 20.2203 39.948 20.1528 40.132 20.0456C40.2143 19.989 40.1785 20.0244 40.1535 19.9077C40.1284 19.7911 39.6631 18.1046 39.6381 17.9985C39.5271 17.9985 39.1048 17.9419 39.1048 17.8394C39.1048 17.7369 39.4412 17.7086 39.5665 17.7157C39.5665 17.6697 39.545 17.6308 39.5343 17.5954C39.5286 17.5814 39.5288 17.5657 39.5348 17.5517C39.5409 17.5378 39.5522 17.5268 39.5665 17.5212C39.5807 17.5156 39.5966 17.5158 39.6107 17.5217C39.6248 17.5277 39.636 17.539 39.6416 17.553C39.7669 17.7934 39.681 17.705 39.8492 17.7475C39.7847 17.4206 39.7847 17.0844 39.8492 16.7575C40.0533 16.4464 41.281 16.5171 41.6818 16.5418C41.4778 15.3574 40.6832 14.774 40.1964 13.8265C40.0601 13.6066 39.8783 13.4174 39.6631 13.2714C39.5557 13.2431 39.3446 13.5083 39.2157 13.5719C39.0869 13.6356 38.9652 13.9856 38.8578 14.1058C38.5202 14.4855 38.1311 14.8175 37.7017 15.0922C37.3438 15.3433 36.7854 15.3822 36.542 15.7039C36.4392 15.9775 36.3894 16.2677 36.3953 16.5595C36.857 16.5312 38.7826 16.5029 39.0117 16.8282C39.2193 17.0899 39.1298 18.2849 38.8256 18.7445C38.0596 19.89 36.882 19.9608 35.9622 18.9284C35.8633 18.8065 35.7792 18.6736 35.7116 18.5324C35.0244 19.5931 34.4839 20.2259 34.4589 21.4705C34.4302 23.0473 34.8812 25.6601 33.1524 25.989L32.8554 26.7986C34.2871 30.3554 34.2119 30.1327 34.2119 30.168C34.2119 30.2034 34.2799 31.2287 34.4052 32.4025C35.0924 32.3318 35.7331 32.2717 36.3022 32.2257C36.3451 32.0808 36.8785 30.2069 36.8677 30.168C36.814 29.9913 37.0825 29.6448 37.2901 29.3372C38.0686 28.2238 38.9186 27.1609 39.8349 26.1551L38.8327 24.8576ZM40.0926 26.2506C40.0318 26.3425 37.4547 29.1427 37.1397 30.1716C37.7188 30.8056 38.3445 31.3965 39.0117 31.9394C39.2515 31.6282 39.8994 30.6029 40.515 29.6448C40.6259 27.7956 40.7011 26.5087 40.719 26.24C40.5186 26.2258 40.2931 26.2364 40.107 26.2506H40.0926ZM52.8742 29.7862C53.2823 29.0791 53.8478 24.4828 53.7153 23.7757C53.7153 23.712 53.7153 23.6908 53.4147 23.6095C52.1333 23.2807 47.6377 22.9024 47.1653 23.0615C46.8074 23.7509 46.0235 28.2517 46.2096 28.9447C46.5747 29.2346 51.8219 29.9665 52.8885 29.7862H52.8742ZM52.6237 41.4183C53.0353 40.6193 53.3395 35.4962 53.1355 35.3017C52.8313 35.0118 47.1187 34.7643 46.5783 34.9729C46.2204 35.7154 45.7121 40.2763 45.9233 40.895C46.4101 41.2557 51.779 41.6092 52.638 41.4183H52.6237ZM44.4522 35.4926C44.1945 35.4255 42.3977 34.9729 42.1829 34.8456C42.029 34.7572 41.8536 35.0436 44.8638 26.8835C44.5059 26.5582 41.3776 26.141 40.8837 26.293C40.8837 26.4875 40.4148 34.7396 40.0461 41.3617C40.2215 41.2769 40.4756 41.1461 40.6367 41.2345C41.3096 41.588 41.3525 42.1749 40.855 42.7477C40.9479 42.7702 41.0342 42.8139 41.107 42.8753C41.1797 42.9367 41.2368 43.0141 41.2738 43.1012C41.3312 43.234 41.3556 43.3783 41.345 43.5222C41.3344 43.6661 41.2891 43.8055 41.2129 43.9286C41.1295 44.0075 41.0341 44.0731 40.9302 44.123C41.0371 44.1938 41.1215 44.2931 41.1736 44.4094C41.2205 44.5096 41.2484 44.6175 41.2559 44.7276L44.4522 35.4926ZM35.5434 57.4947L40.2179 58.0073C40.1964 57.8376 39.6703 53.7399 39.5021 52.3504C38.5285 52.4352 37.3545 52.5095 36.0982 52.5766C35.8906 55.1258 35.5255 56.8865 35.5577 57.4947H35.5434ZM35.2964 57.4664C35.2463 56.6603 35.9192 52.6191 35.9228 52.5837L35.5649 52.6014C34.3479 52.8241 31.2125 53.3722 30.8724 53.4287C30.7579 54.5672 30.4716 57.2189 30.4036 57.7634C35.7402 57.424 35.164 57.4522 35.3143 57.4664H35.2964ZM16.3048 49.9002C16.6627 50.183 21.9207 50.6568 23.0052 50.4235C23.424 49.6209 23.7211 44.5013 23.517 44.3069C23.2092 44.0134 17.4967 43.773 16.9634 43.9781C16.6269 44.717 16.1079 49.2956 16.3191 49.9002H16.3048Z",fill:"black"}))),n.createElement("defs",null,n.createElement("pattern",{id:"pattern0_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image0_4378_11342",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})),n.createElement("pattern",{id:"pattern1_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image1_4378_11342",transform:"matrix(0.000916004 0 0 0.00166667 -0.0496025 0)"})),n.createElement("filter",{id:"filter0_dd_4378_11342",x:"3.99829",y:"4",width:"72",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"1"}),n.createElement("feGaussianBlur",{stdDeviation:"1.5"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11342"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"0.25"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_4378_11342",result:"effect2_dropShadow_4378_11342"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_4378_11342",result:"shape"})),n.createElement("pattern",{id:"pattern2_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image0_4378_11342",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})),n.createElement("pattern",{id:"pattern3_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image1_4378_11342",transform:"matrix(0.000909091 0 0 0.00166667 -0.0454545 0)"})),n.createElement("clipPath",{id:"clip0_4378_11342"},n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"white"})),n.createElement("image",{id:"image0_4378_11342",width:"1200",height:"687"}),n.createElement("image",{id:"image1_4378_11342",width:"1200",height:"600"})))}function az({type:e}){let{navigateToVisualAssets:t}=(0,w.wV)(),l=(0,ei.sN)(),a=n.useCallback(e=>{l("visualAssetPacks",e)},[l]),r=n.useCallback(()=>{a(t(e))},[t,a,e]);return n.createElement("div",{className:"asset_panel_visual_asset_packs--assetPanelRow--zIB-D"},n.createElement("button",{onClick:r,className:"asset_panel_visual_asset_packs--assetPackContainer--hci-7"},n.createElement(aj,{type:e})))}function aj({type:e}){let t=e===w.G3.IconSets?n.createElement(a$,null):n.createElement(aU,null),l=e===w.G3.IconSets?(0,m.t)("design_systems.assets_panel.icon_sets"):(0,m.t)("design_systems.assets_panel.illustrations");return n.createElement("div",{className:"asset_panel_visual_asset_packs--assetPack--cBQV4"},t,n.createElement("h3",{className:"asset_panel_visual_asset_packs--title--NDdZn ellipsis--ellipsis--Tjyfa"},l))}let aX=(0,G.jz)(el.RU)+1,aY=(0,G.jz)(el.nT),aJ=16/9;function aq({sidebarWidth:e,minCardWidth:t=180,previewPadding:l=aX,widthToHeightRatio:a=aJ,rowPadding:r=aY}){let i=e-2*r,s=n.useMemo(()=>tM({elementMinSize:t,spaceAvailable:i,gap:0}),[t,i]),o=n.useMemo(()=>tP({numElements:s,spaceAvailable:i,gap:0}),[s,i]),c=n.useMemo(()=>o-2*l,[o,l]),d=n.useMemo(()=>tL({width:c,widthToHeightRatio:a}),[c,a]);return n.useMemo(()=>({cardWidth:o,previewWidth:c,previewHeight:d,numColumns:s}),[o,c,d,s])}let aZ="asset_panel_libraries--row--nHi0j",aQ="asset_panel_libraries--libraryPrimaryButton--hs6a7",a0=(0,G.jz)(el.YJ),a1=(0,G.jz)(el.RQ),a3=(0,G.jz)(el.ce),a2=(0,G.jz)(el.Kv),a4=(0,G.jz)(el.PK),a5=(0,G.jz)(el.vr),a8=(0,G.jz)(el.CT)+16;function a6({width:e,hideScrollbar:t,localAssets:l}){let{libraries:a,presets:r,siteLibraries:i,librariesForConnectedProject:s}=(0,n4.g)(),o=ao(),c=(0,ep.md)(w.aK)===w.t6.Blocks;return o?n.createElement("div",{style:{width:e}},n.createElement(nV.od,null)):c?n.createElement(rt,{siteLibraries:i,hideScrollbar:t,width:e}):n.createElement(a7,{localAssets:l,subscribedLibraries:a,librariesForConnectedProject:s,presetLibraries:r,hideScrollbar:t,width:e})}function a7({localAssets:e,subscribedLibraries:t,presetLibraries:l,librariesForConnectedProject:a,width:r,hideScrollbar:i}){let{librariesScrollTop:s,handleScrollLibraries:o}=tA(),c=!!(0,E.GM)()(),{currentView:d}=(0,w.wV)(),[u]=(0,eo.MA)(),p=(0,ep.md)(nO),_=nK(),f=c?eo.$H.LIST:u,{cardWidth:y,previewHeight:h,numColumns:b}=aq({sidebarWidth:r}),C=f===eo.$H.GRID?b:1,v="grid"===f?a0+h+2:a2,k=t.length>0,S=e.numComponents+e.numTemplates>0,x=l.length>0,T=a.length>0,N=T&&(k||S),I=x&&(T||k||S),A=n.useMemo(()=>{let r=[];_&&(r.push({element:n.createElement(nB,null),key:"asset_suggestions",height:p}),r.push({element:n.createElement(ac,{page:void 0}),key:"breadcrumb",height:a3}));let i=[];S&&i.push(e),k&&i.push(...t);for(let e=0;e<i.length;e+=C){let t=i.slice(e,e+C);r.push({element:n.createElement("div",{className:aZ},t.map((t,l)=>n.createElement(aV,{key:t.libraryKey,library:t,keyboardSection:z.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:l,cardWidth:y,previewHeight:h}))),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:v})}N&&(r.push({element:n.createElement(eu.cG,null),key:"connected_project_divider",height:a1}),r.push({element:n.createElement(eu.X3,{title:(0,m.t)("design_systems.libraries_modal.connected_project_libraries")}),key:"connected_project_header",height:a3}));for(let e=0;e<a.length;e+=C){let t=a.slice(e,e+C);r.push({element:n.createElement("div",{className:aZ},t.map((t,l)=>n.createElement(aV,{key:t.libraryKey,library:t,keyboardSection:z.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:l,cardWidth:y,previewHeight:h}))),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:v})}I&&(r.push({element:n.createElement(eu.cG,null),key:"presets_divider",height:a1}),r.push({element:n.createElement(eu.X3,{title:(0,m.t)("design_systems.assets_panel.ui_kits")}),key:"preset_libraries_header",height:a3}));for(let e=0;e<l.length;e+=C){let t=l.slice(e,e+C);r.push({element:n.createElement("div",{className:aZ},t.map((t,l)=>n.createElement(aV,{key:t.libraryKey,library:t,keyboardSection:z.gP.PRESETS,rowIndex:e,columnIndex:l,cardWidth:y,previewHeight:h}))),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:v})}return c&&(r.push({element:n.createElement(eu.cG,null),key:"va_packs_divider",height:a1}),r.push({element:n.createElement(eu.X3,{title:(0,m.t)("design_systems.assets_panel.assets_from_community"),onboardingKey:g.Bs}),key:"visual_assets_header",height:a3}),r.push({element:n.createElement(az,{type:w.G3.IconSets}),key:"visual_assets_icon_sets",height:a5}),r.push({element:n.createElement(az,{type:w.G3.Illustrations}),key:"visual_assets_illustrations",height:a5})),r.push(c?{element:n.createElement(re,null),key:"browse_more_assets_button",height:a4}:{element:n.createElement(a9,null),key:"add_more_libraries_button",height:a4}),r},[_,S,k,I,c,p,v,C,h,y,e,t,N,a,l]);return n.createElement(tu,{elements:A,hideScrollbar:i,initialScrollTop:s,onScroll:o,anchorScroll:d===w.S5.Libraries})}function a9(){let{onToggleLibraryModal:e}=(0,nl.u)({entrypoint:nG.r6.ASSETS_PANEL_ADD_MORE_LIBRARIES,modalType:"editor",initialTab:ty.Wv.RECOMMENDED});return n.createElement("div",{className:aQ},n.createElement(l7.$n,{variant:"secondary",onClick:e,recordingKey:"assetsLibrary.addMoreLibraries"},(0,m.tx)("design_systems.assets_panel.add_more_libraries")))}function re(){return n.createElement(nt.o3,{trackingEventName:"cmty_category",trackingProperties:{name:"visual_assets_browse_more_assets_clicked",text:"Browse more assets"},to:new ne.IE({categorySlug:l9.LJ.icons}).to,className:aQ,target:"_blank"},n.createElement(l7.$n,{variant:"secondary",recordingKey:"assetsLibrary.browseMoreAssets"},(0,m.tx)("design_systems.assets_panel.browse_more_assets")))}function rt({siteLibraries:e,width:t,hideScrollbar:l}){let{librariesScrollTop:a,handleScrollLibraries:r}=tA(),i=n.useRef(null),{cardWidth:s,previewHeight:o}=aq({sidebarWidth:t}),{libraryKeys:c}=(0,ep.md)(nQ.AS),d=c.length+1,{flyout:u,...m}=function(e,t){let l=(0,n.useRef)(new Map),a=(0,n.useRef)(null),r=(0,n.useRef)(null),[i,s]=(0,ep.fp)(aR),o=i?.key,[c,d]=(0,n.useState)(!1),{setSafePolygon:u,isInSafePolygon:m,cursorXSpeedRef:p}=function(){let e=(0,n.useRef)(null),t=(0,n.useCallback)(t=>{e.current=t},[]),l=function(){let e=(0,n.useRef)(0),t=(0,n.useRef)(null),l=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let n=n=>{let r=n.clientX,i=n.timeStamp;if(t.current&&l.current){let n=t.current,a=i-l.current;a>0&&(e.current=(r-n)/a)}t.current=r,l.current=i,a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{e.current=0},50)};return document.addEventListener("mousemove",n),()=>{document.removeEventListener("mousemove",n),a.current&&clearTimeout(a.current)}},[]),e}();return{setSafePolygon:t,isInSafePolygon:(0,n.useCallback)(t=>!!e.current&&function(e,t){let[l,n]=e,a=!1,r=t.length;for(let e=0,i=r-1;e<r;i=e++){let[r,s]=t[e]||[0,0],[o,c]=t[i]||[0,0];s>=n!=c>=n&&l<=(o-r)*(n-s)/(c-s)+r&&(a=!a)}return a}(t,e.current)&&l.current>.1,[l]),cursorXSpeedRef:l}}(),_=(0,n.useRef)(null),f=n.useCallback(()=>{s(null),d(!1),u(null),a.current&&(clearTimeout(a.current),a.current=null)},[s,u]);(0,n.useEffect)(()=>{let t=t=>{let n=t.target;o&&l.current.get(o)?.contains(n)||e?.current?.contains(n)||f()};return document.addEventListener("pointerdown",t),()=>{document.removeEventListener("pointerdown",t)}},[e,f,o]);let y=(0,n.useCallback)((e,t)=>{if(_.current&&(clearTimeout(_.current),_.current=null),r.current=null,o===t){let n=l.current.get(t)?.getBoundingClientRect();n&&u([[e.clientX-1,e.clientY],[n.left,n.top],[n.left,n.bottom]])}else a.current&&(clearTimeout(a.current),a.current=null)},[o,u]),g=(0,n.useCallback)(()=>{a.current&&(clearTimeout(a.current),a.current=null)},[]),E=n.useCallback(()=>u(null),[u]),h=n.useCallback(()=>null!==i&&(f(),!0),[i,f]);(0,ad.O1)(h,ad.KD.OVERLAY);let[b,C]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=[...t,tE.Yl];C(n.createElement(n.Fragment,null,e.map(e=>n.createElement(aN,{hide:o!==e,key:e,onMouseEnter:E,onMouseLeave:g,libraryKey:e,ref:t=>l.current.set(e,t),onDragStart:c?void 0:f}))))},[t,o,y,f,E,g,c]),{flyout:b,onMouseEnter:(e,t)=>{if(r.current=t,!c&&!a.current){a.current=setTimeout(()=>{s({key:t,persisted:c})},200);return}if(!c){if(m([e.clientX,e.clientY]))return;s({key:t,persisted:c})}},onMouseLeave:y,onClick:e=>{if(e===o&&c){f();return}s({key:e,persisted:!0}),d(!0),u(null),a.current&&clearTimeout(a.current)},onMouseMove:(e,t)=>{_.current&&(clearTimeout(_.current),_.current=null),!c&&o&&o!==t&&(m([e.clientX,e.clientY])?(_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{0===p.current&&s({key:t,persisted:c})},100)):s({key:t,persisted:c}))}}}(i,c),p=n.useMemo(()=>{if("disabled"!==e.status){let t=e.data??[];return 0===t.length?Array.from({length:d},(e,t)=>({element:n.createElement(er,{keyPrefix:"blocks",name:"",recordingKey:"assetsLibrary.siteKitLoading",disabled:!1,variant:"preview-no-padding"}),key:`site kit loading-${t}`,keys:[`site kit loading-${t}`],height:a8})):t.map((e,t)=>({element:n.createElement(aV,{key:e.libraryKey,cardWidth:s,columnIndex:1,flyoutHandlers:m,folderVariant:"preview-no-padding",isFolderView:!0,keyboardSection:z.gP.SITE_KIT,library:e,previewHeight:o,rowIndex:t}),key:e.libraryKey,keys:[e.libraryKey],height:a8}))}return[]},[e.status,e.data,d,o,s,m]);return n.createElement("div",{ref:i},n.createElement(tu,{elements:p,hideScrollbar:l,initialScrollTop:a,onScroll:r,anchorScroll:!0}),u)}function rl({page:e,index:t}){let l=(0,ei.sN)(),[a]=(0,eo.MA)(),{navigateToPage:r,libraryKey:s,currentView:o}=(0,w.wV)(),c=n.useCallback(()=>{l("pageRow",r(e.id))},[l,r,e.id]),d=e.id,u=o!==w.S5.Pages,{keyboardNavigationItem:m,setKeyboardNavigationElement:p}=(0,U.M3)({path:[z.ON.CONTENTS,z.lM.PAGES,t],id:e.id,disabled:u}),{focusFirstItem:f,focusSearchBar:y}=(0,es.rl)();(0,es.C0)(m,o===w.S5.Pages&&0===t);let g=(0,es.MB)({onBoth:c,onKeyDown:f,onClick:y}),E=function(e,t){let l=(0,_.q5)(),a=(0,ef.wA)(),r=e===l?.libraryKey,s=e&&!!t,o=(0,lU.b)({libraryKey:e,nodeId:t}),c=n.useMemo(()=>{if(o.data?.type==="team")return o.data.link},[o]),d=n.useCallback(()=>(0,l1.UN)().setCurrentPageAsync(t??""),[t]),u=n.useCallback(()=>{i.definedAnalyticsHandler.trackDefinedEvent("assets_panel.go_to_page",{libraryKey:e??"",pageId:t,fileKey:l?.key,fileTeamId:l?.teamId??void 0,fileOrgId:l?.parentOrgId??void 0,isLocal:r})},[r,e,l?.key,l?.parentOrgId,l?.teamId,t]),m=n.useCallback(()=>{d(),u()},[d,u]),p=n.useCallback(()=>{i.definedAnalyticsHandler.trackDefinedEvent("assets_panel.open_page_context_menu",{libraryKey:e??"",pageId:t,fileKey:l?.key,fileTeamId:l?.teamId??void 0,fileOrgId:l?.parentOrgId??void 0})},[e,l?.key,l?.parentOrgId,l?.teamId,t]),f=(0,H.fd)(e);return n.useCallback(e=>{s&&!f&&(e.preventDefault(),e.stopPropagation(),a((0,l$.j7)({type:l3,data:{libraryPageHref:c,pageId:t,isLocalLibrary:r,onClickLocalPage:m,onClickSubscribedPage:u,position:{top:e.clientY,left:e.clientX}}})),p())},[s,f,a,c,t,r,m,u,p])}(s,e.id),h=n.useMemo(()=>"list"===a?"icon":"preview",[a]),b={pageId:e.id,libraryKey:s||""};return n.createElement(er,{ref:p,disabled:u,keyPrefix:d,name:e.name,onClick:g,onContextMenu:E,pageInfo:b,previewAssetOrUrl:e.previewAsset,recordingKey:`assetsPage.${e.id}`,variant:h})}var rn=l(841807);let ra="performance.ds_eco.asset_panel_pages_view_loading",rr=new rn.jk(ra,{});function ri({didFinishLoading:e}){let t=rr.stop();(0,i.trackEvent)(ra,{elapsedMs:t,isNewAssetPanelFetch:!0,didFinishLoading:e},{forwardToDatadog:!0})}var rs=l(808943);let ro=(0,G.jz)(el.Mj),rc=(0,G.jz)(el.$c),rd=(0,G.jz)(el.d5),ru=2*ro,rm=(0,G.jz)(el.Kd),rp=(0,G.jz)(el.y4),r_=(0,G.jz)(el.Gd),rf=(0,G.jz)(el.xP);function ry({page:e,thumbWidth:t,thumbHeight:l,row:a,column:r}){let i=(0,ei.sN)(),{navigateToPage:s,currentView:o}=(0,w.wV)(),c=n.useCallback(()=>{i("pageRow",s(e.id))},[i,s,e.id]),d=o!==w.S5.Pages,{keyboardNavigationItem:m,setKeyboardNavigationElement:p}=(0,U.M3)({path:[z.ON.CONTENTS,z.lM.PAGES,a],column:r,id:e.id,disabled:d}),{focusFirstItem:_,focusSearchBar:f}=(0,es.rl)();(0,es.C0)(m,o===w.S5.Pages&&0===a&&0===r);let y=(0,es.MB)({onBoth:c,onKeyDown:_,onClick:f}),{widthForCentering:g,textRef:E,iconRef:h}=function(e){let[t,l]=n.useState(void 0),a=n.useCallback(e=>l(e?.scrollWidth),[]),[r,i]=n.useState(void 0);return{textRef:a,iconRef:n.useCallback(e=>i(e?.scrollWidth),[]),widthForCentering:n.useMemo(()=>t&&r?Math.max(Math.min(e-(t+r)-1,r),0):-1,[r,t,e])}}(t),b=(0,z.AZ)(e)?e.embeds[0]?.thumbnail_url:e.previewAsset;return n.createElement(j.E,{className:"site_kit_pages--tile--GWdsc",onClick:y,ref:p,"aria-label":e.name,disabled:d},b?n.createElement(Z.V,{previewAssetOrUrl:b,type:"no-padding",height:l,width:t,keyPrefix:e.id}):n.createElement("div",{className:et,style:{height:l,width:t}}),n.createElement("div",{className:u.s.flex.flexColumn.itemsCenter.wFull.$,style:{width:t}},n.createElement("span",{className:"site_kit_pages--pageName--ARhz3 site_kit_pages--text--gyBIU"},g>0&&n.createElement("div",{className:u.s.flexShrink0.$,style:{width:g}}),n.createElement(tU.G,{text:e.name,ref:E}),n.createElement("div",{className:"site_kit_pages--chevron--MPDzd",ref:h},n.createElement(rs.k,null)))))}let rg=(0,G.jz)(el.RQ),rE=(0,G.jz)(el._q),rh=(0,G.jz)(el.HE);function rb({library:e,width:t,hideScrollbar:l,isLoading:a}){!function({isLoading:e}){let{currentView:t}=(0,w.wV)(),l=(0,eE.ZC)(t);n.useEffect(()=>(l===w.S5.Libraries&&t===w.S5.Pages&&rr.start(),t===w.S5.Pages&&!e&&rr.isRunning&&ri({didFinishLoading:!0}),()=>{l===w.S5.Pages&&t!==w.S5.Pages&&rr.isRunning&&ri({didFinishLoading:!1})}),[e,t,l])}({isLoading:a});let[r]=(0,eo.MA)(),{pagesScrollTop:i,handleScrollPages:s}=tA({libraryKey:e?.libraryKey}),o=n.useMemo(()=>e?Array.from(e.pages):[],[e]),c=(0,H.fd)(e?.libraryKey),{thumbWidth:d,thumbHeight:u,numColumns:m}=function(){let{width:e}=e8(),t=n.useMemo(()=>e-ru,[e]),l=Math.max(Math.min(3,tM({elementMinSize:98,gap:rm,spaceAvailable:t})),2),a=tP({numElements:l,gap:rm,spaceAvailable:t})-2*r_;return{thumbWidth:a,thumbHeight:a,numColumns:l}}(),p=n.useMemo(()=>{if(e?.type===z.yW.SITE&&"grid"===r)return function(e,t,l,a){let r=Array.from(e.pages),i=[],s=l+2*r_+rp+rf;for(let e=0;e<r.length;e+=a){let o=0===e?"site_kit_pages--virtualRowFirst--pNAgS site_kit_pages--virtualRow--F7pf9":"site_kit_pages--virtualRow--F7pf9",c=r.slice(e,e+a),d=[],u=c.map(([e])=>e);c.forEach(([a,r],i)=>{r&&d.push(n.createElement(ry,{key:a,page:r,row:e,column:i,thumbWidth:t,thumbHeight:l}))}),i.push({element:n.createElement("div",{className:o,style:{gap:rm},role:"row"},d),key:u.join("-"),keys:u,height:s+(0===e?0:ro)})}return i.length>0&&(i.unshift({element:n.createElement(eu.hK,{height:rc}),key:"spacer-top",height:rc}),i.push({element:n.createElement(eu.hK,{height:rd}),key:"spacer-bottom",height:rd})),i}(e,d,u,m);let t=[];return o.forEach(([e,l],a)=>{t.push({element:n.createElement(rl,{page:l,index:a}),height:"list"===r?rh:rE,key:e}),0===a&&(0,W.dS)(l.name,{isPreset:c})&&t.push({element:n.createElement(eu.cG,null),key:"examples_divider",height:rg})}),t},[e,r,o,d,u,m,c]);return a?n.createElement("div",{className:"asset_panel_pages--loadingContainer--fyofJ",style:{width:t},"data-testid":"asset-panel-pages-spinner"},n.createElement(nn.k,null)):0===o.length?n.createElement("div",{style:{width:t}}):n.createElement(tu,{elements:p,hideScrollbar:l,initialScrollTop:i,onScroll:s})}var rC=l(402923),rv=l(239910),rk=l.n(rv),rS=l(214638),rx=l(125761);function rw(){let e=nQ.ce().data?.assetsByLibraryKey,t=n.useMemo(()=>e?[...e.values()].flat():[],[e]),l=n.useMemo(()=>(0,th.u)(),[]),a=(0,rS.o)(ty.PW.RESPONSIVE_SET),r=(0,ep.md)(lc),i=(0,rx.TA)(),s=n.useMemo(()=>{if(!i)return[];let e=[...a,...r].filter(e=>e.lastAddedAtUserId[i]);return(0,tm.hR)(e,e=>-(e.lastAddedAtUserId[i]??0)),e},[a,r,i]);return n.useMemo(()=>{let e=rk()(t??[],"key"),n=rk()(l,"name");return s.map(t=>"key"in t?e[t.key]:n[t.name]).filter(rC.Gh)},[s,t,l])}function rT(){let{productComponents:e}=(0,nd.g5)(nu.$A.Design),t=rw(),{getLibrary:l}=(0,ed.G)(),[a]=(0,eo.MA)(),r="list"===a,i=n.useCallback(e=>{let t=l(e);return t?.name||""},[l]),s=tG(),{props:o,numColumns:c}=n.useMemo(()=>tW(s,a,$.rp.NORMAL),[s,a]),{componentSectionNameForTracking:d}=(0,ei.zf)(),u=e.length>0,p=t.length>0;return n.createElement(eu.xU,null,p&&n.createElement(n.Fragment,null,n.createElement(eu.X3,{title:(0,m.t)("design_systems.assets_panel.site_blocks")}),n.createElement("div",{className:r?nA:nI},t.map((e,t)=>"embed"===e.type?n.createElement(lo,{embed:e,key:e.name,sectionNameForTracking:"Recently used site kit assets",sectionPosition:t,keyboardPosition:(0,es.pg)([z.tM.SITE_KIT],t,c),thumbHeight:o.thumbHeight,thumbWidth:o.thumbWidth,libraryName:(0,m.t)("design_systems.assets_panel.site_blocks.embeds")}):n.createElement(tQ,{key:`assetPanelRecents:siteKit:${(0,e_.V)(e)}`,asset:e,sectionNameForTracking:"Recently used site kit assets",sectionPosition:t,keyboardPosition:(0,es.pg)([z.tM.SITE_KIT],t,c),thumbHeight:o.thumbHeight,thumbWidth:o.thumbWidth,libraryName:i(e.sourceLibraryKey)})))),p&&u&&n.createElement("div",{className:"asset_panel_recents--buffer--URYGQ"}),u&&n.createElement(n.Fragment,null,p&&n.createElement(eu.X3,{title:(0,m.t)("design_systems.assets_panel.dropdown_type_all_libraries")}),n.createElement("div",{className:r?nA:nI},e.map((e,t)=>n.createElement(e1,{key:`assetPanelRecents:component:${(0,e_.V)(e)}`,asset:e,fileName:i(e.library_key),sectionNameForTracking:d,sectionPosition:t,keyboardPosition:(0,es.pg)([z.tM.COMPONENTS],t,c),...o})))),n.createElement("div",{className:"asset_panel_recents--bottomPadding--9BTkl"}))}var rN=l(730455),rI=l(277930),rA=l(238462),rM=l(466930),rP=l(424227),rL=l(277454),rO=l(822879),rR=l(922484),rF=l(925144),rD=l(886776);let rK=function({isLoading:e,children:t}){return e?n.createElement("div",{className:"maybe_loading--loadingContainer--Wfq03"},n.createElement(nn.k,null)):n.createElement(n.Fragment,null,t)};var rB=l(938982),rH=l(318147);let rV=new(l(193743)).KH({keys:[{name:"name",weight:.6},{name:"containingFrame.name",weight:.1},{name:"containingFrame.pageName",weight:.1},{name:"description",weight:.05}],threshold:.3,tokenize:!0,shouldSort:!0});function rG(){var e;let t=(0,as.lg)()===rH._Y.SITES,l=(0,nQ.ce)(),a=l.data?.assetsByLibraryKey,r=n.useMemo(()=>(0,th.u)(),[]),i=n.useMemo(()=>{let e=a?[...a?.values()].flat():[];return e?[...e,...r]:void 0},[a,r]),{query:s,searchOption:c}=(0,eI.I)(eA.Cn.AssetsPanel),d=t&&c&&[eR.I.SITE_KIT,eR.I.ALL].includes(c?.type),u=(0,D.$)(i),m=(0,eE.ZC)(s),[p,_]=n.useState([]),[f,y]=n.useState(!1);return n.useLayoutEffect(()=>{(async function(){if(u&&rV.set(i??[]),!s||0===rV.list().length){_([]);return}m||y(!0);let e=[];try{e=(await rV.search(s)).map(e=>e.item)}catch(e){(0,no.x1)(rB.e.DESIGN_SYSTEMS_ECOSYSTEM,"error in site kit search",{message:e.message},{reportAsSentryError:!0})}_(e),y(!1)})()},[i,m,s,u]),e=p.length,n.useEffect(()=>{(0,tj.hw)(e)},[e]),(0,o.h)(()=>()=>(0,tj.hw)(0)),{results:d?p:[],loading:f,query:s}}let rW="asset_panel_search_results--empty--72Hqc",r$=(0,G.jz)(el.ce),rU=(0,G.jz)(el.GH),rz=(0,G.jz)(el.RX),rj="Search keywords and filter results by specific libraries, templates, and components.",rX=({moreResults:e,query:t,showMoreDefault:l})=>{let a=!!(0,E.GM)()(),[r,i]=n.useState(!1),s=l||r||a,o=n.useCallback(()=>i(!0),[]);n.useEffect(()=>i(!1),[t]);let{visualAssetsType:c}=(0,w.wV)(),d=a&&!!c,u=n.useMemo(()=>e.map(e=>e.library_key),[e]),{data:p}=(0,rO.U)(u),_=n.useCallback(e=>p?.[e.library_key]??"",[p]),[f]=(0,eo.MA)(),y=tG(),{props:g,numColumns:h}=n.useMemo(()=>tW(y,f,$.rp.NORMAL),[y,f]),{componentSectionNameForTracking:b}=(0,ei.zf)({moreSearchResults:!0}),C=n.useMemo(()=>td(e,h,"components:moreResults",g,b,[z.tM.COMPONENTS,1],{getFileName:_}),[e,h,g,b,_]);return n.useMemo(()=>{if(0===e.length)return[];let t=[];return d||t.push({element:n.createElement("div",{className:a?"asset_panel_search_results--visualAssetsShowMoreText--sxfrf asset_panel_search_results--visualAssetsShowMore--MJbt7":"asset_panel_search_results--showMoreText--mEcU5 asset_panel_search_results--showMore--yo9-j"},s&&(0,m.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!s&&n.createElement("button",{className:"asset_panel_search_results--showMoreLink--3-Ww3 asset_panel_search_results--showMore--yo9-j blue_link--blueLink--9rlnd",onClick:o},(0,m.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:e.length}))),key:"components:showMoreText",height:a?rz:rU}),s&&t.push(...C),t},[e.length,s,o,C,d,a])};function rY({components:e,moreComponents:t,siteKitAssets:l,query:a,getLibraryNameFromKey:r}){let i=r1(e),s=r1(t),o=i.length+s.length>0,c=l.length>0,d=n.useCallback(e=>r(e.library_key),[r]),[u]=(0,eo.MA)(),p=tG(),{props:_,numColumns:f}=n.useMemo(()=>tW(p,u,$.rp.NORMAL),[p,u]),{componentSectionNameForTracking:y}=(0,ei.zf)(),g=n.useMemo(()=>td(i,f,"components",_,y,[z.tM.COMPONENTS,0],{getFileName:d}),[i,f,_,y,d]),E=rX({moreResults:s,query:a,showMoreDefault:0===i.length&&s.length>0}),[h,b]=(0,n.useState)(!1),[C,v]=(0,n.useState)(!1),k=r3(l),S=n.useMemo(()=>lv(l,f,_.thumbWidth,_.thumbHeight,u,"assets","Site kit search results",[z.tM.SITE_KIT],{libraryKeyToLibraryName:k}),[u,f,_.thumbHeight,_.thumbWidth,k,l]),x=n.useMemo(()=>{let e=[];return c&&(e.push({element:n.createElement(eu.X3,{title:(0,m.t)("design_systems.assets_panel.site_blocks"),numResults:l.length,toggleExpanded:()=>b(e=>!e),isExpanded:!h,collapsible:!0}),key:"sitesHeader",height:r$}),h||e.push(...S)),o&&(c&&e.push({element:n.createElement(eu.X3,{title:(0,m.t)("design_systems.assets_panel.dropdown_type_all_libraries"),numResults:i.length,toggleExpanded:()=>v(e=>!e),isExpanded:!C,collapsible:!0}),key:"componentsHeader",height:r$}),C||(e.push(...g),e.push(...E))),e},[c,o,l.length,h,S,C,i.length,g,E]);return n.createElement(tu,{elements:x,anchorScroll:!0})}function rJ(){return(0,w._m)()?n.createElement(rZ,null):n.createElement(rq,null)}function rq(){let{query:e,results:t,isLoading:l}=(0,eI.I)(eA.Cn.AssetsPanel),{normalizedSearchResults:a,unsubscribedSearchResults:r}=t,i=rG(),s=(0,rD.U)(),{libraryKey:o}=(0,w.wV)(),{getLibrary:c}=(0,ed.G)(),d=n.useMemo(()=>a.map(e=>e.library_key),[a]),{data:u,status:p}=(0,rO.U)(d),_=rQ(e),f="loading"===p,y=f&&_,g=n.useCallback(e=>u?.[e]??c(e)?.name??"",[u,c]),E=n.useMemo(()=>o?c(o)?.name:void 0,[c,o]),[,h]=n.useMemo(()=>(0,tj._2)(a.filter(e=>g(e.library_key))),[a,g]),[,b]=n.useMemo(()=>(0,tj._2)(r),[r]),C=h.length+b.length>0,v=i.results.length>0,k=y||l||s||i.loading;return r0({query:e,isLoading:k,isLoadingBreakdown:{isLibraryNamesLoadingWithTimeout:y,isSearchLoading:l,isSubscribedComponentsLoading:s},additionalLogData:{isLibraryNamesLoading:f,isLibraryNamesLoadingTimerActive:_}}),e?n.createElement(rK,{isLoading:k},C||v?n.createElement(rY,{components:h,moreComponents:b,siteKitAssets:i.results,query:e,getLibraryNameFromKey:g}):n.createElement("div",{className:rW},E?(0,m.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:e,libraryName:E}):(0,m.tx)("design_systems.assets_panel.no_results_for_query",{searchQuery:e}))):n.createElement("div",{className:rW},rj)}function rZ(){let{results:e,loading:t,query:l}=rG(),{libraryKey:a}=(0,w.wV)(),[r]=(0,eo.MA)(),{getLibrary:i}=(0,ed.G)(),s=n.useMemo(()=>a?i(a)?.name:void 0,[i,a]),{width:o}=e8(),{tileHeight:c,tileWidth:d,numColumns:u}=function(e){let[t]=(0,eo.MA)(),l=e-tR,a=Math.min(n.useMemo(()=>tM({elementMinSize:120,gap:tO,spaceAvailable:l}),[l]),3),r=n.useMemo(()=>tP({numElements:a,gap:tO,spaceAvailable:l}),[a,l]),i=n.useMemo(()=>tL({width:r,widthToHeightRatio:1,maxHeight:void 0}),[r]);return"list"===t?{tileWidth:40,tileHeight:40,numColumns:1}:{tileWidth:r,tileHeight:i,numColumns:a}}(o),p=n.useMemo(()=>lv(e,u,d,c,r,"assets","Site kit search results",[z.tM.COMPONENTS],{includesFirstTile:!0}),[r,u,e,c,d]);return l?n.createElement(rK,{isLoading:t},e.length>0?n.createElement(tu,{elements:p,anchorScroll:!0}):n.createElement("div",{className:rW},(0,m.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:l,libraryName:s}))):n.createElement("div",{className:rW},rj)}let rQ=e=>{let t=(0,eE.ZC)(e),{isActive:l,start:a}=(0,rP.Z)(rA.lQ);return n.useEffect(()=>{e!==t&&a(1e4)},[e,t,a]),l},r0=({isLoading:e,isLoadingBreakdown:t,additionalLogData:l,query:a})=>{let r=(0,eE.ZC)(e),s=(0,eE.ZC)(a),[o,c]=n.useState(null),d=(0,rx.iZ)(),u=(0,rN.DP)().version,m=(0,e4.tM)(),p=(0,eE.ZC)(m),y=(0,f.je)(),g=(0,ef.d4)(e=>e.fileVersion),E=(0,ef.d4)(e=>e.loadingState),h=(0,_.q5)(),b=h?.key,C=(0,rR.oh)(rM.fi),v=n.useCallback(n=>{if(!o)return;let a=Date.now()-o;if(a<5e3)return;let r=y.data?.map(e=>{let t=rL.Mb(e.libraryKey);return{libraryKey:e.libraryKey,isLoading:!rR.D2(E,t)}}),s=h&&null!=g&&(0,rF.yD)(h.key)||null,c=!(null!=s&&(0,rR.D2)(E,s));i.definedAnalyticsHandler.trackDefinedEvent("assets_panel.search_long_loading",{...t,...l,fileKey:b,userId:d?.id,uiThemeVersion:u,queryId:m??p??void 0,loadingTimeMS:a,isLoading:e,queryCancelled:n,isLoadingSubscribedComponentsAndStateGroups:c,isLoadingRecentlyUsedItems:C,subscribedLibariesLoading:JSON.stringify(r)})},[y,g,E,h,o,e,t,C,b,l,d?.id,u,m,p]),k=(0,rI.A)(v,100,{leading:!0,trailing:!1}),S=n.useRef(v);n.useEffect(()=>{S.current=v},[v]);let{start:x,cancel:w}=(0,rP.Z)(()=>k(!1)),T=n.useCallback(()=>{v(!0),c(Date.now()),x(5e3)},[v,x]);n.useEffect(()=>{e&&!r?T():!e&&r&&(w(),v(!1),c(null))},[e,r,T,v,w]),n.useEffect(()=>{a!==s&&T()},[a,s,T]),n.useEffect(()=>()=>{S.current(!0)},[])};function r1(e){let{visualAssetsType:t}=(0,w.wV)(),l=!!(0,E.GM)()(),a=(0,ep.md)(ez.QN),r=(0,ep.md)(ez.r9),i=l&&!!t;return n.useMemo(()=>i?e.filter(e=>e.hub_file_id&&(t===w.G3.IconSets?a.includes(e.library_key):r.includes(e.library_key))):e,[i,e,t,a,r])}let r3=e=>{let t=n.useMemo(()=>e.map(e=>e.type===ty.PW.RESPONSIVE_SET?e.sourceLibraryKey:(0,tp.l)(tE.Yl)),[e]),{getLibrary:l}=(0,ed.G)(),{data:a,status:r}=(0,rO.U)(t);return n.useCallback(e=>{let t=e.type===ty.PW.RESPONSIVE_SET?e.sourceLibraryKey:(0,tp.l)(tE.Yl);return a?.[t]??l(t)?.name??""},[a,l])};var r2=l(776833);function r4({libraryKey:e,numComponents:t,size:l}){let{focusSearchBar:a}=(0,es.rl)(),{navigateToLibrary:r}=(0,w.wV)(),i=(0,ei.sN)(),s=n.useCallback(()=>{i("visualAssetMoreTile",r(e))},[e,i,r]),o=n.useCallback(e=>{e.stopPropagation(),s(),a()},[a,s]),c=t-11,d=c>=1e3?(c/1e3).toFixed(1)+"k":c.toString();return n.createElement("button",{onClick:o,className:"asset_panel_visual_asset_more_tile--tile--r9fF-",style:{width:l,height:l}},n.createElement("div",{className:"asset_panel_visual_asset_more_tile--moreText--QNS99 text--fontPos13--xW8hS text--_fontBase--QdLsd"},"+",d))}function r5({libraryKey:e,sectionIndex:t}){let{width:l}=e8(),a=(0,ep.md)(ez.Rs),{getLibrary:r}=(0,ed.G)(),i=r(e),s=i?.type===z.yW.DESIGN?i.numComponents:0,o=n.useMemo(()=>{if(i?.type===z.yW.DESIGN)return Array.from(i.pages.values())},[i]),c=[];if(o?.[0]?.components&&i?.libraryKey){let e=a?.[i?.libraryKey]?.asset_panel_component_ids||[];if(e.length>=11){let t=[];o.forEach(l=>{if(l.components){let n=tx(l.components).filter(t=>"component_key"in t&&e.includes(t.component_key||""));t.push(...n)}});let l=t.reduce((e,t)=>("component_key"in t&&t.component_key&&(e[t.component_key||""]=t),e),{});c=e.map(e=>l[e]).filter(e=>!!e)}else c=tx(o[0].components).slice(0,11)}let d=(0,$.PI)(c,!0),u=(l-24-24)/4,m={showName:!1,noBackground:!0};return c.length?n.createElement("div",{className:"asset_panel_visual_asset_components--container--qLYh4"},[0,1,2].map(l=>n.createElement("div",{className:"asset_panel_visual_asset_components--row--leYBr",key:l},c.slice(4*l,(l+1)*4).map((e,a)=>n.createElement(e1,{key:`$visualAssetsPanel:component:${(0,e_.V)(e)}`,asset:e,disableClickPropagation:!0,displayType:"grid",fileName:void 0,hideInlineName:!0,isFirstTile:!1,isVisualAsset:!0,keyboardPosition:{path:[t,l],column:a},libraryItemTileProps:m,sectionDepth:a,sectionNameForTracking:"Visual assets panel",sectionPosition:l*a,sourceForTracking:"visual-assets-panel",thumbHeight:u,thumbLayout:d,thumbWidth:u,viewMode:eB.Bk.Grid})),2===l&&n.createElement(r4,{libraryKey:e,numComponents:s,size:u})))):null}function r8({library:e,sectionIndex:t}){let{navigateToLibrary:l}=(0,w.wV)(),a=(0,_.q5)(),[i,s]=n.useState(!1),o=(0,ei.sN)(),c=n.useCallback(()=>{o("visualAssetLibraryCard",l(e.libraryKey))},[e,o,l]),d=n.useMemo(()=>{let t=e.libraryKey===a?.libraryKey?"localLibrary":e.libraryKey;return eh.Pt("assetsLibrary",t)},[e.libraryKey,a?.libraryKey]);return n.createElement(q.GG,{className:r()("asset_panel_visual_asset_library--library--ta4FR",{"asset_panel_visual_asset_library--hovered--r37Mn":i}),"aria-label":e.name,onClick:c,style:{width:"100%"},recordingKey:d},n.createElement("div",{className:"asset_panel_visual_asset_library--libraryCard--ljr--"},n.createElement(r5,{libraryKey:e.libraryKey,sectionIndex:t}),n.createElement(r6,{library:e,setHovered:s})))}function r6({library:e,setHovered:t}){let l=(0,ep.md)(ez.Rs),a=l?.[e.libraryKey]?.author_name||e.authorName;return n.createElement("div",{className:"asset_panel_visual_asset_library--libraryFooter--WtYtC",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)},n.createElement("div",{className:"asset_panel_visual_asset_library--libraryNameAndAuthor---pya2"},n.createElement("div",{className:"asset_panel_visual_asset_library--nameAndIconForList--Opwld"},n.createElement("h3",{className:"asset_panel_visual_asset_library--libraryName--y8FNs ellipsis--ellipsis--Tjyfa"},e.name),n.createElement("div",{className:"asset_panel_visual_asset_library--libraryIcon--FWTh-"},n.createElement(ew.P,{libraryKey:e.libraryKey,compact:!0,showPresetTooltip:!0,colorPrimaryOnHover:!0,tooltipDelay:500,tooltipLocation:"below"}))),a&&n.createElement("div",{className:"asset_panel_visual_asset_library--libraryStats--NtW2u ellipsis--ellipsis--Tjyfa"},(0,m.tx)("community.by_publisher",{publisher:a}))))}var r7=l(311290);function r9({width:e}){let{visualAssetsType:t}=(0,w.wV)(),l=(0,eE.qd)(t),a=t??l,[i]=(0,eo.MA)(),s="list"===i,o=(0,r2.lY)(),c=o.length>0,d=(0,ep.md)(ez.QN),u=(0,ep.md)(ez.r9),{cardWidth:m,previewHeight:p}=aq({sidebarWidth:e}),_=o.filter(e=>a===w.G3.IconSets?d.includes(e.library_key):u.includes(e.library_key));return n.createElement(eu.xU,null,c&&n.createElement(n.Fragment,null,n.createElement("div",{className:r()("asset_panel_visual_assets--list--APKhG",{"asset_panel_visual_assets--gridGap--DCeF2":!s})},_.map((e,t)=>{let l=(0,r7.x)(e);return s?n.createElement(aV,{key:e.library_file_key,library:l,keyboardSection:z.gP.VISUAL_ASSETS,rowIndex:t,columnIndex:0,cardWidth:m,previewHeight:p,hideUnsubscribe:!0}):n.createElement(r8,{key:e.library_file_key,library:l,sectionIndex:t})}))),n.createElement("div",{className:"asset_panel_visual_assets--bottomPadding--OULyc"}))}var ie=l(672345);let it=(e,t,l)=>e===w.S5.Libraries?0:l?e===w.S5.VisualAssets?1:e===w.S5.Pages||t?2:3:e===w.S5.Pages||t?1:2;function il({assetPanelItemsByLibraryKey:e,width:t}){let{libraryKey:l,pageId:a,currentView:r,isNavigatingVisualAssets:s}=(0,w.wV)(),{previousLibraryKey:o}=(0,w.RR)(),c=ia(),d=!!(0,E.GM)()(),{getPage:u,getLibrary:m}=(0,ed.G)(),p=(0,rD.q)()(l);(0,V.A)(e),ir(),(0,K.S)();let f=n.useMemo(()=>m(l??o),[m,l,o]),y=n.useMemo(()=>u(l,a),[u,l,a]),g=it(r,c,d&&s),{libraries:h,presets:b,librariesForConnectedProject:C}=(0,n4.g)(),{localAssets:v}=e;return!function(e,t,l,a){let r=(0,_.q5)(),[s,o]=(0,ep.fp)(ie.GT),c=t.length+l.length+a.length;e.numComponents+e.numTemplates>0&&(c+=1),n.useEffect(()=>{if(!s){o(!0);let e=ie._o.stop();e&&(0,i.trackEvent)(ie.YS,{elapsedMs:e,fileKey:r?.key,teamId:r?.teamId,orgId:r?.parentOrgId,isUi3RedesignedAssetPanel:!0,numLibraries:c,numComponents:0,numComponentsShown:0,numSectionsShown:c},{forwardToDatadog:!0})}},[s,o,c,r])}(v,h,b,C),n.createElement(n.Fragment,null,n.createElement(l6,null),r===w.S5.Search?n.createElement(rJ,null):r===w.S5.Recents?n.createElement(rT,null):n.createElement(lk,{index:g,width:t},n.createElement(a6,{width:t,hideScrollbar:0!==g,localAssets:v}),d&&s&&n.createElement(r9,{width:t}),!c&&n.createElement(rb,{library:f,width:t,isLoading:p,hideScrollbar:1!==g}),n.createElement(lI,{page:y,width:t})))}let ia=()=>{let{getLibrary:e}=(0,ed.G)(),{libraryKey:t}=(0,w.wV)(),l=(0,rD.q)()(t),n=e(t);return!!n&&!l&&!!(0,w.Cg)(n)},ir=()=>{let{libraryKey:e}=(0,w.wV)(),t=(0,B.R)(),l=(0,D.$)(e),a=(0,H.fd)(e);n.useEffect(()=>{a&&l&&t({updateSource:"ui3_library_expand"})},[l,a,t])};var ii=l(779492),is=l(250838),io=l(523152),ic=l(227276),id=l(561882),iu=l(596224),im=l(547333),ip=l(877770),i_=l(696483),iy=l(857607),ig=l(656329),iE=l(710481);let ih="asset_panel_search--libraryChip--1nfYR asset_panel_search--horizontalFlex---CG1k",ib="asset_panel_search--libraryChipRemove--kJiJn",iC="asset_panel_search--libraryChipText--3TsfE ellipsis--ellipsis--Tjyfa";function iv({libraryName:e}){let t=(0,ef.wA)(),{currentView:l,startSearch:a,onBack:r,libraryKey:s,visualAssetsType:o}=(0,w.wV)(),c=l===w.S5.Search,u=(0,w._m)(),p=(0,as.cJ)(),{inputRef:f,focusSearchBar:y}=(0,es.rl)(),g=(0,d.b)(),E=(0,ef.d4)(e=>e.leftPanel.shouldFocusSearchBar)||g,{query:h,setQuery:b,setSearchOption:C}=(0,eI.I)(eA.Cn.AssetsPanel),v=(0,_._G)(),k=n.useCallback(()=>{c&&r()},[c,r]),S=n.useMemo(()=>s?s===v?{type:eR.I.LOCAL}:u?{type:eR.I.SITE_KIT}:{type:eR.I.FILE,libraryKey:s}:{type:eR.I.ALL},[u,s,v]),x=n.useCallback(e=>{b(e),C(S),""===e?k():c||a()},[b,C,S,k,c,a]),T=n.useRef(void 0),N=(0,tq.Nv)(!0);n.useEffect(()=>{c&&(h&&T.current!==s&&(i.definedAnalyticsHandler.trackDefinedEvent("asset_search.misc_feature_usage",{aiResultsEnabled:N,entryPoint:"asset-panel",featureSlug:"library-filter-usage"}),C(S)),T.current=s)},[t,c,h,S,N,C,s]);let I=n.useCallback(()=>{""===h&&k()},[k,h]),A=n.useCallback(()=>{x(""),y(),k()},[x,y,k]),M=(0,ef.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);n.useEffect(()=>{let e=e=>{(ig.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===iy.Uz.KEY_2:e.altKey&&e.keyCode===iy.Uz.KEY_2)&&M!==t2.m1T.TEXT&&(y(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[M,y]);let P=n.useMemo(()=>e?(0,m.t)("design_systems.assets_panel.search_library"):p?(0,m.t)("design_systems.assets_panel.search_all_sites_inserts"):o?o===w.G3.IconSets?(0,m.t)("design_systems.assets_panel.search_all_icon_sets"):(0,m.t)("design_systems.assets_panel.search_all_illustrations"):(0,m.t)("design_systems.assets_panel.search_all_libraries"),[e,o,p]);return n.createElement("div",{className:"asset_panel_search--container--u0qoH asset_panel_search--horizontalFlex---CG1k"},n.createElement("div",null,n.createElement(ip.h,null)),n.createElement(iE.E1,{autofocus:E,column:z.Wy.SEARCH,entryPointForTracking:"editor:assets_panel",forwardedRef:f,isNewAssetsPanel:!0,isVisible:!0,onBlur:I,onChange:x,onClearSearch:A,onFocus:rA.lQ,path:[z.ON.HEADER,z.my.SEARCH_AND_FILTER],placeholder:P,query:h,recordingKey:"componentsLibrarySearch",selectOnFocus:!0}))}function ik({library:e}){let{navigateToTop:t}=(0,w.wV)(),{focusSearchBar:l}=(0,es.rl)(),a=(0,ei.sN)(),r=n.useCallback(()=>{a("searchFilterChip",t()),l()},[l,a,t]),{setKeyboardNavigationElement:i}=(0,U.M3)({path:[z.ON.HEADER,z.my.LIBRARY_SEARCH_CHIP]});return e?(0,J.k)().fpl_a11y_chip?n.createElement(im.v,{hasCloseButton:!0,onClose:r,recordingKey:"asset-panel-search-chip",ref:i,htmlAttributes:{"data-testid":"asset-panel-search-chip"}},e.name):n.createElement("div",{className:ih,"data-testid":"asset-panel-search-chip"},n.createElement("span",{className:iC},e.name),(0,J.k)().dse_fpl_wave_1?n.createElement(j.E,{className:ib,onClick:r,recordingKey:"asset-panel-search-chip","aria-label":(0,m.t)("design_systems.assets_panel.search_chip_label"),ref:i},n.createElement(i_.f,null)):n.createElement(q.GG,{className:ib,onClick:r,recordingKey:"asset-panel-search-chip","aria-label":(0,m.t)("design_systems.assets_panel.search_chip_label"),forwardedRef:i},n.createElement(i_.f,null))):null}function iS({visualAssetsType:e}){let{navigateToTop:t}=(0,w.wV)(),{focusSearchBar:l}=(0,es.rl)(),a=(0,ei.sN)(),r=n.useCallback(()=>{a("visualAssetsSearchFilterChip",t()),l()},[l,a,t]),{setKeyboardNavigationElement:i}=(0,U.M3)({path:[z.ON.HEADER,z.my.LIBRARY_SEARCH_CHIP]});return e?n.createElement("div",{className:ih,"data-testid":"asset-panel-visual-assets-search-chip"},n.createElement("span",{className:iC},e===w.G3.IconSets?(0,m.tx)("design_systems.assets_panel.icon_sets"):(0,m.tx)("design_systems.assets_panel.illustrations")),n.createElement(j.E,{className:ib,onClick:r,recordingKey:"asset-panel-visual-assets-search-chip",ref:i},n.createElement(i_.f,null))):null}var ix=l(762217),iw=l(353317),iT=l(361765),iN=l(356572),iI=l(518016),iA=l(573556),iM=l(979309),iP=l(992288),iL=l(680004),iO=l(900980);let iR="assets-panel-settings";function iF({includeFolderSetting:e=!0}){let t=n.useRef(null),{setKeyboardNavigationElement:l}=(0,U.M3)({path:[z.ON.HEADER,z.my.SEARCH_AND_FILTER],column:z.Wy.SETTINGS}),a=(0,_.tS)(),r=(0,nX.Um)(),s=r?.type===iR,o=(0,ef.wA)(),c=n.useCallback(()=>{s?o((0,l$.oB)()):(o((0,l$.j7)({type:iR,data:{position:{top:t.current?.getBoundingClientRect().bottom,left:t.current?.getBoundingClientRect().left}}})),i.definedAnalyticsHandler.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:a??void 0,assetsPanelVersion:3}))},[o,a,s]),d=n.useMemo(()=>{if(s)return r.data?.position},[r?.data?.position,s]);return n.createElement(n.Fragment,null,n.createElement(ix.o,{eventListeners:s?["onMouseDown"]:[]},n.createElement(iw.d,{onClick:c,"aria-expanded":s,ref:(0,iM.A)(t,l),"aria-label":(0,m.t)("design_systems.assets_panel.settings_label"),"aria-haspopup":"listbox",htmlAttributes:{"data-testid":"asset-panel-settings-button"}},n.createElement(iT.A,null))),s&&n.createElement(iD,{position:d,includeFolderSetting:e,buttonRef:t}))}function iD({position:e,includeFolderSetting:t,buttonRef:l}){let a=(0,ef.wA)(),s=n.useCallback(()=>{a((0,l$.oB)())},[a]),o=(0,ei.R2)("number"==typeof e?.top?e.top:void 0),{productComponents:c}=(0,nd.g5)(nu.$A.Design),d=rw(),[p]=(0,eo.ye)(),{currentView:f,libraryKey:y}=(0,w.wV)(),{getLibrary:g}=(0,ed.G)(),h=(0,_.tS)(),b=(0,_._G)(),[C]=(0,eo.MA)(),v=!!(0,E.GM)()()&&f===w.S5.Libraries,k=v?eo.$H.LIST:C,S=(0,as.cJ)()||v,x=n.useMemo(()=>f!==w.S5.Search&&(c.length>0||d.length>0),[f,c.length,d.length]),T=n.useMemo(()=>h&&b?g(b):void 0,[g,h,b]),N=T?.type===z.yW.DESIGN&&(T.numComponents>0||T.numTemplates>0),{libraries:I,presets:A,librariesForConnectedProject:M}=(0,n4.g)(),{goToLibrary:P,goToAll:L,goToRecents:O,changeAssetsView:R,toggleShowFolders:F}=function(e){let t=(0,_.q5)(),l=(0,ei.sN)(),{navigateToLibrary:a,navigateToTop:r,navigateToRecents:s}=(0,w.wV)(),{setLastNavAction:o}=(0,tN.ZX)(),[,c]=(0,eo.MA)(),[,d]=(0,eo.ye)(),{focusSearchBar:u}=(0,es.rl)(),m=(0,ep.Xr)(w.aK),p=n.useCallback(e=>{l("settingsMenu",e)},[l]),f=n.useCallback(e=>{p(a(e)),u(),m(w.t6.Libraries)},[u,a,m,p]),y=n.useCallback(()=>{p(r()),u()},[u,r,p]),g=n.useCallback(()=>{p(s()),u()},[u,s,p]),E=n.useCallback(()=>e.current?.focus(),[e]),h=n.useCallback(e=>{i.definedAnalyticsHandler.trackDefinedEvent("assets_panel.view_mode_changed",{viewMode:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),c(e),o(tN.r6.ToggleView)},[t?.key,t?.parentOrgId,t?.teamId,c,o]),b=(0,es.NR)({onBoth:e=>()=>h(e),onKeyDown:()=>E}),C=n.useCallback(e=>{i.definedAnalyticsHandler.trackDefinedEvent("assets_panel.folder_toggle",{showFolders:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),d(e)},[t?.key,t?.parentOrgId,t?.teamId,d]);return{goToLibrary:f,goToAll:y,goToRecents:g,changeAssetsView:b,toggleShowFolders:(0,es.NR)({onBoth:e=>()=>C(e),onKeyDown:()=>E})}}(l),D=n.useMemo(()=>{let e=[];return e.push(iK({text:(0,m.t)("design_systems.assets_panel.dropdown_type_all_libraries"),checked:f===w.S5.Libraries||f===w.S5.Search&&!y,onClick:L})),x&&e.push(iK({text:(0,m.t)("design_systems.assets_panel.dropdown_type_recents"),checked:f===w.S5.Recents&&c.length>0,onClick:O})),N&&e.push(iK({text:T.name,checked:f!==w.S5.Recents&&y===T.libraryKey,onClick:()=>P(T.libraryKey)})),(I.length>0||A.length>0)&&e.push(n.createElement(lG.wv,null)),e.push(...I.map(({name:e,libraryKey:t})=>iK({text:e,isApproved:(0,iL.sF)(t),checked:f!==w.S5.Recents&&y===t,onClick:()=>P(t)}))),e.push(...A.map(({name:e,libraryKey:t})=>iK({text:e,isApproved:(0,iL.sF)(t),isPreset:!0,checked:f!==w.S5.Recents&&y===t,onClick:()=>P(t)}))),M.length>0&&(e.push(n.createElement(lG.wv,null)),e.push(n.createElement("div",{className:r()(u.s.textBodyMedium.$,"asset_panel_settings--optionSubtitle--9d2Ib")},(0,m.t)("design_systems.libraries_modal.connected_project_libraries"))),e.push(...M.map(({name:e,libraryKey:t})=>iK({text:e,isApproved:(0,iL.sF)(t),checked:f!==w.S5.Recents&&y===t,onClick:()=>P(t)})))),e.push(n.createElement(lG.wv,null)),S||(e.push(iK({text:(0,m.t)("design_systems.assets_panel.view_toggle_grid"),checked:k===eo.$H.GRID,onClick:R(eo.$H.GRID),icon:n.createElement(iN.t,null)})),e.push(iK({text:(0,m.t)("design_systems.assets_panel.view_toggle_list"),checked:k===eo.$H.LIST,onClick:R(eo.$H.LIST),icon:n.createElement(iI.Z,null)}))),t&&e.push(iK({text:(0,m.t)("design_systems.assets_panel.view_toggle_show_folders"),checked:p,onClick:F(!p),icon:n.createElement(iA.e,null)})),e},[f,y,L,x,N,I,A,M,t,c.length,O,T,P,k,R,p,F,S]),K=n.useMemo(()=>({...e,maxHeight:o}),[o,e]);return t3.createPortal(n.createElement(lG.X3,{className:r()(nj.Dm,"asset_panel_settings--dropdown--gs7K3"),positionAbsolute:!0,style:K,id:iR,hideDropdown:s,autofocusPrevElementOnEsc:!0},D),document.body)}function iK({text:e,isApproved:t,isPreset:l,checked:a,onClick:r,icon:i}){return n.createElement(lG.MM,{className:"asset_panel_settings--dropdownOption--kJ-6M",checked:!!a,onClick:r,key:e},n.createElement("div",{className:"asset_panel_settings--optionContentContainer--iAJ6X"},n.createElement("div",{className:"asset_panel_settings--optionContent---2nCX ellipsis--ellipsis--Tjyfa"},i?n.createElement("div",{className:"asset_panel_settings--optionWithLeftIconContainer--QP3Gm"},i,n.createElement("span",null,e)):e),n.createElement("div",{className:"asset_panel_settings--optionRightIcon--zi-2v"},t?n.createElement(iP.FX,null):l?n.createElement("div",{className:u.s.ml2.$},n.createElement(iO.E,{libraryKey:void 0})):null)))}var iB=l(312155),iH=l(319647),iV=l(706671),iG=l(87463),iW=l(867499),i$=l(614092),iU=l(764872),iz=l(996306),ij=l(131258),iX=l(122586),iY=l(709076),iJ=l(798674),iq=l(286522),iZ=l(593713);let iQ="visual_search_assets_panel";function i0({onDismiss:e}){let[t,l]=n.useState(!1),{width:a}=e8(),r=Math.min(.7*a,240),i=(0,ef.d4)(eP.vD),s=(0,i$.Fk)((e,t)=>{let l=e.get(t);return l?.name},i),{getConfig:o}=(0,ic.I7)("assets_panel_visual_search"),c="component_filter"===o().get("variant","control"),d=n.useCallback(()=>{i&&((0,iX.$I)({moduleToOpen:{type:"custom",module:(0,tq.P5)()?n.createElement(iY.z6,{initialSearchTagType:c?iJ.qG.COMPONENTS:void 0,isVisualSearch:!0,closeOnEscape:!0}):n.createElement(iq.WS,null),beforeModuleOpen:()=>(0,iq.jp)(iW.G4.ASSETS_PANEL_VISUAL_SEARCH),name:ij.Sn.VISUAL_SEARCH},trackingData:{source:iW.G4.ASSETS_PANEL_VISUAL_SEARCH}}),e())},[i,e,c]),u=n.useCallback(t=>{(0,iX.$I)({moduleToOpen:{type:"custom",module:(0,tq.P5)()?n.createElement(iY.z6,{initialSearchTagType:c?iJ.qG.COMPONENTS:void 0,isVisualSearch:!0,closeOnEscape:!0}):n.createElement(iq.WS,null),beforeModuleOpen:()=>(0,iq.qF)(iW.G4.ASSETS_PANEL_VISUAL_SEARCH,t),name:ij.Sn.VISUAL_SEARCH},trackingData:{source:iW.G4.ASSETS_PANEL_VISUAL_SEARCH}}),e()},[e,c]),p=n.useMemo(()=>{if(!i)return null;let e=(0,l1.UN)().get(i);if(!e)return null;let t=(0,iW.T1)(e);return t?t.startsWith("data:image")?t:`data:image/png;base64,${t}`:null},[i]),_=n.useCallback(e=>{e.preventDefault(),e.stopPropagation();let t=e.clipboardData?.files;t?.length===1&&t[0]?.type.startsWith("image/")&&u(t[0])},[u]);n.useEffect(()=>{if(t)return document.addEventListener("paste",_),()=>document.removeEventListener("paste",_)},[_,t]);let f=n.useCallback(e=>(!!e.metaKey||!!e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),d(),!0),[d]),y=(0,eh.fo)(void 0,"keydown",e=>{f(e.event)&&e.accept()});n.useEffect(()=>(document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}),[f]),n.useEffect(()=>{let t=t=>{let l=t.target;l.closest(".modalContainer")||l.closest("canvas")||e()};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[e]);let g=n.useMemo(()=>s||(0,m.tx)("design_systems.assets_panel.visual_search.select_layer"),[s]),E=n.useMemo(()=>i?n.createElement("div",{className:"xl010v5"},n.createElement(iz.Bf,{guid:i})):n.createElement(iB.y,null),[i]);return(0,ad.O1)(()=>(e(),!0),ad.KD.MODAL),n.createElement(iU.vL,{name:"visual_search_modal",handleKeyDown:y,focusOnMount:!0},n.createElement(iZ.NJ,{className:"visual_search_button--modalContainer--RU-Vk pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",dismissModal:e,width:r,targetKey:iQ,arrowPosition:T.F_.TOP,backgroundColor:"var(--color-bg, $figmaFGWhite)",shouldNotWrapInParagraphTag:!0,noAnimation:!0,pointerOffsetOverride:r-12},n.createElement("div",{className:"x78zum5 xdt5ytf x6s0dn4"},n.createElement("div",{className:"x78zum5 x1q0g3np xl56j7k x6s0dn4 xod5an3 x1s2d0ae xxk0z11"},E,n.createElement(iG.E,{fontWeight:"medium",truncate:!0},g)),p?n.createElement(n.Fragment,null,n.createElement("div",{className:"xh8yej3 xekxv85 x19y5rnk x1v8gsql x78zum5 xdt5ytf x6s0dn4 xl56j7k"},n.createElement("img",{src:p||"",alt:"Preview",className:"xeu0yli x14r61f x1tamke2 x19kjcj4"})),n.createElement("div",{className:"x78zum5 x13a6bvl xh8yej3 x14vqqas"},n.createElement(l7.$n,{variant:"secondary",onClick:d},n.createElement(iG.E,null,(0,m.tx)("design_systems.assets_panel.visual_search.search")),n.createElement(l7.$n.Shortcut,null,"\u2318\u23CE")))):n.createElement("div",{className:"xo1570h x192jxwq x2b8uid x1ypdohk xzlr0fm xdnk06y xh8yej3"},n.createElement("input",{type:"file",accept:"image/*",className:"x1s85apg",id:"visual-search-file-input",onChange:e=>{let t=e.target.files?.[0];t&&u(t)}}),n.createElement("button",{className:"xh8yej3",onClick:e=>{e.preventDefault(),e.stopPropagation(),document.getElementById("visual-search-file-input")?.click()}},n.createElement("div",{className:"xggk2y7",onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation();let t=e.dataTransfer.files?.[0];t&&u(t)},onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1)},n.createElement("div",{className:"x78zum5 xdt5ytf x6s0dn4 xl56j7k x1jnr06f"},n.createElement(iH.A,null),n.createElement(iG.E,null,(0,m.tx)("design_systems.assets_panel.visual_search.drag_or_upload")))))))))}function i1(){let[e,t]=n.useState(!1),{setKeyboardNavigationElement:l}=(0,U.M3)({path:[z.ON.HEADER,z.my.SEARCH_AND_FILTER],column:z.Wy.VISUAL_SEARCH_BUTTON});return n.createElement(ix.o,{eventListeners:e?["onMouseDown"]:[]},n.createElement(iw.d,{"data-onboarding-key":iQ,ref:l,onClick:()=>{t(!e),i.definedAnalyticsHandler.trackDefinedEvent("fragment_search.assets_panel_visual_search_button_clicked",{})},"aria-expanded":e,"aria-label":(0,m.t)("design_systems.assets_panel.visual_search.label")},n.createElement(iV.T,null)),e&&n.createElement(i0,{onDismiss:()=>t(!1)}))}let i3=new class{constructor(){this.format=e=>{switch(e){case w.t6.Blocks:return(0,m.t)("design_systems.assets_panel.blocks");case w.t6.Libraries:return(0,m.t)("design_systems.assets_panel.dropdown_libraries")}}}};function i2(){let{getPage:e,getLibrary:t}=(0,ed.G)(),{currentView:l,libraryKey:a,pageId:r}=(0,w.wV)(),i=n.useMemo(()=>e(a,r),[e,a,r]),s=n.useMemo(()=>t(a),[t,a]),o=nK(),[c,d]=(0,ep.fp)(w.aK),u=(0,iu.cJ)()&&l!==w.S5.Search&&l!==w.S5.Recents?[w.t6.Blocks,w.t6.Libraries]:void 0;return n.createElement("div",{className:"x78zum5 xdt5ytf xw6ie8e"},n.createElement(i5,{library:s}),!!u&&n.createElement(i8,{legend:(0,m.tx)("design_systems.assets_panel.assets"),value:c,onChange:e=>{(0,ei.hB)(()=>d(e))}},u.map(e=>n.createElement(ii.RT,{key:e,value:e,label:i3.format(e)}))),!o&&n.createElement(i4,{page:i}))}function i4({page:e}){let{currentView:t}=(0,w.wV)(),l=(0,iu.cJ)(),[a]=(0,ep.fp)(w.aK),r=ao(),i=l&&t===w.S5.Libraries&&a===w.t6.Libraries;return l?a===w.t6.Blocks&&t!==w.S5.Recents?null:a===w.t6.Libraries&&r?null:n.createElement("div",{className:"x78zum5 x1q0g3np x6s0dn4"},n.createElement(ac,{page:e}),i&&n.createElement("div",{className:"x15bdqvn x1y8zg4n"},n.createElement(id.b,{entrypoint:nG.r6.ASSETS_PANEL_BUTTON,hideIfNoUpdates:!1}))):n.createElement(ac,{page:e})}function i5({library:e}){let{currentView:t,visualAssetsType:l}=(0,w.wV)(),a=(0,tq.Ko)(),{getConfig:r}=(0,ic.I7)("assets_panel_visual_search"),i=(0,d.b)(),{closeOverlay:s}=(0,ay.h)(),o=!(0,iu.cJ)()&&a&&"control"!==r().get("variant","control");return n.createElement("div",{...t$.Ay.props(i6.searchAndFilter,i&&i6.leftRailSearchAndFilter)},n.createElement("div",{...t$.Ay.props(i6.search,i&&i6.leftRailSearch)},n.createElement(iv,{libraryName:e?.name})),o&&n.createElement("div",{className:"x1ms6mhf x1npkx4u"},n.createElement(i1,null)),n.createElement("div",{...t$.Ay.props(i6.settings,o&&i6.settingsWithVisualSearchButton)},n.createElement(iF,{includeFolderSetting:[w.S5.Libraries,w.S5.Pages,w.S5.Assets].includes(t)})),i&&n.createElement("div",{className:"x1ms6mhf x1k3v4rp"},n.createElement(nW.K,{"aria-label":(0,m.t)("design_systems.assets_panel.close_inserts"),onClick:s},n.createElement(io.L,null))),t===w.S5.Search&&e&&n.createElement("div",{className:"x78zum5 xeuugli x7sv70a xgkxs2y"},n.createElement(ik,{library:e})),t===w.S5.Search&&l&&n.createElement("div",{className:"x78zum5 xeuugli x7sv70a xgkxs2y"},n.createElement(iS,{visualAssetsType:l})))}function i8({legend:e,value:t,onChange:l,children:a}){return n.createElement("div",{className:"x1swld1g x1xmf6yo xv42yna"},n.createElement(ii.bL,{legend:n.createElement(is.q,null,e),value:t,onChange:l},a))}let i6={searchAndFilter:{display:"xrvj5dj",gridTemplateColumns:"x52fmzj",gridTemplateRows:"x1eavx82",gridAutoRows:"x1on1db2",gap:"x1jnr06f",rowGap:null,columnGap:null,alignItems:"x6s0dn4",marginLeft:"xet2fuk",marginInlineStart:null,marginInlineEnd:null,minHeight:"x21xpn4",padding:"x1y8zg4n",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,$$css:!0},leftRailSearchAndFilter:{padding:"xvq5f2v",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,columnGap:"x1o1pmfc",$$css:!0},search:{gridRow:"x1ms6mhf",gridRowStart:null,gridRowEnd:null,gridColumn:"xgkxs2y",gridColumnStart:null,gridColumnEnd:null,$$css:!0},leftRailSearch:{paddingRight:"x5jayri",paddingInlineStart:null,paddingInlineEnd:null,$$css:!0},settings:{display:"x78zum5",alignItems:"x6s0dn4",gridRow:"x1ms6mhf",gridRowStart:null,gridRowEnd:null,gridColumn:"x1npkx4u",gridColumnStart:null,gridColumnEnd:null,$$css:!0},settingsWithVisualSearchButton:{gridColumn:"x1k3v4rp",gridColumnStart:null,gridColumnEnd:null,$$css:!0}};var i7=l(295156);let i9=e=>n.useCallback(t=>{t()||e()},[e]);var se=l(410725),st=l(30575),sl=l(55116),sn=l(526594),sa=l(547952);function sr({width:e}){let t=n2(),l=function(e){let t=(0,rx.iZ)(),l=(0,_.q5)(),a=(0,sn.jO)(),r=(0,k.f)("has_dismissed_component_sidebar_library_upsell_banner"),i=(0,ef.d4)(e=>e.isFreeUser),s=(0,ef.d4)(nZ.P),o=l?.teamId?s[l.teamId]:null,c=(0,se.Rs)(sl.kQI,{id:l?.teamId??""},{enabled:!!l?.teamId}),d=l?.canEdit??!1,u=c.data?.team?.hasPermission??!1,m=e.numComponents>0||e.numTemplates>0;return n.useMemo(()=>!r&&i&&(!o||!(0,nq.w5)(o)&&u)&&d&&a&&m&&(0,st.Hz)(t?.id),[r,i,o,u,d,a,m,t])}(t.localAssets),a="loading"===(0,f.je)().status,r=n.useRef(null),c=s.wY(r)?.width||e,[d]=(0,eo.MA)(),u=(0,_.q5)();(0,o.h)(()=>{(0,i.trackEvent)("Component Sidebar Viewed",{viewMode:d,assetsPanelVersion:3,fileKey:u?.key,fileTeamId:u?.teamId??void 0,fileOrgId:u?.parentOrgId??void 0,componentSuggestionSessionId:(0,L.r6)()})});let{isFlyoutOpen:m,closeFlyout:y,flyoutProps:g}=(0,R.JA)(),E=n.useCallback(e=>{let t=document.getElementById(R.Ev);m||!t||!r.current||!e.relatedTarget||r.current.contains(e.relatedTarget)||t.contains(e.relatedTarget)||y()},[m,y]);return n.createElement(si,{assetPanelItemsByLibraryKey:t,width:c},n.createElement("div",{className:sa.kL,"data-testid":"component-sidebar",translate:"no",ref:r,onBlur:E},n.createElement("div",{className:sa.kL,style:{width:c}},n.createElement(i2,null),n.createElement(rK,{isLoading:a},n.createElement(il,{assetPanelItemsByLibraryKey:t,width:c})),l&&n.createElement(F.V,null),n.createElement("div",{style:{left:`${c}px`,top:"240px"},className:sa.b3,"data-onboarding-key":p.RJ}),n.createElement(P,{width:c}))),g&&n.createElement(O.w,{...g}))}function si({children:e,width:t,assetPanelItemsByLibraryKey:l}){let a=(0,d.b)();return n.createElement(tN.P3,null,n.createElement(ed.K,{assetPanelItemsByLibraryKey:l},n.createElement(es.tM,{className:r()(sa.kL,a&&sa.Nb)},n.createElement(ss,null,n.createElement(e6,{width:t},e)))))}function ss({children:e}){return!function(){let{libraryKey:e,pageId:t,folderPath:l,navigateToTop:a,navigateToPage:r,navigateToPath:i,navigateToLibrary:s,currentView:o,onBack:c}=(0,w.wV)(),d=(0,rD.q)(),u=d(e),{getLibrary:m,getFolder:p}=(0,ed.G)(),{setLastNavAction:_}=(0,tN.ZX)(),f=i9(a),y=(0,n4.g)().allLibrariesByLibraryKey,[g,E]=(0,ep.fp)(i7.dL);n.useEffect(()=>{g&&y.size>0&&((0,ei.hB)(()=>s(g)),E(null))},[s,y.size,g,E]),(0,w.sH)(),n.useEffect(function(){if(o!==w.S5.Assets&&o!==w.S5.Pages)return;let n=m(e),s=y.get(e);if(!n){if(d(e)&&s&&o!==w.S5.Assets)return;f(a);return}if(t){if(!n?.pages.get(t)){let e=(0,w.Cg)(n);e?f(()=>r(e.id)):f(c);return}if(l&&!p(e,t,l)){let n=l.slice(0,-1),a=p(e,t,n);for(;!a&&n.length>0;)a=p(e,t,n=n.slice(0,-1));if(!a)return f(()=>r(t));let s=parent?(0,w.xc)(a):void 0;return void(s?f(()=>i([...n,s.name])):(f(()=>i(n)),_(tN.r6.Back)))}}},[c,u,o,t,l,a,r,m,p,i,_,f,d,y,e]),n.useEffect(function(){let n=m(e);if(!n||u)return;let a=(0,w.Cg)(n);if(o===w.S5.Pages&&a)r(a.id);else if(o===w.S5.Assets){let n=p(e,t,l);if(!n)return;let a=(0,w.xc)(n);a&&i([...l??[],a.name])}},[u,o,l,p,m,r,i,c,t,e])}(),n.createElement(n.Fragment,null,e)}function so(){return n.createElement("div",{className:u.s.colorTextSecondary.my8.mx16.$},(0,m.tx)("design_systems.assets_panel.error"))}function sc({width:e}){return n.createElement(c.tH,{boundaryKey:"AssetPanelUI3",fallback:n.createElement(so,null)},n.createElement(sr,{width:e}))}},148311:(e,t,l)=>{l.d(t,{o:()=>M});var n=l(848318),a=l(301168),r=l(291483),i=l(773511),s=l(658029),o=l(287572),c=l(161360),d=l(97612),u=l(782073),m=l(186606),p=l(82433),_=l(382902),f=l(781239),y=l(967688),g=l(675257),E=l(67188),h=l(307877),b=l(730143),C=l(17753),v=l(197696),k=l(605381),S=l(356194),x=l(359418),w=l(547119),T=l(880801),N=l(215039),I=l(697587);let A={showAllLayersButton:{margin:"x1hlb6i2",marginInline:null,marginLeft:null,marginBlock:null,marginTop:null,marginBottom:null,marginRight:"x1db2dqx",marginInlineStart:null,marginInlineEnd:null,display:"x78zum5",alignItems:"x6s0dn4",gap:"x1rjybxy",rowGap:null,columnGap:null,borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,height:"xxk0z11",width:"xh8yej3",...u.g.textBodyMedium,"--color-icon":"xmauxvm x1x9btor",backgroundColor:"xv2f06h",color:"x1n0bwc9 x1c5oinq",$$css:!0}};function M({isLayersOpen:e,onToggleLayers:t,recordingKey:l,...a}){let s=(0,b.q5)(),c=s?.thumbnailGuid||null;return n.createElement(n.Fragment,null,n.createElement(r.bL,{isOpen:e,toggle:t,height:"fill"},n.createElement(r.Y9,{variant:"leftPanel",size:"lg","data-onboarding-key":k.BZ},n.createElement(r.JU,{recordingKey:f.Pt(l,"layersCollapsedRow"),htmlAttributes:{onContextMenu:E.jo}},(0,y.tx)("fullscreen.pages_panel.layers_tab")),e&&n.createElement(r.X0,null,n.createElement(P,{recordingKey:f.Pt(l,"layersOptionMenu")}))),n.createElement(r.UC,null,n.createElement(x.X,{...a,thumbnailGuid:c}))),a.reserveBottomHeight&&a.showAllLayers&&n.createElement("div",{className:"x78zum5 xl56j7k x10l6tqk x1ey2m1c xu96u03 x3m8u43 xsdox4t x1yjdb4r xoegz02"},n.createElement(i.E,{onClick:a.showAllLayers,...p.Ay.props(A.showAllLayersButton)},n.createElement(o.f,null),(0,y.tx)("sites.layer_view.show_all_layers"))))}function P(e){let t=(0,a.d4)(e=>e.mirror.appModel.keyboardShortcuts),l=(0,_.md)(S.X),r="collapse-layers",i=()=>{m.glU?.triggerActionEnumInUserEditScope(m.rcl.COLLAPSE_LAYERS,{})};if((0,h.A0)(m.uQ6.LAYERS_PANEL_OVERFLOW_MENU)){let l=[{displayText:(0,g.A)(r),callback:i,sideText:(0,v.c1)(t,r),rightJustifySideText:!0,icon:n.createElement(c._,null),recordingKey:r},{displayText:(0,g.A)("auto-rename-layers"),callback:()=>{(0,h.Br)({source:m.uQ6.LAYERS_PANEL_OVERFLOW_MENU,trackingDataSource:"layers_panel_overflow_menu"})},icon:n.createElement(d._,null),rightIcon:n.createElement(I.y,{variant:N.x.ON_MENU,helpUrlVariant:T.JT.AUTO_RENAME_LAYERS}),recordingKey:"auto-rename-layers"}];return n.createElement(w.U,{dropdownItems:l,lean:"left",recordingKey:e.recordingKey})}return l?n.createElement(s.K,{"aria-label":(0,g.A)(r),onClick:i,recordingKey:f.Pt(e.recordingKey,r),htmlAttributes:{"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,g.A)(r)}},n.createElement(c._,null)):n.createElement(n.Fragment,null)}},846254:(e,t,l)=>{l.d(t,{v:()=>R});var n=l(848318),a=l(301168),r=l(271020),i=l(544405),s=l(730455),o=l(19180),c=l(989232),d=l(238462),u=l(781239),m=l(156137),p=l(454805),_=l(967688),f=l(244534),y=l(375694),g=l(142896),E=l(303397),h=l(489082),b=l(963307),C=l(213457),v=l(17753),k=l(52463),S=l(149707),x=l(190561),w=l(424554),T=l(483157),N=l(614892),I=l(699848),A=l(263728),M=l(541352),P=l(38324),L=l(873189),O=l(596224);function R(e){let t=(0,n.useRef)(null),l=(0,s.DP)(),w=(0,a.wA)(),R=(0,O.cJ)(),{backgroundColor:D,backgroundEnabled:K,backgroundOpacity:B,exportBackgroundDisabled:H}=(0,b.zj)("backgroundColor","backgroundEnabled","backgroundOpacity","exportBackgroundDisabled"),V=e=>E.Y5.updateSelectionProperties({backgroundEnabled:e}),G=e=>{E.Y5.updateSelectionProperties({exportBackgroundDisabled:!e})},W=n.useMemo(()=>{let e=(0,h.E7)(D),t=(0,h.E7)(B);return null!=e&&null!=t?{...e,a:t}:D||h.oV},[D,B]),$=n.useMemo(()=>(0,h.hS)(B)&&"number"==typeof B&&isNaN(B)?0:B,[B]),U=()=>{if(e.setDefaultToolOnPickerOpen&&E.Y5.triggerAction("set-tool-default"),e.pickerShown&&e.pickerShown.id===g.k8)w(f.XE());else{(0,o.k)().ce_properties_panel_tracking&&(0,c.trackEvent)("editor-background-panel-color-picker-show");let e=t.current?(0,k.cn)(t.current):{x:0,y:0};w(f.u1({id:g.k8,initialX:e.x,initialY:e.y})),w(y.sw())}},z=()=>n.createElement(F,{backgroundColor:D,backgroundEnabled:K,backgroundOpacity:B,pickerShown:e.pickerShown,chitRowRef:t,recordingKey:e.recordingKey,toggleColorPicker:U}),j=()=>({color:(0,h.E7)(D)??void 0,opacity:(0,h.E7)($)??void 0,type:"SOLID",blendMode:"NORMAL",visible:(0,h.E7)(K)??void 0}),X=()=>n.createElement(L.a,{...e,ref:t,dragging:!1,hasFocus:!1,onPreviewClick:U,onRowFocus:d.lQ,paint:j(),previewActive:!1,secondIconButton:Y(),selected:e.pickerShown?.id===g.k8,singletonRow:!0}),Y=()=>void 0===K?void 0:n.createElement("span",{className:"background_panel--visible--2-4Ns"},n.createElement(M.B,{visible:K,onChange:V,recordingKey:u.Pt(e,"visibleToggle")}));return n.createElement(m.k,{name:"background_panel"},n.createElement(N.Zk,null,n.createElement("div",null,n.createElement(N.fI,{className:"background_panel--panelTitleRow--uNINf"},n.createElement(T.Q,null,R?(0,_.tx)("fullscreen.properties_panel.background"):(0,_.tx)("fullscreen.properties_panel.page")),n.createElement(P.M,{showLibrarySets:!0,recordingKey:"pageLevel"})),"ui2"===l.version?n.createElement(N.fI,{ref:t},z(),Y()):n.createElement(C.Q.Consumer,null,e=>e.useLargePreviewRows?X():n.createElement(I.DE,{ref:t,label:null,input:z(),icon:Y()}))),e.hasExports?"ui3"===l.version?n.createElement(I.Ad,{label:n.createElement(n.Fragment,null),input:n.createElement(r.S,{muted:!0,mixed:H===h.oV,checked:!1===H,onChange:G,recordingKey:u.Pt(e,"exportDisableCheckbox"),label:n.createElement(i.J,{htmlAttributes:{"data-tooltip":(0,_.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":v.Ib.TEXT}},(0,_.tx)("fullscreen.properties_panel.show_in_exports")),htmlAttributes:{"data-tooltip":(0,_.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":v.Ib.TEXT}})}):n.createElement(N.fI,{className:"background_panel--checkboxLabelRow--r-hmK"},n.createElement(S.t,{className:"background_panel--checkbox--6U3j-",id:"export-background-disabled",property:H===h.oV?h.oV:!H,onChange:G,recordingKey:u.Pt(e,"exportDisableCheckbox")}),n.createElement(N.JU,{className:"background_panel--checkboxLabel--ITthj",htmlFor:"export-background-disabled","data-tooltip-type":v.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports")},(0,_.tx)("fullscreen.properties_panel.show_in_exports"))):void 0,e.pickerShown?.id===g.k8&&n.createElement(x.h,{disabledVariableIds:new Set,initialPosition:new p.Mi(e.pickerShown.initialX,e.pickerShown.initialY),color:(0,h.hS)(W)?(0,h.E7)(W):{r:1,g:1,b:1,a:1},boundVariable:null,onChange:(e,t)=>{let l=e.a;e.a=1,E.Y5.updateSelectionProperties({backgroundColor:e,backgroundOpacity:l,backgroundEnabled:!0},{shouldCommit:t})},recordingKey:u.Pt(e,"colorPicker")}),n.createElement(A.wu,{showExplicitOnly:!0,recordingKey:"backgroundPanel-variableModeEntries"})))}function F(e){let t=n.useMemo(()=>{let t=(0,h.E7)(e.backgroundColor),l=(0,h.E7)(e.backgroundOpacity);return null!=t&&null!=l?{...t,a:l}:e.backgroundColor||h.oV},[e.backgroundColor,e.backgroundOpacity]),l=n.useMemo(()=>(0,h.hS)(e.backgroundOpacity)&&"number"==typeof e.backgroundOpacity&&isNaN(e.backgroundOpacity)?0:e.backgroundOpacity,[e.backgroundOpacity]),r=(0,h.E7)(e.backgroundColor),i=(0,h.E7)(e.backgroundEnabled),s={color:r??void 0,opacity:(0,h.E7)(l)??void 0,type:"SOLID",blendMode:"NORMAL",visible:i??void 0};return n.createElement("div",{className:"background_panel--colorValueContainer---lsls paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},n.createElement(w.y7,{recordingKey:e.recordingKey,togglePicker:e.toggleColorPicker,chitOverride:{color:t,opacity:l},paint:s,onChange:(t,l)=>{let n=!(0,a.bN)(t.color,e.backgroundColor),r=t.opacity!==e.backgroundOpacity;E.Y5.updateSelectionProperties({backgroundColor:n&&t?.color?{...t.color,a:1}:void 0,backgroundOpacity:r?t.opacity:void 0,backgroundEnabled:0!==t.opacity},{shouldCommit:l})}}))}},723580:(e,t,l)=>{l.d(t,{J:()=>y,N:()=>f});var n=l(848318),a=l(430024),r=l(781239),i=l(967688),s=l(754210),o=l(489082),c=l(1259),d=l(120846),u=l(483395);let m=new s.SU;class p extends d.c${}let _=d.l6;class f extends n.PureComponent{render(){let e=this.props.includePassThrough?u.j4:u.r5;return n.createElement(_,{ariaLabel:(0,i.t)("fullscreen.properties_panel.color_picker.blend_mode_select.tooltip.blend_mode"),chevronClassName:this.props.chevronClassName,className:this.props.className,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownWidth:this.props.isUI3?120:"auto",enablePreview:!0,formatter:m,icon:this.props.isUI3?n.createElement(a.N,null):n.createElement(c.MK,{value:(0,o.E7)(this.props.property),defaultBlendMode:this.props.includePassThrough?"PASS_THROUGH":"NORMAL"}),id:y(this.props.id),inputClassName:this.props.inputClassName,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,property:this.props.property,recordingKey:this.props.recordingKey,willShowDropdown:this.props.willShowDropdown},e.map((e,t)=>"SELECT_DIVIDER"===e?n.createElement(d.sK,{key:t}):n.createElement(p,{key:t,value:e,recordingKey:r.Pt(this.props,e)})))}}function y(e){return`blend-mode-select-${e}`}f.displayName="BlendMode"},193867:(e,t,l)=>{l.d(t,{c:()=>W,Q:()=>U});var n=l(848318),a=l(301168),r=l(658029),i=l(946087),s=l(186606),o=l(536384),c=l.n(o),d=l(781239),u=l(967688),m=l(244534),p=l(696786),_=l(702038),f=l(853733),y=l(535884),g=l(17753),E=l(454805),h=l(700436),b=l(42725),C=l(657966),v=l(625479),k=l(946829),S=l(175393);let x="instance-property-preview-picker";function w(e){let t=(0,a.wA)(),l=(0,a.d4)(e=>e.pickerShown),r=(0,a.d4)(v.Z3),i=(0,a.d4)(h.dK);if(l?.id!==x)return null;let s=t=>{let l={};for(let e of t){let t=(0,b.Yi)([e],i)||(0,b.k4)([e],i);t&&(l[t]?l[t].push(e):l[t]=[e])}return Object.values(l).map(t=>n.createElement(C.ME,{key:`bubbledInstancePreview.${t[0]}`,containerWidth:b.O2.WIDE,entrypointForInstanceSwapPicker:null,guids:t,hideErrors:!0,instanceAndSublayerGUIDs:t,instanceNameDisplayOverride:k.NA.NAME_ONLY,propDimension:b.OE.ASSIGNMENT,recordingKey:e.recordingKey,shouldHideInstanceTitleButtons:!0,viewOnlyMode:C.BK.ALL_PROPS}))};return n.createElement(S.vx,{title:(0,u.t)("design_systems.component_properties.instance_property_preview"),initialPosition:new E.Mi(l.initialX,l.initialY),initialWidth:304,headerSize:"small",onClose:()=>{t(m.XE())}},n.createElement("div",{className:"instance_property_preview_picker--container--pG-JM"},r.map((e,t)=>s(e))))}var T=l(21614),N=l(885348),I=l(977796),A=l(16808),M=l(987419),P=l(614892),L=l(210831),O=l(699848),R=l(108088),F=l(614525),D=l(832329),K=l(103775),B=l(892299),H=l(42379),V=l(839808),G=l(294813);let W=n.memo(function(e){let{pickerShown:t,stateGroupSelectionMode:l,containingProductComponent:r,containingStateGroupDescription:i,containingStateGroupLinks:o,componentDescription:_}=(0,D.z6)(),E=(0,p.GS)(),h=!!(0,a.d4)(v.Z3).length,k=(0,a.wA)(),S=n.useRef(null),T=e=>e.stopPropagation(),N=t?.id===x,W=(0,D.Od)(S),z=(0,D.h$)(S),j=n.useCallback(e=>{N?k(m.XE()):W(e,x,304)},[k,N,W]),X=(0,a.d4)(y.Dr),Y=(0,a.d4)(y.Ct),{allowLibraryPublish:J}=n.useContext(f.s);return E&&l!==s.iCO.STATE?null:r||l!==s.iCO.NON_STATE_COMPONENTS?r&&r.isAlive?n.createElement(P.Zk,{className:"component_panel--componentPanel--aKD1Q",style:e.isInSelectionActionsPanel?{paddingBottom:0,borderBottom:"none"}:void 0,ref:S},n.createElement(U,null),E&&n.createElement(I.n,{description:_}),E?n.createElement(O.DE,{appendedClassName:c()(e.isInSelectionActionsPanel?"component_panel--ui3PanelHeaderRowSAP--3-23z props_panel--ui3PanelHeaderRowSAP--ws4dj props_panel--ui3PanelHeaderRow--Ab8Jz":"component_panel--ui3PanelHeaderRow--hU6q6 props_panel--ui3PanelHeaderRow--Ab8Jz",H.yf),label:null,input:(0,u.tx)("design_systems.component_panel.current_variant"),icon:n.createElement($,{recordingKey:e.recordingKey})}):n.createElement(P.fI,{className:B.LO},n.createElement(K.R,null),n.createElement("span",{className:"component_panel--titleButtons--R-kU7"},l===s.iCO.STATE&&h&&n.createElement(A.YW,{selected:t?.id===x,onClick:j,onMouseDown:T,"data-tooltip-type":g.Ib.TEXT,"data-tooltip":(0,u.t)("design_systems.component_properties.instance_property_preview"),svg:V.A,recordingKey:"instancePropertyPreviewButton"}),n.createElement(A.YW,{className:"component_panel--componentControlsButton--O969g",selected:t?.id===F.Wv,onClick:z,onMouseDown:T,"data-tooltip-type":g.Ib.TEXT,"data-tooltip":(0,u.t)("design_systems.component_panel.component_controls"),svg:G.A,recordingKey:"componentControls"}))),!E&&n.createElement(I.n,{description:_}),!E&&n.createElement(R.K,{containingStateGroupDescription:i,containingStateGroupLinks:o,description:_,recordingKey:d.Pt(e,"componentControlsPicker")}),!E&&n.createElement(w,null),l===s.iCO.STATE&&n.createElement(C.e6,{containerWidth:b.O2.REGULAR,propDimension:b.OE.DEFINITION,guids:[r.guid],recordingKey:e.recordingKey,entrypointForInstanceSwapPicker:null}),X&&Y&&J&&n.createElement(M.x,null)):null:n.createElement(L.j,{recordingKey:"createStateGroup"})});function $(e){let t=(0,N.X2)();return t&&("SYMBOL"===t.type&&!t.isState||t.isStateGroup)?n.createElement(r.K,{recordingKey:d.Pt(e.recordingKey,"goToParent"),"aria-label":(0,u.t)("design_systems.component_panel.select_component"),onClick:()=>{_.tJ([t.guid])},htmlAttributes:{"data-tooltip":(0,u.t)("design_systems.component_panel.select_component"),"data-tooltip-type":g.Ib.TEXT}},n.createElement(i.r,null)):null}function U(){let e=(0,p.GS)(),t=(0,T.I9)();return e&&t&&t.length>1?n.createElement(O.Ad,{label:null,appendedClassName:"component_panel--ui3ComponentRenameInputRow--nU8OK",input:n.createElement(K.R,{alwaysShowParentComponent:!0,shouldHideComponentIcon:!0,unfocusedInputOverridesClassName:"component_panel--ui3ComponentRenameUnfocusedInputOverride--n2SfL"})}):null}},885348:(e,t,l)=>{l.d(t,{Q:()=>S,X2:()=>v});var n=l(848318),a=l(186606),r=l(813009),i=l(41830),s=l(156137),o=l(720522),c=l(967688),d=l(696786),u=l(702038),m=l(394882),p=l(614092),_=l(17753),f=l(499025),y=l(483157),g=l(614892),E=l(367995),h=l(372209),b=l(431879);function C(e){let t=(0,d.GS)(),{productComponent:l}=e;return t||("SYMBOL"!==l.type||l.isState)&&!l.isStateGroup?null:n.createElement(s.k,{name:"containing_assets_panel"},n.createElement(g.Zk,null,n.createElement(g.fI,null,n.createElement(y.Q,{className:E.Dn},(0,c.tx)("design_systems.component_panel.parent_component"))),n.createElement(i.E,{name:"select_component_button"},n.createElement(g.fI,{className:E.D9,onClick:()=>{u.tJ([l.guid])},recordingKey:"containingComponentPanel.jumpTo"},n.createElement(o.B,{svg:h.A,className:E.Vo}),n.createElement("div",{className:E.TQ},l.name),n.createElement("div",{className:E.UD},n.createElement(o.B,{"data-tooltip-type":_.Ib.TEXT,"data-tooltip":(0,c.t)("design_systems.component_panel.select_component"),svg:b.A,className:E.dC}))))))}function v(){let e=(0,r.R)(f.Lg);return(0,p.g0)(e)}function k(){let e=v();return e?n.createElement(C,{productComponent:e}):null}function S(e){let t=function(e){let t=Object.keys(e);return(0,p.Fk)((e,t)=>t.every(t=>{let l=e.get(t);return l&&"SYMBOL"===l.type&&l.isState}),t)}(e.selection),l=!e.scaleShouldHideOtherPanels&&(!e.shownPanels[a.ibQ.COMPONENT_ITEM]||t),r=(0,n.useRef)(new m.H4(()=>n.createElement(k,{key:"containingAssets"})));return n.createElement(n.Fragment,null,r.current.render({isVisible:l}))}},218346:(e,t,l)=>{l.d(t,{e:()=>E});var n=l(848318),a=l(353317),r=l(706912),i=l(186606),s=l(19180),o=l(989232),c=l(813009),d=l(781239),u=l(41830),m=l(967688),p=l(303397),_=l(404486),f=l(700436),y=l(319079),g=l(356558);function E({recordingKey:e,rowRef:t}){let{selectedGUIDs:l}=(0,c.R)(e=>({selectedGUIDs:(0,f.Sh)(e)})),a=(0,g.Jo)(),r=(0,g.Df)(),s=(0,_.kG)("corner-smoothing"),[o,u]=n.useState(!1),m=r.cornerRadius,E=r.rectangleCornerRadii,b=a.cornerRadius,C=a.rectangleCornerRadii;n.useEffect(()=>{u(!!i.glU&&i.glU.getCornerRadiusToolPreferencesForFile()&&m&&E&&b&&C)},[l,m,E,b,C]);let v=(0,n.useCallback)(()=>{s.hide(),p.Y5.deselectProperty()},[s]),k=null;return m&&E?k=n.createElement(h,{recordingKey:e,disabled:!b||!C,rectangleCornerToolIndependentActive:o,setRectangleCornerToolIndependentActive:u}):m&&!E&&(k=n.createElement(y.E,{recordingKey:d.Pt(e,"cornerSmoothingToggle"),rowRef:t})),{cornerRadiusEnabled:m&&b,cornerControlIconButton:k,independentCornerControlEnabled:o,hideCornerSmoothing:v,cornerSmoothingPicker:s}}let h=n.memo(function({rectangleCornerToolIndependentActive:e,setRectangleCornerToolIndependentActive:t,disabled:l,recordingKey:c}){return n.createElement(u.E,{name:"independent_corner_radius_toggle"},n.createElement(a.d,{actionOnPointerDown:!0,"aria-expanded":e,onClick:()=>{i.glU&&i.glU.setCornerRadiusToolPreferencesForFile(!e),t(!e),(0,s.k)().ce_properties_panel_tracking&&(0,o.trackEvent)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:e})},"aria-label":(0,m.t)("fullscreen.properties_panel.transform_panel.independent_corners"),disabled:l,htmlAttributes:{"data-testid":"individual-corners-toggle-button"},recordingKey:d.Pt(c,"rectangleCornerToolIndependentToggle")},n.createElement(r.Q,null)))})},977796:(e,t,l)=>{l.d(t,{n:()=>c});var n=l(848318),a=l(578291),r=l(696786),i=l(489082),s=l(614892),o=l(699848);function c({description:e}){let t=n.useMemo(()=>(0,i.gl)(e)?"":(0,a.At)(e),[e]),l=(0,r.GS)();return""===t?null:l?n.createElement(o.Ad,{appendedClassName:"asset_description_preview--ui3DescriptionRow--U6fJ7",label:null,input:n.createElement("div",{className:"asset_description_preview--ui3Description--s4mHd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},t)}):n.createElement(s.fI,null,n.createElement("div",{className:"asset_description_preview--description--1Twh6 ellipsis--ellipsis--Tjyfa"},t))}},900789:(e,t,l)=>{l.d(t,{A:()=>M});var n=l(848318),a=l(400747),r=l(658029),i=l(271020),s=l(544405),o=l(23207),c=l(531788),d=l(353317),u=l(755603),m=l(408193),p=l(410369),_=l(768618),f=l(594680),y=l(238462),g=l(781239),E=l(156974),h=l(297638),b=l(967688),C=l(324762),v=l(303397),k=l(511067),S=l(657966),x=l(335744),w=l(614892),T=l(494604),N=l(699848);let I={layout:"Include layout properties",rendering:"Include rendering properties",text:"Include text properties"},A={tailwind:"Use Tailwind",tailwindOnly:"Use Tailwind ONLY (lossy)",includeIDs:"Include IDs",includeNames:"Include names",ignoreFetchingComponentData:"Ignore fetching component data",excludeVectorData:"Exclude vector data",excludeImageData:"Exclude image data",normalizeRootXY:"Normalize root XY",normalizePxToRange01:"Normalize pixel values to 0-1",orderChildrenByXY:"Order children by XY",ignoreHugContentsOnEmptyFrames:"Ignore hug contents on empty frames",inlineVectorData:"Inline vector data",includeInstanceSublayers:"Include instance sublayers",includeInstanceOverrides:"Include instance overrides",onlyIncludeTopPaint:"Only include top paint",useDivTagsForFrames:"Use div tags for frames",topLevelComponentProps:"Deserialize top-level component props",strict:"Strict serialize/deserialize",includeTypescriptTypes:"Include TypeScript types",includeVariables:"Include variables",includeStyles:"Include styles",forceAbsolutePosition:"Force absolute position for x/y",forceAbsoluteSize:"Force absolute size for width/height",flattenTextContent:"Flatten text content",noTypeInfoCache:"Disable caching for type info"};function M({recordingKey:e}){let[t,l]=(0,n.useState)(!1),[d,m]=(0,n.useState)(""),[E,k]=(0,n.useState)({}),[x,I]=(0,n.useState)({}),[A,M]=(0,n.useState)(""),[L,O]=(0,n.useState)(void 0),[R,F]=(0,n.useState)(""),[D,K]=(0,n.useState)(!1),[B,H]=(0,n.useState)("default"),[V,G]=(0,n.useState)(""),[W,$]=(0,n.useState)(0),[U,z]=(0,n.useState)({x:0,y:0}),[j,X]=(0,n.useState)({layout:!0,rendering:!0,text:!0}),Y=(0,C.uQ)(),[J,q]=(0,n.useState)({tailwind:!1,tailwindOnly:!1,includeIDs:!1,includeNames:!1,ignoreFetchingComponentData:!0,excludeVectorData:!1,excludeImageData:!1,normalizeRootXY:!1,normalizePxToRange01:!1,orderChildrenByXY:!0,ignoreHugContentsOnEmptyFrames:!1,inlineVectorData:!0,includeInstanceSublayers:!1,includeInstanceOverrides:!1,onlyIncludeTopPaint:!1,useDivTagsForFrames:!1,topLevelComponentProps:!1,strict:!0,includeTypescriptTypes:!0,includeVariables:!1,includeStyles:!1,forceAbsolutePosition:!1,forceAbsoluteSize:!1,flattenTextContent:!1,noTypeInfoCache:!1}),Z=(0,n.useMemo)(()=>V?(0,_.UN)().get(V):null,[V]),Q=(0,n.useCallback)(async e=>{try{let t=await (0,f.oy)(e,{...J,flavor:B,filterFunction:e=>e.visible,fieldGroups:Object.entries(j).filter(([e,t])=>t).map(([e])=>e),focusNodeId:Z?Z.guid:void 0,maxSerializeNodes:W});m(t.jsxStr),k(t.componentInfoByJSXName),I(t.assetsByName),M(t.variablesObjDefinition??""),O(t.styleInfoByName);let l=e.isInstance?(0,_.UN)().get(e.symbolId):e;if(!J.ignoreFetchingComponentData&&l&&((0,p.B)(e)||e.isStateGroup||e.isInstance)){let e=await (0,f.gZ)(l,{serializeAllVariants:!0}),t=Array.from(new Set(e.prefixTypes)).join("\n");F(t+"\n"+e.jsxStr)}else F("")}catch(e){if(e instanceof a.LV&&"Focus node is not a descendant of the node"===e.message){G(""),$(0);return}throw e}},[m,j,B,J,Z,W]),ee=(0,n.useCallback)(async()=>{if(!t||!Y)return;let e=(0,_.UN)().get(Y);e&&(await Q(e),v.Y5.triggerAction("commit"))},[t,Y,Q]);async function et(e){let t={...J,flavor:B,assetsByName:x,styleInfoByName:L,originalSize:J.normalizePxToRange01&&U.x>0&&U.y>0?U:void 0};if(Y){let l=(0,_.UN)().get(Y);if(!l)throw Error("Node not found");await (0,f.Go)({jsxStr:e,node:l,options:t})}else if(!(await (0,f.LZ)(e,t)).node)throw Error("Couldn't parse jsx")}(0,n.useEffect)(()=>{if(D)return(0,_.UN)().onChange(()=>{ee()},{allowDeferral:!1})},[D,ee]),(0,n.useEffect)(()=>{ee()},[ee]);let el=Object.values(E).map(e=>e.typescriptType).filter(e=>null!==e).join("\n");return n.createElement(w.Zk,null,n.createElement(T.Wv,{titleTx:(0,b.tx)("fullscreen.properties_panel.jsx_debug.title")},n.createElement(r.K,{"aria-label":"Copy JSX",onClick:()=>{navigator.clipboard.writeText(d)}},n.createElement(u.a,null)),n.createElement(P,{serializerOptions:J,setSerializerOptions:q,selectedFieldGroups:j,setSelectedFieldGroups:X,dropdownId:"JSX_DEBUG_SETTINGS_DROPDOWN"})),n.createElement("div",{className:h.s.px16.$},n.createElement(i.S,{checked:t,onChange:e=>l(e),label:n.createElement(s.J,null,"Enabled")}),t&&n.createElement(n.Fragment,null,n.createElement(S.R$,{row:n.createElement("span",{className:h.s.flex.wFull.py8.$},n.createElement(s.J,{className:h.s.fontMedium.$},"Additional settings")),isCollapsedByDefault:!0,isChevronAlwaysVisible:!0,recordingKey:g.Pt(e,"additionalSettingsCollapsibleRow")},n.createElement(s.J,null,"JSX Flavor"),n.createElement(N.DE,{label:null,input:n.createElement(o.bL,{value:B,onChange:e=>H(e)},n.createElement(o.l9,{label:n.createElement(s.h,null," ")}),n.createElement(o.mc,null,n.createElement(o.c$,{key:"default",value:"default"},"Default"),n.createElement(o.c$,{key:"flow",value:"flow"},"Flow"))),icon:null}),n.createElement(s.J,null,"Focus node guid and max nodes"),n.createElement(N.fn,{leftLabel:null,leftInput:n.createElement(w.jT,{onBlur:e=>G(e.currentTarget.value),placeholder:"GUID"}),rightLabel:null,rightInput:n.createElement(w.jT,{value:W,onChange:e=>$(Number(e.currentTarget.value)),placeholder:"Max nodes"}),icon:null}),n.createElement(s.J,null,"Original size"),n.createElement(N.fn,{leftLabel:null,leftInput:n.createElement(w.jT,{value:U.x,onChange:e=>z({x:Number(e.currentTarget.value),y:U.y}),placeholder:"X"}),rightLabel:null,rightInput:n.createElement(w.jT,{value:U.y,onChange:e=>z({x:U.x,y:Number(e.currentTarget.value)}),placeholder:"Y"}),icon:null})),n.createElement("div",null,n.createElement("textarea",{rows:15,value:d,style:{width:"100%"},onChange:e=>m(e.target.value)})),n.createElement("div",{style:{display:"flex",flexDirection:"row",gap:8,marginBottom:16}},n.createElement(c.$n,{onClick:()=>et(d)},Y?"Update node":"Create node"),n.createElement(i.S,{checked:D,onChange:e=>K(e),label:n.createElement(s.J,null,"Live Update")}))),Object.keys(E).length>0&&n.createElement("div",{style:{paddingBottom:16}},"Components:",n.createElement("div",null,n.createElement("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(E,null,2),onChange:y.lQ}))),el.length>0&&n.createElement("div",null,"Typescript definitions:",n.createElement("textarea",{rows:10,style:{width:"100%"},value:el})),Object.keys(x).length>0&&n.createElement("div",{style:{paddingBottom:16}},"Assets:",n.createElement("div",null,n.createElement("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(x,null,2),onChange:y.lQ}))),A&&n.createElement("div",{style:{paddingBottom:16}},"Variables:",n.createElement("div",null,n.createElement("textarea",{rows:10,style:{padding:10,width:"100%"},value:A,onChange:y.lQ}))),L&&Object.keys(L).length>0&&n.createElement("div",{style:{paddingBottom:16}},"Styles:",n.createElement("div",null,n.createElement("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(L,null,2),onChange:y.lQ}))),R&&n.createElement("div",null,"React function component definition:",n.createElement("textarea",{rows:10,style:{width:"100%"},value:R,onChange:y.lQ}))))}function P({serializerOptions:e,setSerializerOptions:t,selectedFieldGroups:l,setSelectedFieldGroups:a,dropdownId:r}){let i=(0,k.BK)(r),s=n.useCallback(e=>{a&&a(t=>({...t,[e]:!t[e]}))},[a]),o=n.useCallback(e=>{t(t=>({...t,[e]:!t[e]}))},[t]),c=[...Object.entries(l??{}).map(([e,t])=>n.createElement(E.MM,{key:e,checked:t,onClick:()=>s(e)},I[e])),...l?[n.createElement(E.wv,{key:"separator"})]:[],...Object.entries(e).map(([e,t])=>n.createElement(E.MM,{key:e,checked:!!t,onClick:()=>o(e)},A[e]))],u=(0,n.useRef)(null),p=u.current?.getBoundingClientRect();return p||(p=new DOMRect(0,0,0,0)),n.createElement(n.Fragment,null,n.createElement(d.d,{"aria-expanded":i.showing,onClick:()=>i.toggle(),"aria-label":"JSX debug settings",ref:u},n.createElement(m.J,null)),i.showing&&n.createElement(x.Jz,{showPoint:!0,options:c,targetRect:p,hideDropdown:()=>i.hide()}))}},280848:(e,t,l)=>{l.d(t,{X2:()=>eh,Rv:()=>ef,ZJ:()=>ey,qP:()=>eg,I_:()=>eE});var n=l(848318),a=l(301168),r=l(419367),i=l(988402),s=l(186606),o=l(813009),c=l(781239),d=l(967688),u=l(303397),m=l(489082),p=l(963307),_=l(700436),f=l(839407),y=l(308422),g=l(105857),E=l(232958),h=l(529865),b=l(218346),C=l(614892),v=l(264009),k=l(356558),S=l(190871),x=l(881962),w=l(717273),T=l(494604),N=l(699848),I=l(263728),A=l(38324),M=l(353317),P=l(406141),L=l(536384),O=l.n(L),R=l(696786),F=l(788903),D=l(17753),K=l(985789),B=l(441792),H=l(277451);let V=(0,g.Tn)();function G(e){let t=n.useMemo(g.On,[]),{isDefReferencedBySelection:l,visibilityIsBoundToComponentProp:a}=(0,o.R)(e=>({isDefReferencedBySelection:!!t(e,i.RR.VISIBLE),visibilityIsBoundToComponentProp:V(e,(0,_.Sh)(e),i.RR.VISIBLE)})),r=(0,R.GS)(),[s]=(0,p.lJ)("visible"),{consumedVariable:u}=(0,K.u3)(["VISIBLE"]),f=n.useRef(null),[y,E]=(0,B.ND)("binding-icon"),b=(0,B.$V)(),C=(0,F.u)(b),v=!!u&&!!C||a||l,k=n.useCallback(()=>E(f.current),[E]),S=c.rf(c.Pt(e,"visibilityVariableBindingControl"),"mousedown",e=>{e&&!v&&1&e.buttons&&(k(),e.preventDefault(),e.stopPropagation())});return n.createElement("div",{className:H.RK},r?n.createElement(M.d,{ref:f,recordingKey:c.Pt(e,"visibilityVariableBindingControl"),"aria-expanded":y,"aria-label":(0,d.t)("proto.apply_assignment_property"),disabled:v,htmlAttributes:{"data-testid":"visibility-variable-binding-control","data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,d.t)("proto.apply_assignment_property"),onMouseDown:S}},n.createElement(P.u,null)):n.createElement(h.JQ,{ref:f,currentFieldValue:!!(0,m.gl)(s)||s,dataTestId:"visibility-variable-binding-control",disabled:v,inputClassName:O()({"appearance_panel_visibility_binding_icon--iconButtonSelected--At-wP":y,"appearance_panel_visibility_binding_icon--iconButton--EALe5":!y&&!v,"appearance_panel_visibility_binding_icon--iconButtonDisabled--VnIWe":v}),isActive:y,onPickerOpen:k,openOnRightClick:!1,recordingKey:c.Pt(e,"visibilityVariableBindingControl"),tooltip:(0,d.t)("proto.apply_assignment_property")},n.createElement(P.u,null)))}var W=l(465262),$=l(863858),U=l(770767),z=l(968044),j=l(658029),X=l(762217),Y=l(168323),J=l(19180),q=l(989232),Z=l(754210),Q=l(67188),ee=l(511067),et=l(723580),el=l(724816),en=l(483395),ea=l(1259),er=l(120846),ei=l(596224);let es=new Z.SU;class eo extends er.c${}function ec(e){return n.createElement(er.l6,{...e,renderInput:({onMouseDown:e,props:t})=>n.createElement(j.K,{recordingKey:(0,c.Pt)(t.recordingKey,"blendMode"),"aria-label":(0,d.t)("properties.dropdown.apply_blend_mode"),onClick:e,actionOnPointerDown:!0,htmlAttributes:{"data-tooltip":(0,d.t)("properties.dropdown.apply_blend_mode"),"data-tooltip-type":D.Ib.TEXT}},n.createElement(ea.MK,{value:t.property,defaultBlendMode:"PASS_THROUGH"}))})}function ed(e){return(0,J.k)().eu_fpl_migration_menu?n.createElement(e_,{recordingKey:c.Pt(e.recordingKey,"blendMode"),id:e.id}):n.createElement(eu,{...e})}function eu({blendModeRowId:e,id:t,recordingKey:l}){let[r,i]=(0,en.sL)(),s=(0,a.wA)(),o=(0,ee.Um)(),u=(0,ei.cJ)(),m=!(0,en.qg)(r,"PASS_THROUGH"),p=en.j4.map((e,t)=>{let a="LINEAR_BURN"===e&&u;return"SELECT_DIVIDER"===e?n.createElement(er.sK,{key:t}):n.createElement(eo,{key:t,value:e,disabled:a,recordingKey:c.Pt(l,"blendMode",e)})});return m&&o?.type!==t||o?.type===(0,et.J)(e)?n.createElement(M.d,{"aria-label":(0,d.t)("properties.dropdown.remove_blend_mode"),"aria-expanded":!0,actionOnPointerDown:!0,onClick:()=>i("PASS_THROUGH"),htmlAttributes:{"data-tooltip":(0,d.t)("properties.dropdown.remove_blend_mode"),"data-tooltip-type":D.Ib.TEXT}},n.createElement(ea.MK,{value:r,defaultBlendMode:"PASS_THROUGH"})):n.createElement(ec,{ariaLabel:(0,d.t)("properties.dropdown.blend_mode"),className:"selection_blend_mode_icon_button--container--Wv9Hd",disableSelectFocus:!0,dispatch:s,dropdownAlignment:"right",dropdownClassName:"selection_blend_mode_icon_button--blendModeSelectDropdown--WcwN1 blend_mode_select--blendModeSelectDropdown--jlg6p",dropdownShown:o,enablePreview:!0,formatter:es,id:t,minTop:6,onChange:i,onMouseDown:Q.dG,property:r,recordingKey:c.Pt(l,"blendMode"),willShowDropdown:()=>((0,q.trackEvent)("editor-blend-mode-dropdown-show"),Promise.resolve())},p)}let em=(0,en.GZ)(en.j4),ep="PASS_THROUGH";function e_({recordingKey:e,id:t}){let[l,a]=(0,en.sL)(),{getTriggerProps:r,manager:i,updatePreview:s,onSubmit:o,valueBeforePreview:c}=(0,el.Z)({id:t,blendMode:l,onChange:a}),{onClick:u,...m}=r();return(0,en.qg)(l,ep)||i.isOpen?n.createElement(X.o,{eventListeners:["onWheel"]},n.createElement(Y.bL,{manager:i},n.createElement(M.d,{recordingKey:e,"aria-label":(0,d.t)("properties.dropdown.apply_blend_mode"),htmlAttributes:{"data-tooltip":(0,d.t)("properties.dropdown.apply_blend_mode"),"data-tooltip-type":D.Ib.TEXT},onClick:e=>{(0,q.trackEvent)("editor-blend-mode-dropdown-show"),u(e)},...m},n.createElement(ea.MK,{value:l,defaultBlendMode:ep})),n.createElement(Y.mc,null,n.createElement(el.m,{selectedItem:c??l,options:em,onChange:o,recordingKey:e,onFocus:s})))):n.createElement(j.K,{"aria-label":(0,d.t)("properties.dropdown.remove_blend_mode"),htmlAttributes:{"data-tooltip":(0,d.t)("properties.dropdown.remove_blend_mode"),"data-tooltip-type":D.Ib.TEXT},onClick:()=>a(ep)},n.createElement(ea.MK,{value:l,defaultBlendMode:ep}))}let ef="layer-blend-mode",ey="layer-blend-mode-select",eg=["OPACITY"];function eE(){let e=(0,k.Jo)(),t=(0,k.Df)(),l=(0,p.kl)("visible"),a=(0,B.$H)(),r=n.useMemo(g.On,[]),{isDefReferencedBySelection:s,selectedGUIDs:c}=(0,o.R)(e=>({isDefReferencedBySelection:!!r(e,i.RR.VISIBLE),selectedGUIDs:(0,_.Sh)(e)})),d=!(0,f.Yc)(i.RR.VISIBLE,c)||s,[m]=(0,p.lJ)("opacity"),y=n.useRef(null),E=n.useCallback((e,t)=>{u.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!s&&u.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[s]),h=(0,B.AP)();return{shown:t,enabled:e,visible:l,visibilityIsBoundToVariable:a,shouldShowVisibilityBindingIcon:d,shouldShowPropPill:!a,opacity:m,opacityInputRef:y,onOpacityChange:E,handleMirroring:(0,p.kl)("handleMirroring"),isVectorEditMode:h,selectedGUIDs:c}}let eh=n.memo(function(e){let t=(0,n.useRef)(null),{shown:l,enabled:o,visible:u,visibilityIsBoundToVariable:p,shouldShowVisibilityBindingIcon:_,shouldShowPropPill:g,opacity:k,opacityInputRef:M,onOpacityChange:P,handleMirroring:L,isVectorEditMode:O,selectedGUIDs:R}=eE(),{cornerRadiusEnabled:F,cornerControlIconButton:D,independentCornerControlEnabled:K,hideCornerSmoothing:B,cornerSmoothingPicker:H}=(0,b.e)({recordingKey:e.recordingKey,rowRef:t}),V=(0,a.wA)(),z=L&&O&&n.createElement(w.Cs,{handleMirroring:L,recordingKey:c.Pt(e,"mirroring")});return n.createElement(C.Zk,{"data-testid":"appearance-panel"},n.createElement(T.Wv,{titleTx:(0,d.tx)("fullscreen.appearance_panel.appearance")},!p&&!_&&n.createElement(f.yQ,{nodeField:i.RR.VISIBLE,defaultValue:u,guids:R}),n.createElement(A.M,{showLibrarySets:!1,recordingKey:"frameLevel"}),n.createElement(W.C,{recordingKey:e.recordingKey}),_&&n.createElement(G,{recordingKey:e.recordingKey}),n.createElement(ed,{id:ey,blendModeRowId:ef,recordingKey:e.recordingKey})),n.createElement(N.fn,{ref:t,leftInput:n.createElement(h.sA,{recordingKey:c.Pt(e,"layerOpacityInputWrapper"),fields:eg,disabled:!1,resolvedType:s.rXF.FLOAT,currentFieldValue:(0,m.hS)(k)?k:void 0,inputRef:M,hasBindingContextMenu:!0},n.createElement(E.Pd,{dispatch:V,forwardedRef:M,inputClassName:"appearance_panel--input--h3br5 raw_components--flushLeft--YH-5P",isTokenizable:!0,mixedMathHandler:eb,noBorderOnHover:!0,onValueChange:P,recordingKey:c.Pt(e,"opacity"),ui3RightJustifyPercentSign:!1,value:k},n.createElement("div",{className:"appearance_panel--opacityIconContainer---kdX-"},n.createElement(r.N,null)))),rightInput:n.createElement(v.C,{recordingKey:e.recordingKey,disabled:!F}),icon:D,leftLabel:(0,d.tx)("fullscreen.properties_panel.section_appearance.label_opacity"),rightLabel:(0,d.tx)("fullscreen.properties_panel.transform_panel.corner_radius")}),z&&n.createElement(N.DE,{label:(0,d.tx)("fullscreen.properties_panel.section_vector.label_mirroring"),input:z,icon:null}),K&&n.createElement(x.j,{recordingKey:c.Pt(e,"independentCornerRadius")}),(l.count||l.starInnerScale)&&n.createElement(w.cU,{countShown:l.count,countDisabled:!o.count,starInnerScaleShown:l.starInnerScale,starInnerScaleDisabled:!o.starInnerScale,recordingKey:e.recordingKey}),l.arcData&&n.createElement(w.Je,{arcDataDisabled:!o.arcData,recordingKey:e.recordingKey}),n.createElement($.r,{id:ef,blendModeSelectId:ey,recordingKey:e.recordingKey}),g&&n.createElement(y.L,{nodeField:i.RR.VISIBLE,currentValue:u,label:null}),n.createElement(I.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}),n.createElement(U.m,null),H.showing&&n.createElement(S.K,{defaultPosition:H.initialPosition,onClose:B,recordingKey:c.Pt(e,"advanced")}))}),eb=new z.b},465262:(e,t,l)=>{l.d(t,{C:()=>x});var n=l(848318),a=l(323209),r=l(56629),i=l(800490),s=l(988402),o=l(813009),c=l(781239),d=l(967688),u=l(696786),m=l(303397),p=l(489082),_=l(963307),f=l(788903),y=l(700436),g=l(17753),E=l(105857),h=l(529865),b=l(541352),C=l(985789),v=l(441792),k=l(277451);let S=(0,E.Tn)();function x(e){let t=n.useCallback(e=>{m.Y5.updateSelectionProperties({visible:e})},[]),l=n.useMemo(E.On,[]),{isDefReferencedBySelection:x,visibilityIsBoundToComponentProp:w}=(0,o.R)(e=>({isDefReferencedBySelection:!!l(e,s.RR.VISIBLE),visibilityIsBoundToComponentProp:S(e,(0,y.Sh)(e),s.RR.VISIBLE)})),T=(0,f.SG)(["VISIBLE"]).data??[],[N]=(0,_.lJ)("visible"),{consumedVariable:I}=(0,C.u3)(["VISIBLE"]),A=n.useRef(null),[M,P]=(0,v.ND)("visibility-icon"),L=(0,v.$V)(),O=(0,f.u)(L),R=!!I&&!!O,F=R||w||x,D=!R&&!w&&T.length>0,K=N?(0,d.t)("fullscreen.properties_panel.tooltip_hide"):(0,d.t)("fullscreen.properties_panel.tooltip_show"),B=n.createElement("span",{className:k.RK},n.createElement(b.B,{disabled:F,visible:N,onChange:t,recordingKey:c.Pt(e,"visibleToggle")})),H=(0,u.GS)();return n.createElement("div",{className:k.RK},n.createElement(h.JQ,{ref:A,currentFieldValue:!!(0,p.gl)(N)||N,isActive:M,disabled:e.disabled||!D,onPickerOpen:()=>P(A.current),recordingKey:c.Pt(e,"visibilityVariableControl"),dataTestId:"visibility-variable-control",openOnRightClick:!0},H?n.createElement(a.f,{"aria-label":K,checked:!F&&!N,disabled:F,htmlAttributes:{"data-test-id":"visibility-variable-control","data-tooltip":K,"data-tooltip-type":g.Ib.TEXT},mixed:!F&&(0,p.gl)(N),offIcon:n.createElement(r._,null),onChange:()=>t(N===p.oV||!N),onIcon:n.createElement(i.j,null),recordingKey:c.Pt(e,"visibleToggle"),variant:"highlighted"}):B))}},863858:(e,t,l)=>{l.d(t,{r:()=>y});var n=l(848318),a=l(301168),r=l(658029),i=l(819632),s=l(989232),o=l(813009),c=l(781239),d=l(967688),u=l(17753),m=l(723580),p=l(483395),_=l(699848),f=l(277451);function y({blendModeSelectId:e,id:t,recordingKey:l,showDefault:y}){let g=(0,a.wA)(),[E,h]=(0,p.sL)(),b=(0,o.R)(e=>e.dropdownShown),C=!y&&(0,p.qg)(E,"PASS_THROUGH");return(b?.type===e||C)&&b?.type!==(0,m.J)(t)?null:n.createElement(_.DE,{label:(0,d.t)("fullscreen.properties_panel.appearance_panel.blend_mode"),input:n.createElement(m.N,{chevronClassName:f.ai,className:f.jK,dispatch:g,dropdownShown:b,id:t,includePassThrough:!0,inputClassName:f.Df,isUI3:!0,onChange:h,property:E,recordingKey:c.Pt(l,"blendMode"),willShowDropdown:()=>((0,s.trackEvent)("editor-blend-mode-dropdown-show"),Promise.resolve())}),icon:y&&(0,p.qg)(E,"PASS_THROUGH")?null:n.createElement(r.K,{htmlAttributes:{"data-tooltip":(0,d.t)("general.remove"),"data-tooltip-type":u.Ib.TEXT},"aria-label":(0,d.t)("general.remove"),onClick:()=>h("PASS_THROUGH"),actionOnPointerDown:!0},n.createElement(i.f,null))})}},770767:(e,t,l)=>{l.d(t,{m:()=>_});var n=l(848318),a=l(658029),r=l(981637),i=l(967688),s=l(788903),o=l(17753),c=l(699848),d=l(985789),u=l(346288),m=l(664930),p=l(441792);function _(){let{consumedVariable:e,clearVariableConsumption:t}=(0,d.u3)(["VISIBLE"]),l=(0,p.$V)(),_=(0,s.u)(l),f=_?.name,y=!!e&&!!_,g=(0,s.BQ)(l);return y?n.createElement(c.DE,{appendedClassName:"component_bound_vibisility_row--row--Pss97",input:n.createElement(m.P,{value:f||(0,i.t)("fullscreen.mixed"),variableId:l,isStandalone:!0,classNameOverride:"component_bound_vibisility_row--pillCover--q5iKl",styleOverride:{width:"auto"},isDeleted:!!_&&(0,u.eF)(_),fullWidth:!0,variablePillContainerClassName:"component_bound_vibisility_row--ui3RowVariablePillContainer--ocnP8",thumbnailValue:"MIXED"!==g?g:void 0}),icon:n.createElement("div",{className:"component_bound_vibisility_row--detachVisibilityIcon--FcjEN"},n.createElement(a.K,{onClick:()=>t(),"aria-label":(0,i.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip-type":o.Ib.TEXT,"data-tooltip":(0,i.t)("variables.binding_ui.detach_variable_tooltip")}},n.createElement(r.U,null))),label:null}):null}},319079:(e,t,l)=>{l.d(t,{E:()=>m});var n=l(848318),a=l(353317),r=l(361765),i=l(19180),s=l(989232),o=l(967688),c=l(404486),d=l(17753),u=l(52463);let m=n.memo(function({rowRef:e,recordingKey:t}){let l=(0,c.kG)("corner-smoothing");return n.createElement(a.d,{actionOnPointerDown:!0,recordingKey:t,"aria-label":(0,o.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),"aria-expanded":l.showing,onClick:t=>{t.stopPropagation(),(0,i.k)().ce_properties_panel_tracking&&(0,s.trackEvent)("editor-transform-panel-change",{key:"cornerSmoothing",value:l.showing}),l.toggle(()=>(0,u.cn)(e.current))},htmlAttributes:{"data-tooltip":(0,o.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),"data-tooltip-type":d.Ib.TEXT,"data-testid":"cornerSmoothingToggle"}},n.createElement(r.A,null))})},968044:(e,t,l)=>{l.d(t,{b:()=>et,s:()=>ee});var n=l(848318),a=l(301168),r=l(658029),i=l(106445),s=l(981637),o=l(988402),c=l(186606),d=l(320953),u=l(536384),m=l.n(u),p=l(989232),_=l(813009),f=l(781239),y=l(156137),g=l(401970),E=l(967688),h=l(925085),b=l(696786),C=l(303397),v=l(702038),k=l(489082),S=l(939019),x=l(963307),w=l(788903),T=l(574422),N=l(700436),I=l(273555),A=l(17753),M=l(839407),P=l(308422),L=l(105857),O=l(144118),R=l(232958),F=l(529865),D=l(723580),K=l(896777),B=l(483157),H=l(614892),V=l(263728),G=l(985789),W=l(346288),$=l(664930),U=l(38324),z=l(465262),j=l(441792),X=l(892299),Y=l(459377),J=l(277451),q=l(435789),Z=l(275646);let Q=["OPACITY"];function ee(e){let{blendMode:t,opacity:l,visible:d}=(0,x.zj)("blendMode","opacity","visible"),u=(0,b.GS)(),S=n.useRef(null),ee=n.useMemo(L.On,[]),et=n.useMemo(L.Tn,[]),{dropdownShown:en,isDefReferencedBySelection:ea,selectedGUIDs:er,visibilityIsBoundToComponentProp:ei}=(0,_.R)(e=>({dropdownShown:e.dropdownShown,isDefReferencedBySelection:!!ee(e,o.RR.VISIBLE),selectedGUIDs:(0,N.Sh)(e),visibilityIsBoundToComponentProp:et(e,(0,N.Sh)(e),o.RR.VISIBLE)})),es=(0,k.gl)(d),eo=(0,a.wA)(),ec=n.useCallback((e,t=I.zk.YES)=>{(0,v.dZ)(t)&&T.F.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),C.Y5.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[]),ed=n.useCallback((e,t)=>{C.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!ea&&C.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[ea]),{clearVariableConsumption:eu}=(0,G.u3)(["VISIBLE"]),em=(0,j.$V)(),ep=(0,w.u)(em),e_=ep?.name,ef=(0,j.$H)();return n.createElement(y.k,{name:"layer_panel"},n.createElement(H.Zk,null,n.createElement(H.fI,{className:X.LO},n.createElement(K.Tu,{isPanelBodyCollapsedAtom:null},n.createElement(B.Q,{isPanelBodyCollapsedAtom:null},(0,E.tx)("fullscreen.layer_panel.layer")),!ef&&n.createElement(M.yQ,{nodeField:o.RR.VISIBLE,defaultValue:d,guids:er}),n.createElement(U.M,{showLibrarySets:!1,recordingKey:"frameLevel"}))),n.createElement(K.JH,{isPanelBodyCollapsedAtom:null},n.createElement(H.fI,null,n.createElement(D.N,{chevronClassName:J.ai,className:J.jK,dispatch:eo,dropdownShown:en,id:"layer-blend-mode",includePassThrough:!0,inputClassName:J.Df,isUI3:u,onChange:ec,property:t,recordingKey:f.Pt(e,"blendMode"),willShowDropdown:()=>((0,p.trackEvent)("editor-blend-mode-dropdown-show"),Promise.resolve())}),n.createElement(O.e,{condition:!0,wrapper:t=>n.createElement(F.sA,{recordingKey:f.Pt(e,"layerOpacityInputWrapper"),fields:Q,disabled:!1,resolvedType:c.rXF.FLOAT,currentFieldValue:(0,k.hS)(l)?l:void 0,inputClassName:m()({[J.ke]:!0,[J.TQ]:!0}),hideIcon:!0,inputRef:S,hasBindingContextMenu:!0},t)},n.createElement(R.Pd,{isTokenizable:!0,value:l,onValueChange:ed,mixedMathHandler:el,dispatch:eo,recordingKey:f.Pt(e,"opacity"),forwardedRef:S,noBorderOnHover:!0})),n.createElement(z.C,{recordingKey:e.recordingKey})),es&&!ea&&n.createElement(H.fI,{dataTestId:"mixed-visibility-label"},n.createElement(H.nV,{className:Y.Pf},(0,E.tx)("fullscreen.layer_panel.replace_mixed_visibility",{svg:n.createElement("div",{className:J.dY},n.createElement(g.U,{svg:Z.A},n.createElement(i.l,null)))}))),ei&&!ef&&n.createElement("div",{className:J.I0},n.createElement(P.L,{nodeField:o.RR.VISIBLE,currentValue:d,label:null})),ef&&n.createElement(h.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},n.createElement($.P,{value:e_||(0,E.t)("fullscreen.mixed"),variableId:em,isStandalone:!0,styleOverride:{width:"auto"},isDeleted:!!ep&&(0,W.eF)(ep)}),n.createElement(r.K,{onClick:()=>eu(),"aria-label":(0,E.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip":(0,E.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":A.Ib.TEXT}},n.createElement(g.U,{svg:q.A},n.createElement(s.U,null)))),n.createElement(V.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}))))}class et extends S.M{getValueForNode(e){return e.opacity}setValueForNode(e,t){d.l7.user("set-opacity",()=>{e.opacity=t})}}let el=new et},952540:(e,t,l)=>{l.d(t,{B:()=>k});var n=l(848318),a=l(559389),r=l(23207),i=l(544405),s=l(19180),o=l(781239),c=l(156137),d=l(967688),u=l(696786),m=l(303397),p=l(489082),_=l(273555),f=l(483157),y=l(614892),g=l(120846),E=l(967744),h=l(699848);let b="mask_panel--maskTypeDropdown--3Etsx",C=g.l6,v=g.c$;function k(e){let{maskType:t,dispatch:l,dropdownShown:a}=e,r=(0,u.GS)(),i=n.useCallback(e=>e.stopPropagation(),[]),m=n.useId(),p=n.createElement(C,{ariaLabelledBy:m,className:b,dispatch:l,dropdownClassName:b,dropdownShown:a,enablePreview:!0,formatter:w,id:"mask-type-dropdown",onChange:S,onMouseDown:i,property:t,recordingKey:o.Pt(e,"maskType")},n.createElement(v,{value:"ALPHA",recordingKey:o.Pt(e,"maskType","alpha")}),n.createElement(v,{value:"OUTLINE",recordingKey:o.Pt(e,"maskType","outline")}),n.createElement(v,{value:"LUMINANCE",recordingKey:o.Pt(e,"maskType","luminance")}));return n.createElement(c.k,{name:"mask_panel"},n.createElement(y.Zk,null,n.createElement(y.fI,null,n.createElement(f.Q,{id:m},(0,d.tx)("fullscreen.mask_panel.mask"))),r?n.createElement(n.Fragment,null,n.createElement(h.Ad,{input:(0,s.k)().eu_fpl_migration_select?n.createElement(T,{maskType:t,recordingKey:e.recordingKey}):p,label:null})):n.createElement(y.fI,null,p)))}function S(e,t=_.zk.YES){m.Y5.updateSelectionProperties({maskType:e},{shouldCommit:t})}let x="Mixed",w={format:e=>{switch(e){case"ALPHA":return(0,d.t)("fullscreen.mask_panel.alpha");case"OUTLINE":return(0,d.t)("fullscreen.mask_panel.vector");case"LUMINANCE":return(0,d.t)("fullscreen.mask_panel.luminance");case"Mixed":return(0,d.t)("fullscreen.mixed")}},formatExtended:e=>{switch(e){case"ALPHA":return{text:(0,d.t)("fullscreen.mask_panel.alpha_extended")};case"OUTLINE":return{text:(0,d.t)("fullscreen.mask_panel.vector_extended")};case"LUMINANCE":return{text:(0,d.t)("fullscreen.mask_panel.luminance_extended")};case"Mixed":return{text:(0,d.t)("fullscreen.mixed")}}}};function T({maskType:e,recordingKey:t}){let{valueBeforePreview:l,updatePreview:s,onSubmit:c,clearPreview:u}=(0,E.g)({id:"mask-type-dropdown",property:e,onChange:S}),m=(0,p.gl)(e)||(0,p.gl)(l),_=m?x:l??e,f=(0,a.s)(e=>{if(e!==x){if(!e&&l&&!(0,p.gl)(l)){s(l);return}s(e)}},50);return n.createElement(r.bL,{value:_,onChange:e=>{e!==x&&c(e)},onSelectionChange:f,onOpenChange:e=>{l&&!e&&u()},recordingKey:o.Pt(t,"maskType")},n.createElement(r.l9,{width:"fill",label:n.createElement(i.h,null,(0,d.tx)("fullscreen.mask_panel.mask"))},w.format(_)),n.createElement(r.mc,null,m&&n.createElement(n.Fragment,null,n.createElement(r.c$,{value:x,disabled:!0},(0,d.tx)("fullscreen.mixed")),n.createElement(r.wv,null)),n.createElement(r.c$,{value:"ALPHA"},w.formatExtended("ALPHA")?.text),n.createElement(r.c$,{value:"OUTLINE"},w.formatExtended("OUTLINE")?.text),n.createElement(r.c$,{value:"LUMINANCE"},w.formatExtended("LUMINANCE")?.text)))}},609147:(e,t,l)=>{l.d(t,{C:()=>d});var n=l(848318),a=l(186606),r=l(781239),i=l(156137),s=l(967688),o=l(614892),c=l(947280);class d extends r.uA{constructor(){super(...arguments),this.noop=()=>{}}render(){return n.createElement(i.k,{name:"remove_group_fill_and_stroke_panel"},n.createElement(o.Zk,null,n.createElement(c.u,{title:"Background",addProperty:this.noop,removeProperty:a.glU.clearFillAndStrokePaintsOnSelectedGroups,contentsVisibleOrMixed:!0},n.createElement(o.fI,{className:"remove_group_fill_and_stroke_panel--labelContainer--ngqjq"},n.createElement(o.nV,{className:"remove_group_fill_and_stroke_panel--label--orOpK"},(0,s.tx)("fullscreen.remove_group_fill_and_stroke.background_color_group_unsupported"))))))}}},562026:(e,t,l)=>{l.d(t,{j:()=>e1});var n=l(848318),a=l(301168),r=l(838339),i=l(376852),s=l(186606),o=l(673786),c=l(553547),d=l(19180),u=l(536384),m=l.n(u),p=l(410441),_=l(857607),f=l(156137),y=l(256350),g=l(235252),E=l(127389),h=l(640483),b=l(669157),C=l(384192),v=l(375694),k=l(238004),S=l(142896),x=l(696786),w=l(959750),T=l(831271),N=l(489082),I=l(95664),A=l(355755),M=l(730143),P=l(922484),L=l(554326),O=l(450651),R=l(678405),F=l(378662),D=l(764872),K=l(14850),B=l(755534),H=l(729469),V=l(231563),G=l(693108),W=l(781239),$=l(454805),U=l(967688),z=l(360430),j=l(702038),X=l(277454),Y=l(394882),J=l(531788),q=l(622518),Z=l(93275),Q=l(768618),ee=l(652954),et=l(264478),el=l(244534),en=l(275053),ea=l(141839),er=l(756672),ei=l(927036),es=l(809701),eo=l(215148),ec=l(175393),ed=l(386160);function eu({initialPosition:e,styleNameInputPrefix:t,styleType:l,inheritStyleKeyField:r,onCreate:i,recordingKey:o}){let c=(0,a.wA)(),u=(0,a.d4)(e=>e.mirror.selectedStyleProperties),m=(0,a.d4)(e=>e.mirror.sceneGraphSelection),p=1===Object.keys(m).length?Object.keys(m)[0]:null,_=p?Q.UN().get(p)?.type==="CMS_RICH_TEXT":null,f=n.useRef(!_&&Object.keys(m).length>0),[y,g]=n.useState(!f.current&&void 0),E=(0,x.GS)(),h=(0,er.sO)(),[b,C]=n.useState((0,ei.s1)()),k=h&&(0,es.Rc)(l),{styleRef:S,createStyle:w}=(0,en.u)({inheritStyleKeyField:r,isCreatingFromSelection:f.current,trackingOptions:{styleType:l},shouldUseEyedropperStyleCreationFlow:!1}),T=W.of(o,"submit",()=>{let e=w();k&&s.Ez5.slideThemeLibBindings().addStyleToLocalTheme(e||"",b),c(el.XE()),_||c(el.Uv()),c(v.sw()),i&&i(e||"")}),N=(0,a.d4)(e=>{let t=e.mirror.selectedStyleProperties;switch(l){case"FILL":return t.fillPaints&&"length"in t.fillPaints&&t.fillPaints.length>0;case"GRID":return t.layoutGrids&&t.layoutGrids.length>0;case"EFFECT":return t.effects&&t.effects.length>0;default:return!0}}),I=e=>{switch(e){case"FILL":return(0,U.t)("design_systems.create_style.color");case"TEXT":return(0,U.t)("design_systems.create_style.text");case"EFFECT":return(0,U.t)("design_systems.create_style.effect");case"EXPORT":return(0,U.t)("design_systems.create_style.export");case"GRID":return(0,U.t)("design_systems.create_style.guide");default:return(0,U.t)("design_systems.create_style.create_new_style_generic")}};if(!u.styleType)return null;let A=n.createElement("div",{className:ed.FY},n.createElement(ea.O8,{isInspectPanel:!1,onEnterPressed:T,recordingKey:"createStyleModal",selectedStyleProperties:u,setSlideThemeId:C,showProperties:y,showSlideThemeField:k,slideThemeId:b,styleNameInputPrefix:t,type:u.styleType}),!S&&n.createElement("div",{className:"create_style_modal--errorMessage--8ZpFE"},(0,U.tx)("design_systems.create_style.an_error_occurred_while_creating_the_style")),n.createElement(ee.AutoLayout,{horizontalAlignItems:f.current?void 0:"end",verticalAlignItems:"center",spacing:f.current?"auto":void 0,padding:E?8:16},f.current&&n.createElement(J.$n,{variant:"link",onClick:()=>g(!y),recordingKey:W.Pt("createStyleModal","moreOptions")},y?(0,U.tx)("design_systems.create_style.hide_options"):(0,U.tx)("design_systems.create_style.show_more_options")),(0,d.k)().ce_tv_fpl_create_style_modal?n.createElement(J.$n,{onClick:T,disabled:!N||!S},(0,U.tx)("design_systems.create_style.create_style")):n.createElement(et.$$,{style:{justifySelf:"right"},onClick:T,disabled:!N||!S,tabIndex:0},(0,U.tx)("design_systems.create_style.create_style"))));return(0,d.k)().ce_tv_fpl_create_style_modal?n.createElement(K.zK.Provider,{value:K.zM.CREATE_STYLE},n.createElement(q.bL,{onClose:()=>{c(v.sw())},width:eo.tA,defaultPosition:e,draggable:"header",recordingKey:W.Pt("createStyleModal")},n.createElement(Z.vo,null,n.createElement(Z.Y9,null,n.createElement(Z.hE,null,I(u.styleType))),n.createElement(Z.nB,{padding:0},A)))):n.createElement(K.zK.Provider,{value:K.zM.CREATE_STYLE},n.createElement(ec.vx,{title:I(u.styleType),headerSize:"small",initialWidth:eo.tA,initialPosition:e,onClose:()=>{c(v.sw())},recordingKey:W.Pt("createStyleModal"),dragHeaderOnly:!0},A))}var em=l(578291),ep=l(614092);function e_({canEdit:e,isInspectPanel:t,isRenaming:l,recordingKey:r,stylePreviewShown:i}){let s=(0,a.wA)(),o=(0,a.d4)(e=>e.mirror.selectedStyleProperties),d=(0,X.IW)(i),u=(0,c.dI)(o.guid),m=(0,A.p8)("isReadOnly"),p=!!d||!e||m,_="",f="",[y,g]=(0,ep.Fk)((e,t)=>{if(d)return["",""];let l=e.get(t);return[l?.name||"",l?.description||""]},u);return d?(_=d.name||"",f=d.description_rt?(0,em.At)(d.description_rt):d.description||""):(0,c.dI)(o.guid)&&(_=y,f=(0,em.At)(g)),n.createElement(K.zK.Provider,{value:K.zM.EDIT_STYLE},n.createElement(ea.O8,{recordingKey:r,isInspectPanel:t,isRenaming:l,onEnterPressed:()=>s(v.sw()),selectedStyleProperties:o,styleDescription:f,styleName:_,type:o.styleType,viewOnly:p}))}var ef=l(469508),ey=l(413020),eg=l(614892);function eE({stylePreviewShown:e}){let t=(0,X.IW)(e),l=(0,ey.b)({libraryKey:t?.library_key,nodeId:t?.node_id}),a=n.useMemo(()=>l.data?.type==="team",[l.data]),r=n.useMemo(()=>l.data?.type==="team"?l.data.link:null,[l.data]);return r&&a?n.createElement(f.k,{name:"external_style_options"},n.createElement(eg.Zk,{key:"external-style-options"},n.createElement(eg.fI,null,n.createElement("div",{className:ed.lf},n.createElement(ef.N,{newTab:!0,href:r,trusted:!0},(0,U.tx)("fullscreen.properties_panel.go_to_style_definition_to_edit")))))):null}function eh({onCloseStylePreviewModal:e,recordingKey:t}){let l=(0,M.q5)(),r=(0,L.ut)((0,j.aY)(),s.FAf.DESIGN),i=(0,A.p8)("topLevelMode"),o=(0,a.d4)(e=>e.library),d=(0,a.d4)(e=>e.stylePreviewShown),u=(0,I.b)("guid"),m=(0,I.b)("styleType");if(!d.isShown||![s.FAf.DESIGN,s.FAf.SITE,s.FAf.INSPECT,s.FAf.ILLUSTRATION].includes(r))return null;let p=new $.Mi(d.rowLeft-eo.tA,d.rowTop);if(d.isCreating){let{styleType:e,inheritStyleKeyField:t,styleNameInputPrefix:l}=d;return n.createElement(eu,{recordingKey:"createStyleModal",initialPosition:p,styleNameInputPrefix:l,styleType:e,inheritStyleKeyField:t})}let _=(0,N.E7)(u),f=(0,N._W)(m,G.s4.NONE);if(null===_)return null;let y=!(0,z.eE)(d.style,l),g=(0,c.dI)(_);if(!(o.local.styles[g]&&!o.local.styles[g]?.is_soft_deleted)&&!y)return null;let E=l?.canEdit??!1,h=y||!E||i===s.lyf.BRANCHING;return n.createElement(K.zK.Provider,{value:K.zM.EDIT_STYLE},n.createElement(ec.vx,{title:function(e,t){if(t)switch(e){case"FILL":return(0,U.t)("design_systems.styles.view_color_style");case"TEXT":return(0,U.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,U.t)("design_systems.styles.view_effect_style");case"GRID":return(0,U.t)("design_systems.styles.view_guide_style");default:return(0,U.t)("design_systems.styles.view_style")}switch(e){case"FILL":return(0,U.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,U.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,U.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,U.t)("design_systems.styles.edit_guide_style");default:return(0,U.t)("design_systems.styles.edit_style")}}(f,h),key:(0,X.Gj)(d.style),headerSize:"small",initialWidth:eo.tA,initialPosition:p,onClose:e,recordingKey:W.Pt(t,"modal"),dragHeaderOnly:!0},n.createElement("div",{className:ed.FY},n.createElement(Y.VF,{isVisible:!0},()=>n.createElement(e_,{key:"style-preview-panel",recordingKey:W.Pt(t,"stylePreviewPanel"),canEdit:E,isInspectPanel:r===s.FAf.INSPECT,isRenaming:o.isRenamingSelectedStyle,stylePreviewShown:d})),n.createElement(Y.VF,{isVisible:y},()=>n.createElement(eE,{stylePreviewShown:d})))))}function eb({onCloseStylePreviewModal:e,onKeyDown:t,recordingKey:l,shouldAnimate:a}){return n.createElement(D.vL,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:t},n.createElement(y.V,{className:m()(ed.Lp,ed.Ph)},n.createElement(B.P,{hideScrollbar:!0,scrollingDisabled:!0,className:m()(ed.ux,ed.KE,S.Dm,ed.Ph,{[ed.eu]:a}),width:V.iP},n.createElement("div",{className:ed.eh,"data-non-interactive":!0},n.createElement(H.B7,null))),n.createElement(eh,{onCloseStylePreviewModal:e,recordingKey:l})))}var eC=l(382902),ev=l(810503),ek=l(302941),eS=l(645027),ex=l(67188),ew=l(330362),eT=l(303397),eN=l(511067),eI=l(404486),eA=l(698429),eM=l(500527),eP=l(124213),eL=l(596224),eO=l(714327),eR=l(744595);function eF({activeTab:e,children:t,isStyleEditMode:l,recordingKey:r,refMainScrollContainer:i}){var o;let c=(0,a.wA)(),d=(0,A.p8)("isReadOnly"),u=(0,A.p8)("topLevelMode"),p=(0,eN.Um)(),_=(0,eI.Xo)(),[f,y]=(0,eC.fp)(eP.jM),g=(0,eL.cJ)(),E=!!(p||_?.modal),h=W.rf(r,"mousedown",()=>{eT.Y5.deselectProperty(),c(el.XE()),c((0,eS.vq)()),c(v.sw()),c(el.Uv()),g&&(y([]),s.glU?.setSelectedInteractions([]))}),b=(0,eM.se)(),C=(0,eA.ks)(),k=e===s.FAf.COMMENT,S=(0,er.sO)(),x=!l||!E,w=!k&&x,T=(0,ex.ft)(),N=(0,eO.G$)();o={tab:s.FAf[e],topLevelMode:s.lyf[u],shouldRenderInspectTab:N},0===n.Children.toArray(t).length&&(0,ev.x1)("PropertiesPanel","Rendering empty properties panel",o);let I=(0,ew.k)(),M=k&&!(d&&!C)&&!S,P=n.createElement(ek.S.div,{className:m()({[ed.By]:M,[ed.eh]:!M,[ed.w1]:I}),onMouseDown:T?void 0:h,onPointerDown:T?h:void 0,"data-non-interactive":!0},t);return k?P:n.createElement("div",{className:ed.gq,onFocus:b},n.createElement(B.P,{enableOverscroll:!0,key:e,ref:i,className:ed.jG,containerId:eo.rp,hideScrollbar:!w,onContextMenu:eR.GY,scrollingDisabled:k||(l?E:!!p)},P))}eF.displayName="PropertiesPanel";var eD=l(879169),eK=l(989232),eB=l(14564),eH=l(871114),eV=l(272180),eG=l(17753),eW=l(43258),e$=l(955095),eU=l(480960),ez=l(259964);function ej({label:e,tab:t,active:l,className:r,recordingKey:i,keyboardShortcut:o}){let c=(0,a.d4)(e=>e.mirror.appModel.topLevelMode),d=(0,A.dH)(),u=(0,x.GS)(),m=(0,eL.cJ)(),p=W.rf(i,"mousedown",()=>{if(!l){let e=eX(t,u,m).analyticsName;(0,eK.trackEvent)("properties-panel-select-tab",{tab:e}),d===s.NLJ.SCALE&&t===s.FAf.PROTOTYPE&&eT.Y5.triggerAction("set-tool-default"),(0,j.NT)(t),c===s.lyf.PREVIEW&&(t===s.FAf.COMMENT?eT.Y5.triggerAction("set-tool-comments"):eT.Y5.triggerAction("set-tool-default"))}});return n.createElement("div",{className:r,onMouseDown:p,"data-label":e,...o?{"data-tooltip-type":eG.Ib.TEXT,"data-tooltip":e,"data-tooltip-shortcut-key":o}:void 0},e)}function eX(e,t,l){return({[s.FAf.DESIGN]:{label:(0,U.t)("fullscreen.properties_panel.design"),tab:s.FAf.DESIGN,className:ed.Mf,recordingKey:"designTab",analyticsName:"design"},[s.FAf.PROTOTYPE]:{label:l?(0,U.t)("fullscreen.properties_panel.interactive"):(0,U.t)("fullscreen.properties_panel.prototype"),tab:s.FAf.PROTOTYPE,className:ed.Mf,recordingKey:l?"interactionsTab":"prototypeTab",analyticsName:l?"interactions":"prototype"},[s.FAf.INSPECT]:{label:(0,U.t)("fullscreen.properties_panel.properties"),tab:s.FAf.INSPECT,className:ed.Mf,recordingKey:"inspectTab",analyticsName:"inspect"},[s.FAf.COMMENT]:{label:t?(0,U.t)("fullscreen.properties_panel.comments"):(0,U.t)("fullscreen.properties_panel.comment"),tab:s.FAf.COMMENT,className:ed.Mf,recordingKey:"commentTab",analyticsName:"comment"},[s.FAf.EXPORT]:{label:(0,U.t)("fullscreen.properties_panel.export"),tab:s.FAf.EXPORT,className:ed.Mf,recordingKey:"exportTab",analyticsName:"export"},[s.FAf.SLIDE]:{label:(0,U.t)("fullscreen.properties_panel.design"),tab:s.FAf.SLIDE,className:ed.Mf,recordingKey:"designTab",analyticsName:"design"},[s.FAf.SLIDE_ANIMATION]:{label:(0,U.t)("slides.properties_panel.animate"),tab:s.FAf.SLIDE_ANIMATION,className:ed.Mf,recordingKey:"animateTab",analyticsName:"animate"},[s.FAf.SITE]:{label:(0,U.t)("fullscreen.properties_panel.design"),tab:s.FAf.SITE,className:ed.Mf,recordingKey:"sitesTab",analyticsName:"sites"},[s.FAf.DAKOTA]:{label:(0,U.t)("dakota.properties_panel.dakota_panel.tab_title"),tab:s.FAf.DAKOTA,className:ed.Mf,recordingKey:"dakotaTab",analyticsName:"dakota"},[s.FAf.ILLUSTRATION]:{label:(0,U.t)("fullscreen.properties_panel.draw"),tab:s.FAf.ILLUSTRATION,className:ed.Mf,recordingKey:"illustrationTab",analyticsName:"illustration"},[s.FAf.COOPER]:{label:(0,U.t)("fullscreen.properties_panel.design"),tab:s.FAf.COOPER,className:ed.Mf,recordingKey:"designTab",analyticsName:"design"}})[e]}function eY({activeTab:e,isUI3:t,recordingKey:l}){let r=(0,b.e)(),i=(0,eO.G$)(),o=(0,eO.pt)(),c=(0,a.d4)(e=>e.mirror.appModel.topLevelMode),d=(0,A.dH)(),u=(0,A.p8)("isReadOnly"),m=(0,eA.ks)(),p=u&&!m,_=(0,er.sO)(),f=(0,eL.cJ)(),y=(0,h.to)(),g=(0,eH.U)(),E=(0,a.d4)(e=>{var t;return t=e.selectedView,!!(0,eU.m)().ce_il_root&&"fullscreen"===t.view&&t.editorType===ez.nT.Illustration}),C=(0,A.KH)(),v=(0,n.useMemo)(()=>Object.keys(C),[C]),k=(0,A.eY)(),[S,x]=n.useState(!1),w=(0,L.ut)(s.Ez5?.interopToolMode(),s.nQ7.SELF)===s.nQ7.DESIGN;n.useEffect(()=>{if(g){if(eV.D(k,v)?.fieldSchemaStableId){x(!0);return}e===s.FAf.DAKOTA&&(0,j.NT)(s.FAf.SITE),x(!1)}},[g,v,k,e]);let T=(()=>{let l=t?_||f?[s.FAf.COMMENT]:[s.FAf.COMMENT,s.FAf.INSPECT]:[s.FAf.COMMENT,s.FAf.INSPECT,s.FAf.EXPORT];switch(c){case s.lyf.LAYOUT:if(p)return l;if(e===s.FAf.COMMENT)return[s.FAf.COMMENT];if(E)return[s.FAf.ILLUSTRATION];if(f){if(r)return[s.FAf.DAKOTA];return S?[s.FAf.SITE,s.FAf.PROTOTYPE,s.FAf.DAKOTA]:[s.FAf.SITE,s.FAf.PROTOTYPE]}if(_)return[s.FAf.SLIDE,s.FAf.SLIDE_ANIMATION];if(y)return[s.FAf.DESIGN];return i?[s.FAf.DESIGN,s.FAf.PROTOTYPE,s.FAf.INSPECT]:[s.FAf.DESIGN,s.FAf.PROTOTYPE];case s.lyf.PREVIEW:case s.lyf.DEV_HANDOFF:return l;case s.lyf.BRANCHING:return[s.FAf.INSPECT];default:return[s.FAf.DESIGN,s.FAf.PROTOTYPE,s.FAf.INSPECT]}})(),N=T.find(t=>t===e),I=T.map((l,n)=>{let a=eX(l,t,f),r=a.tab===e||0===n&&void 0===N,i=a.className;return r&&(i=T.length>1?ed.yR:ed.iV),{...a,className:i,active:r,topLevelMode:c,currentTool:d}});if(!T.length||1===T.length&&!t||y&&!w)return null;if(t)return n.createElement(eJ,{recordingKey:l,tabInfo:I});let M=e===s.FAf.DESIGN&&o||e===s.FAf.COMMENT?ed.yW:ed.hv;return n.createElement("div",{className:M,"data-non-interactive":!0},I.map((e,t)=>n.createElement(ej,{key:t,...e})))}function eJ({tabInfo:e,recordingKey:t}){let l=(0,ew.k)(),r=(0,eB.WN)(),i=e.reduce((e,t)=>(e[t.tab]=!0,e),{}),o=e.find(e=>e.active),[c,,d]=eD.t.useManagedTabs(i,o?.tab.toString()??"",e=>{let t=parseInt(e),n=eX(t,u,m).analyticsName;if((0,eK.trackEvent)("properties-panel-select-tab",{tab:n}),p===s.NLJ.SCALE&&t===s.FAf.PROTOTYPE&&eT.Y5.triggerAction("set-tool-default"),t===s.FAf.INSPECT&&l){r(s.rcl.ENTER_INSPECT_MODE);return}(0,j.NT)(t),_===s.lyf.PREVIEW&&(t===s.FAf.COMMENT?eT.Y5.triggerAction("set-tool-comments"):eT.Y5.triggerAction("set-tool-default"))},{recordingKey:W.Pt(t,"tabs")}),u=(0,x.GS)(),m=(0,eL.cJ)(),p=(0,A.dH)(),_=(0,a.d4)(e=>e.mirror.appModel.topLevelMode);return n.createElement("div",{className:ed.A7},n.createElement("div",{className:ed.tq},n.createElement(eD.t.TabStrip,{manager:d},e.map((e,t)=>n.createElement(eD.t.Tab,{key:`props-panel-tab-${t}`,...c[e.tab]},e.label)))),n.createElement("div",{className:ed.wR},n.createElement(e$.H,{recordingKey:W.Pt(t,"zoomMenu")})),n.createElement("div",{"data-onboarding-key":eW.D9,className:ed.qq}))}var eq=l(254320),eZ=l(699313),eQ=l(518136),e0=l(27776);function e1({activeTab:e,children:t,getPanelMode:l,recordingKey:r,refMainScrollContainer:i,trackingAlwaysEnabled:u=!1}){let p=(0,b.e)(),g=(0,a.wA)(),S=(0,A.aV)(),B=(0,I.b)("guid"),H=(0,c.fn)((0,N.E7)(B)),V=(0,n.useCallback)(e=>{H&&(e.event.keyCode===_.Uz.ESCAPE?(e.accept(),s.glU.selectStyle(o.n3.INVALID,o.IA.INVALID)):e.event.keyCode===_.Uz.F&&s.glU.selectStyle(o.n3.INVALID,o.IA.INVALID))},[H]),G=(0,a.d4)(e=>e.loadingState),W=(0,P.VP)(G,"edit_button_upgrading_to_edit"),$=S||W,U=(0,n.useCallback)(()=>{s.glU.selectStyle(o.n3.INVALID,o.IA.INVALID),g(v.sw()),g((0,k.B)())},[g]),z=(0,x.GS)(),j=e===s.FAf.COMMENT,X=(0,A.p8)("topLevelMode")===s.lyf.HISTORY,Y=(0,n.useCallback)(()=>void 0,[]),J=function(e){let t=(0,A.p8)("currentPage")||"0:1",l=(0,A.KH)(),a=e();return(0,n.useCallback)(()=>({pageId:t,selectedNodeIds:Object.keys(l),panelMode:a}),[t,l,a])}(l??Y),q=(0,n.useCallback)(({styleType:e,inheritStyleKeyField:t,nodeId:l,rowLeft:n,rowTop:a})=>{g(v.sw()),g(v.Zs({rowLeft:n,rowTop:a,styleType:e,inheritStyleKeyField:t,nodeId:l}))},[g]),Z=function(){let e=e5+1,t=(0,w.qw)();return"number"!=typeof t||t<e?((0,w.UK)().propertiesPanelSplitPosition.set(e),e):t}(),Q=(0,L.ut)(s.Ez5?.uiState().inProductHelpSidePanelWidth,0),{inProductHelpViewType:ee}=(0,F.A5)(),{isRightPanelCollapsed:et}=(0,n.useContext)(O.t),el=z&&et,en=(0,T.q)(),ea=(0,h.to)(),er=(0,E.CA)();ea&&j&&(el=!1);let ei=(0,A.p8)("showUi"),es=(0,M.tS)(),eo=(0,C.fk)(es);if($)return n.createElement(eb,{onKeyDown:V,onCloseStylePreviewModal:U,shouldAnimate:S});let ec=(0,d.k)().properties_panel_resize_lag_fix;return n.createElement(f.k,{name:"properties_panel",trackingEnabled:(0,d.k)().trackable_properties||u,alsoTrack:J,trackImpressions:!1},n.createElement(D.vL,{name:"propertiesPanel",focusOnMount:!j,handleKeyDown:V},n.createElement(K.lk.Provider,{value:q},n.createElement(y.V,{className:m()(ed.Lp,{[ed.IV]:ec,[ed.R]:!ei,[ed.dn]:el,[ed.Ph]:!en&&!p||er,[ed.Fo]:"side_panel"===ee,[ed.Ar]:(0,d.k)().properties_panel_isolate}),style:{width:ec?void 0:Z,"--inProductHelpSidePanelWidth":`${Q}px`}},n.createElement(eQ.bo,null,n.createElement(e2,{isCollapsed:et,isUI3:z,isUIMinimized:en,width:Z},n.createElement(eR._w,{showRightSidebarPill:el},n.createElement(eZ.v2,{recordingKey:r}),X&&n.createElement(R.yU,{recordingKey:"versionHistoryView",isUI3:z,fileHasCMSData:eo}),!el&&!X&&n.createElement(n.Fragment,null,n.createElement(eY,{recordingKey:r,activeTab:e,isUI3:z}),n.createElement(eF,{recordingKey:r,activeTab:e,isStyleEditMode:H,refMainScrollContainer:i},t)),n.createElement(eh,{onCloseStylePreviewModal:U,recordingKey:r}))))))))}let e3=e=>{!function(e){let t=(0,i.qE)(e,e5+1,500);(0,w.UK)().propertiesPanelSplitPosition.set(t),(0,d.k)().properties_panel_resize_lag_fix&&document.documentElement.style.setProperty("--properties-panel-width",`${t}px`)}(e)};function e2({children:e,isCollapsed:t,isUI3:l,isUIMinimized:a,width:r}){let i=(0,b.e)(),s=(0,E.CA)(),o=(0,L.ut)((0,w.UK)().renderRulers,!1),c=(0,T.T)(),d=l?e0.M$q:"var(--spacer-2)",u=(0,n.useCallback)((e,n)=>{if(l)return;let a={ease:"easeInOut",duration:.2,delay:t?void 0:.05};return t?{initial:{left:`calc(${e}px + ${n})`},animate:{left:`calc(${e}px + ${n})`,display:"block",transitionEnd:{display:"none"}},transition:a}:{initial:{left:0},transition:a}},[t,l]);return n.createElement(eq.lY,{animation:u(r,d),className:m()(ed.ux,S.Dm,{[ed.ew]:o,[ed.Ph]:!a&&!i||s,[ed.Jq]:!c}),"data-cancel-insertable-resource-drag-and-drop":!0,"data-onboarding-key":"properties-panel","data-testid":"properties-panel",onContextMenu:eR.GY,onResize:e3,recordingKey:"propertiesPanelContainer.resizablePanel",side:"left",size:r},e)}let e4={aaa:1,aal:1.3,en:1,"es-es":1,"es-la":1,"ko-kr":1,ja:1,"pt-br":1},e5=function(e){let t=(0,p.jz)(e);if(!(0,d.k)().ui3p_locale_aware_properties_panel)return t;let l=(0,g.Gq)().getPrimaryLocale(!0);for(let e of r.SupportedLocales)if(l===e)return Math.min(Math.ceil(t*e4[e]),500);return t}(e0.uj0)},744595:(e,t,l)=>{l.d(t,{GY:()=>E,_w:()=>h,qh:()=>b});var n=l(848318),a=l(658839),r=l(186606),i=l(19180),s=l(349048),o=l(536384),c=l.n(o),d=l(967688),u=l(127389),m=l(669157),p=l(831271),_=l(963307),f=l(661289),y=l(50652),g=l(386160);function E(e){let t=e.target;if(t){let l=t.tagName,n=t.type;l&&"INPUT"===l.toUpperCase()&&n&&"TEXT"===n.toUpperCase()||t.isContentEditable||e.preventDefault()}}function h({children:e,showRightSidebarPill:t}){let l=(0,m.e)(),r=(0,a.U1)(),s=(0,p.q)(),o=(0,u.CA)();return n.createElement(f.m,{role:"region","aria-label":(0,d.t)("fullscreen_actions.right_sidebar_label")},n.createElement("div",{ref:r,className:c()(g.KE,{[g.IV]:(0,i.k)().properties_panel_resize_lag_fix,[g.tM]:t,[g.Ph]:!s&&!l||o})},e))}function b(){let e=(0,_.Gt)("numSelectedByType");return(0,s.k9)(()=>(function(e){if(e)return(0,y.aZ)(r.rrT.FILL,e)})(e),[e])}},987419:(e,t,l)=>{l.d(t,{U:()=>f,x:()=>y});var n=l(848318),a=l(301168),r=l(531788),i=l(967688),s=l(31898),o=l(277454),c=l(700436),d=l(720722),u=l(175051),m=l(882009),p=l(345204);function _(){let e=(0,a.d4)(e=>e.library.local),t=(0,a.d4)(c.Sh),l=n.useMemo(()=>{let l=new Set;for(let n of t){let t=(0,o.n5)(n,e);t&&(t.type===d.PW.COMPONENT||t.type===d.PW.STATE_GROUP)&&!(0,o.zE)(t)?l.add(t.node_id):t&&t.type===d.PW.MODULE&&l.add(t.node_id)}return l},[e,t]),r=(0,a.wA)(),i=n.useCallback(()=>{r(s.to({type:u.dD,data:{initiallyCheckedItemIDs:l,entrypoint:m.RR.PROPERTIES_PANEL}}))},[r,l]);return{validNodeIds:l,onClick:i}}function f(){let{validNodeIds:e,onClick:t}=_(),l=(0,a.d4)(e=>e.library.local),s=(0,a.d4)(c.Sh).some(e=>{let t=(0,o.n5)(e,l);return t&&!(0,o.HF)(t.status)});return e.size?n.createElement(r.$n,{variant:"secondary",onClick:t},s?(0,i.t)("design_systems.updates.publish"):(0,i.t)("design_systems.component_panel.publish_new_changes")):null}function y(){let{validNodeIds:e,onClick:t}=_();return e.size?n.createElement(p.z,{onClick:t},(0,i.t)("design_systems.component_panel.publish_new_changes")):null}},899757:(e,t,l)=>{l.d(t,{q:()=>P});var n=l(848318),a=l(301168),r=l(402923),i=l(787400),s=l(186606),o=l(536384),c=l.n(o),d=l(996202),u=l(720522),m=l(401970),p=l(967688),_=l(696786),f=l(959750),y=l(489082),g=l(963307),E=l(273555),h=l(17753),b=l(232958),C=l(529865),v=l(213832),k=l(120846),S=l(465548),x=l(931044),w=l(103392),T=l(169660),N=l(960598),I=l(962815);let A="STACK_COUNTER_SPACING",M=[A];function P({focusOnMount:e,source:t,onCanvasUI:l,...o}){let P=(0,a.wA)(),{smallNudgeAmount:L,bigNudgeAmount:O}=(0,f.sT)(),[R,F]=(0,g.lJ)("stackCounterSpacing"),D=(0,g.kl)("stackCounterSpacingSynced"),[K,B]=(0,g.lJ)("stackCounterAlignContent"),H=(0,d.am)(),V=(0,n.useRef)(!1),G=(0,_.GS)(),W=(0,y.gl)(K)?y.oV:"SPACE_BETWEEN"===K?y.Q8:R,$=(0,n.useRef)(null);n.useEffect(()=>{e&&($.current?.focus(),$.current?.select())},[e]);let{boundVariable:U,consumedVariable:z}=(0,x.O)(A,s.rXF.FLOAT);(0,n.useEffect)(()=>{U&&"SPACE_BETWEEN"===K&&B("AUTO",E.zk.NO)},[U,K,B]);let{clearVariableConsumption:j}=(0,x.O)(A,s.rXF.FLOAT),X=(0,w.lW)({smallNudgeAmount:L,bigNudgeAmount:O,min:0,allowEmpty:!0}),Y=(e,l)=>{l&&(H("autolayout_counter_spacing_changed",{source:t,input:V.current?"scrub":"textfield",value:(0,y.SX)(e)?"Auto":e}),s.glU.temporarilyHideOverlay(s.hJs.SELECTION)),"number"==typeof e||null===e?(B("AUTO",E.zk.NO),F(e,l)):(j(),B("SPACE_BETWEEN",l))},J=(0,p.t)("fullscreen.properties_panel.stack_panel.gap_rows_vertical"),q="spacing-rows-vertical-icon",Z=[n.createElement(k.c$,{key:"value",value:(0,r.Et)(R)?R:O}),n.createElement(k.c$,{key:"auto",value:y.Q8})],Q=D&&"SPACE_BETWEEN"!==K;if(!l){let e=n.createElement(m.U,{svg:I.A},n.createElement(i.W,null));return n.createElement(v.ow,{value:{select:G?T.pW:void 0,inputComponent:G?T.gm:void 0}},n.createElement(k.tV,{value:{chevron:G?S.t:void 0}},n.createElement(x.S,{allowEmpty:!0,dropdownAlignment:"right",dropdownWidth:140,formatter:X,icon:e,iconId:q,id:"stackCounterSpacing",inputClassName:o.inputClassName,inputRef:$,inputTestId:o.inputTestId,mixedMathHandler:w.lL,noBorderOnFocus:o.noBorderOnFocus,noLeftBorder:o.noLeftBorder,onBlur:o.onBlur,onChange:Y,onFocus:o.onFocus,onKeyDown:o.onKeyDown,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,onNudge:o.onNudge,onPaste:o.onPaste,onScrubBegin:o.onScrubBegin,onScrubEnd:o.onScrubEnd,options:Z,outerClassName:c()(o.outerClassName,{[N.Sz]:G}),placeholder:Q&&(0,y.hS)(W)?X.format(W):void 0,recordingKey:o.recordingKey,scrubStartValue:Q?W:void 0,shiftVariableOptionToAlign:!0,source:t,squareRightBorder:o.squareRightBorder,tooltipText:J,value:Q?void 0:W,variableField:A})))}return n.createElement(C.sA,{recordingKey:o.recordingKey,inputClassName:o.outerClassName,fields:M,currentFieldValue:(0,y.hS)(R)?R:void 0,resolvedType:s.rXF.FLOAT,disableEntryPoint:l},n.createElement(b.Se,{allowEmpty:!0,bigNudgeAmount:O,"data-tooltip":J,"data-tooltip-proxy-element-id":z?q:void 0,"data-tooltip-type":h.Ib.TEXT,dataTestId:o.inputTestId,dispatch:P,forwardedRef:$,inputClassName:c()(N.hF,o.inputClassName),isTokenizable:!0,min:0,mixedMathHandler:w.bd,noBorderOnFocus:o.noBorderOnFocus,noBorderOnHover:!0,noLeftBorder:o.noLeftBorder,onBlur:o.onBlur,onFocus:o.onFocus,onKeyDown:o.onKeyDown,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,onNudge:o.onNudge,onPaste:o.onPaste,onScrubBegin:e=>{V.current=!0,o.onScrubBegin?.(e)},onScrubEnd:e=>{V.current=!1,o.onScrubEnd?.(e)},onValueChange:Y,placeholder:Q&&(0,y.hS)(W)?X.format(W):void 0,recordingKey:o.recordingKey,scrubMultiplier:L,scrubStartValue:Q?W:void 0,smallNudgeAmount:L,squareRightBorder:o.squareRightBorder,value:Q?void 0:W,wheelMultiplier:L},n.createElement(u.B,{className:c()(N.QK,o.svgClassName),svg:I.A,"data-tooltip-type":z?h.Ib.TEXT:void 0,"data-tooltip":z?J:void 0,id:q})))}},738042:(e,t,l)=>{l.d(t,{s:()=>k,U:()=>S});var n=l(848318),a=l(301168),r=l(430385),i=l(186606),s=l(536384),o=l.n(s),c=l(401970),d=l(696786),u=l(959750),m=l(489082),p=l(273555),_=l(17753),f=l(232958),y=l(529865),g=l(985789),E=l(865114),h=l(419756);function b({setShowSinglePaddingControl:e,containsFocus:t}){let l=(0,n.useContext)(h.p),a=l?.isShowingBindingUI,r=(0,E.ZC)(a),i=(0,E.ZC)(t);return(0,n.useEffect)(()=>{r&&!a&&e?.(!1)},[a,e,r]),(0,n.useEffect)(()=>{t||!i||a||e?.(!1)},[t,i,a,e]),null}var C=l(103392),v=l(960598);function k({paddingSelection:e,focusOnMount:t,source:l,disableVariablesEntryPoint:s,setShowSinglePaddingControl:E,...h}){let k=(0,a.wA)(),[S,w]=(0,C.HF)(e),{smallNudgeAmount:T,bigNudgeAmount:N}=(0,u.sT)(),I=(0,n.useRef)(!1),A=(0,d.GS)(),M=C.e2[e],P=C.C8[e],L=`stack-padding-input-icon-${e}`,O=(0,C.wH)(e),R=(0,n.useRef)(null);n.useEffect(()=>{t&&(R.current?.focus(),R.current?.select())},[e,t]);let F=n.useMemo(()=>(0,C.Jj)(e),[e]),D=n.useMemo(()=>x(e),[e]),{consumedVariable:K}=(0,g.u3)(D),B=o()(v.QK,h.svgClassName),[H,V]=n.useState(!1),G=n.useCallback(()=>{V(!0)},[V]),W=n.useCallback(e=>{e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||V(!1)},[V]),$=(0,n.useCallback)(()=>{E?.(!1)},[E]),{inputClassName:U,noBorderOnFocus:z,noLeftBorder:j,squareRightBorder:X,onFocus:Y,onBlur:J,onNudge:q,onMouseEnter:Z,onMouseLeave:Q,onClick:ee,onKeyDown:et,onPaste:el,inputTestId:en,onScrubBegin:ea,recordingKey:er,onScrubEnd:ei}=h,es=n.useMemo(()=>n.createElement(n.Fragment,null,n.createElement(b,{setShowSinglePaddingControl:E,containsFocus:H}),n.createElement(f.ig,{bigNudgeAmount:N,"data-tooltip":O,"data-tooltip-proxy-element-id":K?L:void 0,"data-tooltip-show-on-target-only":A||void 0,"data-tooltip-type":_.Ib.TEXT,dataTestId:en,dispatch:k,forwardedRef:R,inputClassName:o()(v.hF,U),isTokenizable:!0,mixedMathHandler:F,noBorderOnFocus:z,noBorderOnHover:!0,noLeftBorder:j,onBlur:J,onClick:ee,onFocus:Y,onKeyDown:et,onMouseEnter:Z,onMouseLeave:Q,onNudge:q,onPaste:el,onScrubBegin:e=>{I.current=!0,ea?.(e)},onScrubEnd:e=>{I.current=!1,ei?.(e)},onValueChange:(e,t)=>{t===p.zk.YES&&i.glU.temporarilyHideOverlay(i.hJs.SELECTION),w(e,t,{source:l,input:I.current?"scrub":"textfield"})},recordingKey:er,scrubMultiplier:T,smallNudgeAmount:T,squareRightBorder:X,value:S,wheelMultiplier:T},n.createElement(c.U,{className:B,svg:M,"data-tooltip-type":K?_.Ib.TEXT:void 0,"data-tooltip":K?O:void 0,id:L},n.createElement("div",{className:B,"data-tooltip-type":K?_.Ib.TEXT:void 0,"data-tooltip":K?O:void 0,id:L},n.createElement(P,null))))),[E,H,U,S,T,N,F,k,z,j,X,O,K,L,A,Y,J,q,Z,Q,ee,et,el,er,en,B,M,P,w,l,ea,ei]);return n.createElement(y.sA,{recordingKey:h.recordingKey,fields:D,disableEntryPoint:s,resolvedType:i.rXF.FLOAT,inputClassName:h.outerClassName,currentFieldValue:(0,m.hS)(S)&&(0,r.Ef)(S)?S[0]:void 0,onClickDetachButton:$,onFocus:G,onBlur:W},es)}function S(){let e=x(C.mx.HORIZONTAL),{consumedVariable:t}=(0,g.u3)(e),l=x(C.mx.VERTICAL),{consumedVariable:n}=(0,g.u3)(l);return!(0,m.hS)(t)||!(0,m.hS)(n)}function x(e){switch(e){case C.mx.TOP:return["STACK_PADDING_TOP"];case C.mx.RIGHT:return["STACK_PADDING_RIGHT"];case C.mx.BOTTOM:return["STACK_PADDING_BOTTOM"];case C.mx.LEFT:return["STACK_PADDING_LEFT"];case C.mx.HORIZONTAL:return["STACK_PADDING_LEFT","STACK_PADDING_RIGHT"];case C.mx.VERTICAL:return["STACK_PADDING_TOP","STACK_PADDING_BOTTOM"];case C.mx.ALL:return["STACK_PADDING_BOTTOM","STACK_PADDING_LEFT","STACK_PADDING_RIGHT","STACK_PADDING_TOP"]}}},190871:(e,t,l)=>{l.d(t,{K:()=>y});var n=l(848318),a=l(622518),r=l(93275),i=l(651315),s=l(781239),o=l(967688),c=l(372566),d=l(303397),u=l(489082),m=l(963307),p=l(273555),_=l(753644),f=l(614892);function y(e){return n.createElement(a.bL,{...e},n.createElement(r.vo,null,n.createElement(r.Y9,null,n.createElement(r.hE,null,(0,o.tx)("fullscreen.properties_panel.transform_panel.corner_smoothing"))),n.createElement(r.nB,{padding:0},n.createElement(f.Id,null,n.createElement("div",{className:"corner_smoothing--modalControl--AXovi"},n.createElement(g,{recordingKey:e.recordingKey}))))))}function g({recordingKey:e}){let t=(0,n.useMemo)(()=>new c.LN,[]),l=(0,u._W)((0,m.kl)("cornerSmoothing"),0);return n.createElement("div",{className:"corner_smoothing--root--tqWdN"},n.createElement("div",{className:"corner_smoothing--sliderWrapper--j9nGR"},n.createElement(i.A,{"aria-label":(0,o.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),bigStep:.1,defaultValue:0,hints:[.6],max:1,min:0,onChange:(e,{commit:t})=>E(e,t),rangeAnchor:0,recordingKey:s.Pt(e,"slider"),step:.01,value:l})),n.createElement(_.Q7,{recordingKey:s.Pt(e,"modal"),className:"corner_smoothing--cornerSmoothingInput--diqdz",formatter:t,property:l,onChange:e=>void E(e,!0)}),n.createElement("div",{className:"corner_smoothing--labelWrapper--4qKuC"},n.createElement(f.nV,{className:"corner_smoothing--label--WzFGN",onClick:()=>{E(.6,!0)}},(0,o.tx)("fullscreen.properties_panel.transform_panel.i_os"))))}function E(e,t){e=Math.round(100*e)/100,d.Y5.updateSelectionProperties({cornerSmoothing:e},{shouldCommit:t?p.zk.YES:p.zk.NO})}},881962:(e,t,l)=>{l.d(t,{j:()=>w});var n=l(848318),a=l(301168),r=l(186606),i=l(781239),s=l(401970),o=l(813147),c=l(489082),d=l(788903),u=l(17753),m=l(52463),p=l(232958),_=l(529865),f=l(319079),y=l(484130),g=l(699848),E=l(620512),h=l(419756),b=l(985789),C=l(346288),v=l(33441),k=l(224747),S=l(356558);let x="independent_corner_radius_view--inputIcon--9Djlr transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO raw_components--iconInsideBorderFocusWithin--2g7fO";function w({hideVariableIcon:e,recordingKey:t}){let l=(0,y.GI)(),a=l(y.OK.TOP_LEFT).value,r=l(y.OK.TOP_RIGHT).value,s=l(y.OK.BOTTOM_LEFT).value,o=l(y.OK.BOTTOM_RIGHT).value,u=l(y.OK.TOP_LEFT).setter,p=l(y.OK.TOP_RIGHT).setter,_=l(y.OK.BOTTOM_LEFT).setter,E=l(y.OK.BOTTOM_RIGHT).setter,h=n.useMemo(()=>[(0,y.X7)(y.OK.TOP_LEFT)],[]),b=n.useMemo(()=>[(0,y.X7)(y.OK.TOP_RIGHT)],[]),C=n.useMemo(()=>[(0,y.X7)(y.OK.BOTTOM_LEFT)],[]),k=n.useMemo(()=>[(0,y.X7)(y.OK.BOTTOM_RIGHT)],[]),S=(0,d.SG)(h).data??[],x=(0,d.SG)(b).data??[],w=(0,d.SG)(C).data??[],A=(0,d.SG)(k).data??[],M=n.useRef(null),P=n.useRef(null),L=n.useRef(null),O=n.useRef(null),R=n.useRef(null),[F,D]=n.useState(null),K=n.useCallback((e,t)=>{t&&D({corner:e,initialPosition:(0,m.VZ)(t,v.d9)})},[]),B=n.useCallback(()=>{D(null)},[]);function H(e){switch(e){case y.OK.TOP_LEFT:return{value:a,variableFields:h,variablesForField:S,inputRef:M,onChange:u,mixedMathHandler:y.dB};case y.OK.TOP_RIGHT:return{value:r,variableFields:b,variablesForField:x,inputRef:P,onChange:p,mixedMathHandler:y.c5};case y.OK.BOTTOM_LEFT:return{value:s,variableFields:C,variablesForField:w,inputRef:L,onChange:_,mixedMathHandler:y.fN};case y.OK.BOTTOM_RIGHT:return{value:o,variableFields:k,variablesForField:A,inputRef:O,onChange:E,mixedMathHandler:y.ih}}}function V({corner:t,recordingKey:l}){let a=H(t);return n.createElement(N,{variableFields:a.variableFields,isPickerOpen:F?.corner===t,onPickerOpen:()=>K(t,a.inputRef.current)},n.createElement(T,{ref:a.inputRef,disableEntryPoint:0===a.variablesForField.length,hideVariableIcon:e,mixedMathHandler:a.mixedMathHandler,onChange:a.onChange,recordingKey:l,svg:(0,y.nu)(t),tooltip:(0,y.gP)(t),ui3Icon:(0,y.ve)(t),value:a.value,variableFields:a.variableFields}))}return n.createElement("div",null,n.createElement(n.Fragment,null,n.createElement(g.fn,{leftInput:V({corner:y.OK.TOP_LEFT,recordingKey:i.Pt(t,"rectangleTopLeftCornerRadiusInput")}),rightInput:V({corner:y.OK.TOP_RIGHT,recordingKey:i.Pt(t,"rectangleTopRightCornerRadiusInput")}),rightLabel:null,leftLabel:null,icon:null}),n.createElement(g.fn,{ref:R,leftInput:V({corner:y.OK.BOTTOM_LEFT,recordingKey:i.Pt(t,"rectangleBottomLeftCornerRadiusInput")}),rightInput:V({corner:y.OK.BOTTOM_RIGHT,recordingKey:i.Pt(t,"rectangleBottomRightCornerRadiusInput")}),rightLabel:null,leftLabel:null,icon:n.createElement(f.E,{recordingKey:i.Pt(t,"cornerSmoothingToggle"),rowRef:R})})),function(){if(!F)return null;let{corner:e,initialPosition:t}=F,l=H(e),a=(0,c._W)(l.value,0);return n.createElement(I,{corner:e,initialPosition:t,currentFieldValue:a,variableFields:l.variableFields,onClose:B})}())}let T=n.forwardRef(({variableFields:e,value:t,svg:l,tooltip:r,recordingKey:i,disableEntryPoint:o,onChange:d,ui3Icon:m,hideVariableIcon:f,mixedMathHandler:y},g)=>{let E=(0,a.wA)(),{smallNudgeAmount:h,bigNudgeAmount:C,wheelMultiplier:v,scrubMultiplier:k}=(0,S.Xs)(),{consumedVariable:w}=(0,b.u3)(e),T=n.useId();return n.createElement(_.sJ,{ref:g,currentFieldValue:(0,c._W)(t,0),disableEntryPoint:o,hideIcon:f},n.createElement(p.$j,{bigNudgeAmount:C,"data-tooltip":r,"data-tooltip-proxy-element-id":w?T:void 0,"data-tooltip-type":u.Ib.TEXT,dispatch:E,inputClassName:"independent_corner_radius_view--input--c5KCB raw_components--flushLeft--YH-5P",isTokenizable:!0,mixedMathHandler:y,noBorderOnHover:!0,onValueChange:d,recordingKey:i,scrubMultiplier:.1*k,smallNudgeAmount:h,value:(0,c.gl)(t)?t:t??0,wheelMultiplier:v},n.createElement(s.U,{className:x,svg:l,"data-tooltip-type":w?u.Ib.TEXT:void 0,"data-tooltip":w?r:void 0,id:T},n.createElement("div",{className:x,"data-tooltip-type":w?u.Ib.TEXT:void 0,"data-tooltip":w?r:void 0,id:T},m))))});function N({variableFields:e,isPickerOpen:t,onPickerOpen:l,children:a}){let{consumedVariable:i}=(0,b.u3)(e),s=(0,C.MH)(i),o=(0,d.u)(s??void 0),c=!!o&&(0,C.eF)(o),[u,m,p]=(0,E.JV)(e,r.rXF.FLOAT);return n.createElement(h.p.Provider,{value:{boundVariableId:s,isBoundVariableDeleted:c,isShowingBindingUI:t,showBindingUI:l,onVariableSelected:p}},a)}function I({corner:e,initialPosition:t,currentFieldValue:l,variableFields:i,onClose:s}){let c=(0,a.wA)(),{updateVariableConsumption:d,clearVariableConsumption:u}=(0,b.u3)(i),m=n.useCallback(e=>{e?c((0,o.Yi)({item:e,callback:e=>{d((0,b.y$)(r.rXF.FLOAT,e))}})):u()},[c,d,u]);return n.createElement(k.jp,{fields:[(0,y.X7)(e)],resolvedType:r.rXF.FLOAT,initialPosition:t,currentFieldValue:l,onVariableSelected:m,onClose:s})}},368609:(e,t,l)=>{l.d(t,{YD:()=>o,ZN:()=>s,ZP:()=>c,fM:()=>d,tk:()=>u});var n=l(848318),a=l(823153);let r=()=>Math.random().toString(36).substring(2,15);function i(e){return(0,n.useMemo)(()=>{let t=new Map,l=new Map;return Object.entries(e).forEach(([e,n])=>{if(e.startsWith("row-")){let l=e.substring(4);t.set(l,parseFloat(n))}else if(e.startsWith("column-")){let t=e.substring(7);l.set(t,parseFloat(n))}}),{sortedRowGuids:Array.from(t.entries()).sort((e,t)=>e[1]-t[1]).map(e=>e[0]),sortedColumnGuids:Array.from(l.entries()).sort((e,t)=>e[1]-t[1]).map(e=>e[0])}},[e])}function s(e,t=r){let l={},n=e.split("\n").map(e=>e.split(",").map(e=>e.trim())),a=new Map,i=new Map;for(let e=0;e<n.length;e++){let n=t();a.set(e,n),l[`row-${n}`]=((e+1)*.1).toString()}let o=Math.max(0,...n.map(e=>e.length));for(let e=0;e<o;e++){let n=t();i.set(e,n),l[`column-${n}`]=((e+1)*.1).toString()}for(let e=0;e<n.length;e++){let t=n[e];if(!t)continue;let r=a.get(e);for(let e=0;e<t.length;e++){let n=t[e],a=i.get(e);n&&(l[`${r}:${a}`]=n)}}return l}function o(e){let{sortedRowGuids:t,sortedColumnGuids:l}=i(e);return(0,n.useMemo)(()=>{if(0===t.length)return{columnDefs:[],rowData:[]};let n=t[0],a=l.map(t=>e[`${n}:${t}`]||""),r=t.slice(1),i=l.length>0&&r.some(t=>{let n=l[l.length-1],a=e[`${t}:${n}`];return a&&""!==a.trim()}),s=[...a];i&&(s=[...a,""]);let o=s.map(e=>({headerName:e,field:e,editable:!0})),c=r.map(t=>{let n={};return s.forEach((r,i)=>{if(i<a.length){let a=l[i];r&&a&&(n[r]=e[`${t}:${a}`]||"")}else n[r]=""}),n}),d=c[c.length-1];return c.length>0&&d&&Object.values(d).some(e=>""!==e)&&c.push(s.reduce((e,t)=>({...e,[t]:""}),{})),{columnDefs:o,rowData:c}},[e,t,l])}function c(e){let{sortedRowGuids:t,sortedColumnGuids:l}=i(e);return(0,n.useMemo)(()=>{if(0===Object.keys(e).length||t.length<2)return{data:[],keys:[]};let n=t[0],a=t.slice(1),r=l[0],i=l.slice(1),s=a.map(t=>e[`${t}:${r}`]).filter(e=>!!e);return{data:i.map(t=>{let l=e[`${n}:${t}`];if(!l)return null;let i={date:l};return a.forEach(l=>{let n=e[`${l}:${r}`];if(!n)return;let a=e[`${l}:${t}`],s=a?parseFloat(a):0;i[n]=isNaN(s)?0:s}),i}).filter(e=>null!==e),keys:s}},[e,t,l])}function d(e){let t=function(e){let{sortedRowGuids:t,sortedColumnGuids:l}=i(e);return t.slice(1).map(t=>e[`${t}:${l[0]}`])}(e),{color1:l,color2:a,color3:r,color4:s,color5:o}=e;return(0,n.useMemo)(()=>{let e=[l,a,r,s,o],n=["color1","color2","color3","color4","color5"];return e.map((l,a)=>({color:l,key:n[a]||"",drillDownKeys:t.filter((t,l)=>l%e.length===a).map(e=>`bar-${e}`)}))},[l,a,r,s,o,t])}function u(e,t=r){let{sortedRowGuids:l,sortedColumnGuids:s}=i(e);return(0,n.useCallback)((n,r,i,o)=>{let c={...e},d=l[i],u=s[r],m=!d&&i===l.length,p=!u&&r===s.length;if(m){d=t();let n=l[l.length-1],a=n?parseFloat(e[`row-${n}`]):0,r=`row-${d}`,i=(a+.1).toPrecision(15);c[r]=i}if(p){u=t();let n=s[s.length-1],a=n?parseFloat(e[`column-${n}`]):0,i=`column-${u}`,o=(a+.1).toPrecision(15);if(c[i]=o,l.length>0){let e=l[0];c[`${e}:${u}`]=`Column ${r+1}`}}d&&u&&(c[`${d}:${u}`]=o,(0,a.$H)(n,c))},[e,l,s,t])}},394847:(e,t,l)=>{l.d(t,{nh:()=>N,oH:()=>w,tA:()=>T});var n=l(848318),a=l(301168),r=l(531788),i=l(773511),s=l(143823),o=l(622518),c=l(93275),d=l(186606),u=l(320953),m=l(768618),p=l(82433),_=l(615233),f=l(720300),y=l(230618),g=l(967688),E=l(501636),h=l(700436),b=l(823153),C=l(368609),v=l(987714),k=l.n(v),S=l(945451);function x({fileInputRef:e,onChange:t}){return n.createElement("input",{type:"file",ref:e,onChange:t,accept:".csv,.xlsx,.xls,.json",style:{display:"none"}})}let w=170,T=460;function N({defaultPosition:e,nodeId:t,isOpen:l,onClose:f}){let v=n.useRef(null),[N,M]=n.useState(null),[P,L]=n.useState(null),O=(0,a.d4)(h.Sh),{importFile:R,isLoading:F}=function(){let[e,t]=(0,n.useState)(null),[l,a]=(0,n.useState)(!1),r=(0,n.useCallback)(e=>new Promise((t,l)=>{k().parse(e,{header:!0,dynamicTyping:!1,complete:async l=>{t({csv:await e.text(),type:"csv"})},error:e=>{console.error("Error parsing CSV file:",e),l(e)}})}),[]);return{error:e,isLoading:l,importFile:(0,n.useCallback)(async e=>{a(!0),t(null);try{let t=e.name.split(".").pop()?.toLowerCase();if("csv"===t)return await r(e);throw Error(`Unsupported file type: ${t}`)}catch(e){t({message:"Failed to import file",details:e instanceof Error?e:Error(String(e))})}finally{a(!1)}},[r])}}(),[D,K]=n.useState(null),B=t||D,H=(0,b.Cd)(B??"");n.useEffect(()=>{l||(K(null),L(null),M(null))},[l]);let V=()=>{v.current?.click()},G=(e,t,l,n)=>{u.l7.user("chart-createChartOnSlide",()=>{let a=e.createNode("JSX");a.resizeWithConstraints(800,480);let r=t.size,i=a.size;a.x=(r.x-i.x)/2,a.y=(r.y-i.y)/2,t.appendChild(a),(0,b.$H)(a.id,{...(0,C.ZN)(l),chartType:n}),K(a.guid)})},W=(e,t)=>{if(t){let l=e.get(t);if(l&&"SLIDE"===l.type)return l}let l=d.Ez5?.canvasGrid();if(l){let t=(0,E.zR)(),n=l.getClosestGridCoord(t,null),a=l.canvasGridArray.getCopy(),r=a[n.row]?.[n.col];if(r)return e.get(r)}return null},$=async e=>{let t=e.target.files?.[0];if(!t)return;L(t.name);let{csv:l}=await R(t)||{};if(l){if(B){if((0,m.UN)().get(B)){let e=H?.chartType||N;e&&u.l7.user("chart-updateExistingChart",()=>{(0,b.$H)(B,{...(0,C.ZN)(l),chartType:e})})}}else{let e=(0,m.UN)(),t=W(e,O[0]);t&&N&&G(e,t,l,N)}}},U=[{type:S.N.BAR_GROUPED,icon:"e3bae6898ed50d51dc6ca312b486d7d4eb64883f",title:(0,g.t)("slides.charts.bar")}],z=n.createElement("div",{className:"x78zum5 x1jnr06f"},B?n.createElement(r.$n,{variant:"secondary",onClick:V},(0,g.t)("slides.charts.reupload_file")):N?n.createElement(n.Fragment,null,n.createElement(r.$n,{variant:"secondary",onClick:()=>{if(!N)return;let e=(0,m.UN)(),t=W(e,O[0]);t&&G(e,t,"City,2011-10-01,2011-10-02,2011-10-03,2011-10-04,2011-10-05,2011-10-06,2011-10-07,2011-10-08,2011-10-09,2011-10-10,2011-10-11,2011-10-12\nNew York,63.4,58.0,53.3,55.7,64.2,58.8,57.9,61.8,69.3,71.2,68.7,61.8\nSan Francisco,53.4,48.0,43.3,45.7,54.2,48.8,47.9,51.8,59.3,61.2,58.7,51.8",N)}},(0,g.t)("slides.charts.start_from_scratch")),n.createElement(r.$n,{variant:"primary",onClick:V},(0,g.t)("slides.charts.upload_csv"))):null);return l?n.createElement(o._L,{onClose:f,defaultPosition:e,defaultWidth:T,defaultHeight:w},n.createElement(c.vo,null,n.createElement(c.Y9,null,n.createElement("div",{className:"x78zum5 x1qughib x6s0dn4 xh8yej3 xmzs88n"},n.createElement(c.hE,null,P||(0,g.t)("slides.charts.charts")),z)),n.createElement(c.nB,null,B?n.createElement(function(){return B?n.createElement("div",{className:"x78zum5"},n.createElement(A,{jsxProps:H,nodeId:B,fallback:null}),n.createElement(x,{fileInputRef:v,onChange:$})):null},null):F?n.createElement(function(){return n.createElement("div",{className:"x78zum5 xl56j7k x6s0dn4 x5yr21d x167g77z"},n.createElement(s.k,null),n.createElement("div",{className:"x1n0bwc9"},(0,g.t)("slides.charts.import_data_modal.loading")))},null):n.createElement(function(){return n.createElement("div",{className:"x78zum5"},U.map(e=>n.createElement("div",{key:e.type},n.createElement(i.E,{className:"x78zum5 xdt5ytf x167g77z",onClick:()=>M(e.type)},n.createElement(y.oW,{src:(0,_.ck)(e.icon),alt:e.title,className:p.Ay.props(I.image,N===e.type&&I.selectedImage).className})),n.createElement("div",null,e.title))),n.createElement(x,{fileInputRef:v,onChange:$}))},null)))):null}let I={image:{border:"xfj9a5l",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,borderRadius:"xur7f20",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,cursor:"x1ypdohk",$$css:!0},selectedImage:{borderColor:"x1fa9rx7",borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,$$css:!0}},A=(0,f.s_)("LazyTable",()=>Promise.all([l.e(6755),l.e(4046)]).then(l.bind(l,224046)).then(e=>e.DataTable),{componentName:"LazyTable",error:f.H4.NONE})},945451:(e,t,l)=>{l.d(t,{N:()=>a,c:()=>f});var n=l(755595),a=(e=>(e.BAR_GROUPED="bar-grouped",e.BAR_STACKED="bar-stacked",e))(a||{});let r=n.z.string().startsWith("row-"),i=n.z.string().startsWith("column-"),s=n.z.string().includes(":"),o=n.z.literal("chartType"),c=n.z.string(),d=n.z.nativeEnum(a),u=n.z.union([n.z.literal("color1"),n.z.literal("color2"),n.z.literal("color3"),n.z.literal("color4"),n.z.literal("color5")]),m=n.z.string(),p=n.z.union([r,i,s,o,u]),_=n.z.union([c,d,m]),f=n.z.record(p,_).refine(e=>Object.entries(e).every(([e,t])=>e.startsWith("row-")||e.startsWith("column-")||e.includes(":")?c.safeParse(t).success:"chartType"===e?d.safeParse(t).success:("color1"===e||"color2"===e||"color3"===e||"color4"===e||"color5"===e)&&m.safeParse(t).success)).transform(e=>({...e,chartType:e.chartType??"bar-grouped",color1:e.color1??"#6c5efb",color2:e.color2??"#c998ff",color3:e.color3??"#a44afe",color4:e.color4??"#7a28fb",color5:e.color5??"#9f87ff"}))},682519:(e,t,l)=>{l.d(t,{_:()=>v,f:()=>S});var n=l(848318),a=l(871043),r=l(553547),i=l(355755),s=l(614092),o=l(531788),c=l(23207),d=l(544405),u=l(320953),m=l(206639),p=l(967688),_=l(614892),f=l(823153),y=l(588809),g=l(368609),E=l(394847),h=l(945451);function b({nodeId:e,jsxProps:t,drillDownKey:l}){let[a,r]=(0,n.useState)(!1),i=t.chartType??h.N.BAR_GROUPED,s=l=>{u.l7.user("chart-setChartType",()=>{(0,f.$H)(e,{...t,chartType:l})})},m=(0,f.mn)(e);return n.createElement(_.Zk,null,n.createElement(o.$n,{onClick:()=>r(!0)},(0,p.t)("react-scenegraph.chart.edit_data")),m&&n.createElement(o.$n,{onClick:()=>u.l7.user("chart-clearOverrides",()=>(0,f.od)(e))},(0,p.t)("react-scenegraph.chart.clear_overrides")),n.createElement(c.bL,{value:i,onChange:e=>s(e)},n.createElement(c.l9,{label:n.createElement(d.J,null,(0,p.t)("react-scenegraph.chart.chart_type"))}),n.createElement(c.mc,null,n.createElement(c.c$,{value:h.N.BAR_GROUPED},(0,p.t)("react-scenegraph.chart.bar_grouped")),n.createElement(c.c$,{value:h.N.BAR_STACKED},(0,p.t)("react-scenegraph.chart.bar_stacked")))),n.createElement(C,{nodeId:e,jsxProps:t,drillDownKey:l}),n.createElement(E.nh,{nodeId:e,isOpen:a,onClose:()=>r(!1)}))}function C({nodeId:e,jsxProps:t,drillDownKey:l}){let a=(0,g.fM)(t);return n.createElement(n.Fragment,null,a.filter(e=>!l||e.drillDownKeys.includes(l)).map(l=>n.createElement(y.u,{key:l.key,pickerId:`chart-color-picker-${l.key}`,inheritStyleKeyField:"inheritFillStyleKey",inheritStyleKey:void 0,inheritStyleName:void 0,inheritStyleId:void 0,hideCustomColorPickerFillTypeToggle:!1,paint:function(e){let t=(0,m.H0)(e);return t?{type:"SOLID",color:{r:t.r,g:t.g,b:t.b,a:1},opacity:t.a,blendMode:"NORMAL",visible:!0}:{type:"SOLID",color:{r:1,g:1,b:1,a:1},opacity:1,blendMode:"NORMAL",visible:!0}}(l.color),onChange:n=>{u.l7.user("chart-setColor",()=>{(0,f.$H)(e,{...t,[l.key]:function(e){if(!e.color||"SOLID"!==e.type)return"#FFFFFF";let t={...e.color};return void 0!==e.opacity&&1!==e.opacity&&(t.a=e.opacity),(0,m.F_)(t)}(n)})})}})))}function v(){let{jsxNodeId:e,jsxDrillDownKey:t}=S();return e?n.createElement(k,{jsxNodeId:e,jsxDrillDownKey:t}):null}function k({jsxNodeId:e,jsxDrillDownKey:t}){let l=(0,f.Cd)(e);return l?n.createElement(b,{nodeId:e,jsxProps:l,drillDownKey:t}):null}function S(){let e=(0,i.KH)();return(0,s.wA)((e,t)=>{let l=Object.keys(t);if(1===l.length){let t=l[0];if(!t)return{jsxNodeId:null,jsxDrillDownKey:null};if(e.get(t)?.isJSX)return{jsxNodeId:t,jsxDrillDownKey:null}}if(l.length>1){let t=l.map(t=>e.get(t)).filter(e=>e?.isJsxSublayer).filter(a.Vq);if(t.length!==l.length)return{jsxNodeId:null,jsxDrillDownKey:null};let n=t[0]?.containingJSXGuid,i=t[0]?.jsxDrillDownKey;if(!n||!i||n===r.AD)return{jsxNodeId:null,jsxDrillDownKey:null};if(t.every(e=>e.containingJSXGuid===n&&e.jsxDrillDownKey===i))return{jsxNodeId:n,jsxDrillDownKey:i}}return{jsxNodeId:null,jsxDrillDownKey:null}},e)}},823153:(e,t,l)=>{l.d(t,{$H:()=>d,Cd:()=>o,mn:()=>m,od:()=>u});var n=l(848318),a=l(768618),r=l(810503),i=l(614092),s=l(945451);function o(e){let t=(0,i.wA)((e,t)=>e.get(t)?.jsxProps||{},e);return(0,n.useMemo)(()=>c(e,t),[e,t])}function c(e,t){if(!(0,a.UN)().get(e))return null;let l=s.c.safeParse(t);return l.success?l.data:(l.error&&(0,r.x1)("onJSXPropsChange","Invalid props",l.error.flatten(),{reportAsSentryError:!0}),null)}function d(e,t){let l=(0,a.UN)().get(e);if(!l)return;let n=c(e,t);n&&l.setJSXProps(n)}function u(e){let t=(0,a.UN)().get(e);t&&t.clearJSXOverrides()}function m(e){return(0,i.Fk)((e,t)=>Object.keys(e.get(t)?.jsxOverrides||{}).length>0,e)}},588809:(e,t,l)=>{l.d(t,{u:()=>K});var n=l(848318),a=l(301168),r=l(762217),i=l(749214);let s=(0,n.memo)(function(e){return(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,i.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M2.486 5.143a1 1 0 0 0 0 1.715L4.39 8 2.486 9.143a1 1 0 0 0 0 1.715l4.485 2.69a2 2 0 0 0 2.058 0l4.486-2.69a1 1 0 0 0 0-1.715L11.61 8l1.905-1.142a1 1 0 0 0 0-1.715L9.029 2.45a2 2 0 0 0-2.058 0zM9.666 8l.973-.583 1.39-.834L13 6l-.972-.583-3.514-2.108a1 1 0 0 0-1.028 0L3.972 5.417 3 6l.972.583 1.39.834.971.583 1.152.691a1 1 0 0 0 1.03 0zm-4.304.583 1.609.966a2 2 0 0 0 2.058 0l1.61-.966 1.39.834L13 10l-.972.583-3.514 2.108a1 1 0 0 1-1.028 0l-3.514-2.108L3 10l.972-.583z",clipRule:"evenodd"})})});var o=l(186606),c=l(286536),d=l(41830),u=l(454805),m=l(662092),p=l(772573),_=l(297638),f=l(967688),y=l(244534),g=l(632727),E=l(303397),h=l(489082),b=l(426299),C=l(788903),v=l(52463),k=l(888663),S=l(134343),x=l(79555),w=l(185610),T=l(941108),N=l(773511),I=l(347701),A=l(536384),M=l.n(A),P=l(238462),L=l(781239),O=l(424554),R=l(887835);function F({paint:e,onColorChange:t,openColorPicker:l,closeColorPicker:a,isPickerOpen:r,icon:i,recordingKey:s}){let[o,c]=n.useState(!1),d=n.useRef(null),u=()=>{r?(a(),d.current?.blur()):(l(),d.current?.focus(),d.current?.select())};return n.createElement("div",{className:M()(R.oE,{[R.in]:o})},n.createElement(D,{onClick:u,recordingKey:L.Pt(s,"chit"),"aria-label":(0,f.t)("slides.properties_panel.color_picker.open.aria_label")},i),n.createElement(O.So,{focusableRef:d,isUI3:!0,noBorderOnFocus:!0,onBlur:()=>c(!1),onColorChange:e=>{t(e),a()},onFocus:()=>{c(!0),l()},onMouseDown:e=>{e.stopPropagation(),o&&a()},onTypeMouseDown:P.lQ,paint:e,recordingKey:s,visible:!0}),n.createElement(D,{onClick:u,recordingKey:L.Pt(s,"chevron")},n.createElement(I.O,null)))}function D({onClick:e,recordingKey:t,children:l,...a}){return n.createElement(N.E,{className:_.s.hFull.px4.bgTransparent.$,onClick:t=>{t.stopPropagation(),t.preventDefault(),e()},actionOnPointerDown:!0,recordingKey:t,"aria-label":a["aria-label"]},l)}function K({paint:e,onChange:t,inheritStyleKey:l,inheritStyleName:r,inheritStyleId:i,pickerId:s,inheritStyleKeyField:c,hideCustomColorPickerFillTypeToggle:d,recordingKey:m}){let p=(0,a.d4)(e=>e.pickerShown&&e.pickerShown.id===s?e.pickerShown:null),_=(0,n.useRef)(null),f=!!e&&(0,h.hS)(e)&&(0,b.bn)(e.type),{openColorPicker:g,closeColorPicker:C}=function(e,t,l,r,i){let s=(0,a.wA)(),c=(0,a.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),d=(0,x.jj)(e);return{openColorPicker:n.useCallback(()=>{if(!l){if(r.current){let{x:e,y:l}=(0,v.cn)(r.current,i?T.jP:w.pg);s(y.u1({id:t,initialX:e-16,initialY:l})),d()}else console.error("rowRef.current is null")}},[t,l,s,r,i,d]),closeColorPicker:n.useCallback(()=>{c===o.m1T.GRADIENT&&E.Y5.triggerAction("leave-edit-mode"),s(y.XE())},[s,c])}}(e,s,p,_,f);return n.createElement(n.Fragment,null,n.createElement("span",{ref:_},n.createElement(B,{paint:e,onChange:t,inheritStyleKey:l,inheritStyleName:r,inheritStyleId:i,isPickerOpen:!!p,openColorPicker:g,closeColorPicker:C,recordingKey:m})),p&&e&&(f?n.createElement(T.Ph,{paint:e,onChange:t,onClose:C,initialPosition:new u.Mi(p.initialX,p.initialY),enableGradients:!0,hideCustomColorPickerFillTypeToggle:d,inheritStyleKeyField:c}):n.createElement(w.GY,{paint:e,onChange:t,onClose:C,pickerShown:p,hideCustomColorPickerFillTypeToggle:d,inheritStyleKeyField:c})))}function B({paint:e,onChange:t,inheritStyleKey:l,inheritStyleName:a,inheritStyleId:i,isPickerOpen:o,openColorPicker:u,closeColorPicker:y,recordingKey:E}){let C=(0,x.Gc)(),v=!!e&&(0,h.hS)(e)&&(0,b.bn)(e.type),w=!!e&&(0,h.hS)(e)&&(0,b.sb)(e.type),T=(0,x.Mg)("FILL",l,i),N=(0,m.e)(e),I=(()=>{if((0,h.gl)(e))return null;let t=e?.colorVar?.value?.alias;return t?c.dI(t):null})(),A=()=>(0,h.gl)(e)||(0,h.gl)(a)?(0,f.t)("fullscreen.mixed"):a||(C?(0,f.t)("slides.properties_panel.color_picker.multiple"):v?(0,f.t)("slides.properties_panel.fill.fill_type_gradient"):g.TI.format(N[0])),M=n.useMemo(()=>C?n.createElement(s,null):T?n.createElement(k.zi,{dsStyle:T,disableTooltip:!0}):n.createElement(m.v,{colors:N,paint:e}),[C,T,N,e]),P=n.useCallback(()=>{o?y():u()},[o,y,u]),L=!C&&w&&!e.colorVar&&!T;return n.createElement(d.E,{name:"slides_color_input"},L?n.createElement(F,{paint:e,onColorChange:e=>t((0,x.NQ)(e)),openColorPicker:u,closeColorPicker:y,isPickerOpen:o,icon:M,recordingKey:E}):n.createElement(r.o,{eventListeners:["onMouseDown"]},n.createElement(S.C,{isOpen:o,onClick:P,recordingKey:E,"aria-label":(0,f.t)("slides.properties_panel.color_picker.open.aria_label")},n.createElement("span",{className:_.s.pl4.inlineFlex.gap6.overflowHidden.$},M,!a&&I?n.createElement(H,{variableId:I,fallbackText:A()}):n.createElement(p.o,{text:A()})))))}function H({variableId:e,fallbackText:t}){let l=(0,C.u)(e);return n.createElement(p.o,{lastClassName:_.s.overflowHidden.noWrap.ellipsis.$,text:l?.name??t})}},134343:(e,t,l)=>{l.d(t,{C:()=>d});var n=l(848318),a=l(773511),r=l(347701),i=l(536384),s=l.n(i),o=l(297638),c=l(100946);let d=n.forwardRef(function({isOpen:e,onClick:t,children:l,recordingKey:i,...d},u){return n.createElement(a.E,{actionOnPointerDown:!0,ref:u,className:s()("slides_flyout_input--input--cM6kp ellipsis--ellipsis--Tjyfa",c.t,{"slides_flyout_input--selected--CgFEs":e}),onClick:t,recordingKey:i,"aria-label":d["aria-label"],"aria-expanded":e,"aria-describedby":"slides-flyout-input-label"},n.createElement("span",{className:"slides_flyout_input--content--hygOt",id:"slides-flyout-input-label"},l),n.createElement("div",{className:o.s.flexShrink0.$,"aria-hidden":!0},n.createElement(r.O,null)))})}}]);

//# debugId=cce7d276-f219-5286-8397-930272fee65b

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/c806c444796268d576cc87e80c35e04d40e9a08e/5945-1e225e745f690231.min.js.map
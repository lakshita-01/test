"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="cbf1038c-08c3-59eb-9353-cf1389b26ff5")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[5724],{575061:(e,t,n)=>{n.d(t,{AR:()=>Y,A_:()=>F,DN:()=>v,E3:()=>S,FK:()=>h,Gv:()=>c,Hd:()=>o,JX:()=>H,Kl:()=>l,Mf:()=>_,Ng:()=>d,ON:()=>w,PP:()=>g,Pt:()=>N,QF:()=>W,Qu:()=>Q,S:()=>z,Ub:()=>f,Uj:()=>C,VA:()=>X,VN:()=>V,Wz:()=>k,Ye:()=>s,ZE:()=>B,bV:()=>P,bq:()=>D,cB:()=>U,d3:()=>L,dJ:()=>i,gC:()=>r,gD:()=>A,gP:()=>I,jT:()=>a,k8:()=>y,kb:()=>G,lX:()=>b,mH:()=>E,nN:()=>m,nZ:()=>M,oB:()=>u,q_:()=>x,sH:()=>T,x0:()=>O,xR:()=>p,yl:()=>R,zN:()=>K});let a="fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",r="fd_browse_resource_modal--modalContainerPinAnimation--dBKwy fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",l="fd_browse_resource_modal--slidingPaneContainer--sW-oK sliding_pane--slidingPaneContainer--RQkXf",o="fd_browse_resource_modal--slidingPaneContainerAdjustable--ge7kl sliding_pane--slidingPaneContainer--RQkXf",i="fd_browse_resource_modal--slidingPane--TqmkG sliding_pane--slidingPane--6OmDU",s="fd_browse_resource_modal--slidingPaneLeft--TOiZt sliding_pane--slidingPaneLeft--Wrfdy sliding_pane--slidingPane--6OmDU",c="fd_browse_resource_modal--backButton--S7dMz",d="fd_browse_resource_modal--tabHeader--edoDO",u="fd_browse_resource_modal--tabsContainer--v6cIk",m="fd_browse_resource_modal--tabClickTarget--QDM1e",_="fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",p="fd_browse_resource_modal--selectedTab--u91ec fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",g="fd_browse_resource_modal--searchBarContainer--Q2kZ7",E="fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",f="fd_browse_resource_modal--searchBarAndFilterContainer--F1Wg8",v="fd_browse_resource_modal--searchBarContainerScrolled--2-lJE fd_browse_resource_modal--searchBarContainer--Q2kZ7",y="fd_browse_resource_modal--devHandoffSearchBarContainerScrolled--KosxI fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",w="fd_browse_resource_modal--searchBar---bmO8",b="fd_browse_resource_modal--searchBarEmpty--8dNhE",h="fd_browse_resource_modal--searchBarDevHandoff--uuPW-",I="fd_browse_resource_modal--searchBarFilterButton--hQeym",N="fd_browse_resource_modal--filterButtonActive--8krHg",P="fd_browse_resource_modal--sectionHeader--a-cdT fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",T="fd_browse_resource_modal--sectionHeaderWithIcon--Tr-vS fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",k="fd_browse_resource_modal--horizontalDivider--H67hA",C="fd_browse_resource_modal--horizontalDividerLong--cQZ0n fd_browse_resource_modal--horizontalDivider--H67hA",x="fd_browse_resource_modal--mainViewHeader--AZpur",L="fd_browse_resource_modal--mainViewHeaderHeight--7TbQi",A="fd_browse_resource_modal--mainViewHeaderScrolled--RPI7X fd_browse_resource_modal--mainViewHeader--AZpur",R="fd_browse_resource_modal--mainViewSelectorTitle--TnoUK text--fontPos12--YsUAh text--_fontBase--QdLsd",D="fd_browse_resource_modal--mainViewSelectorChevron--P-lJ8",S="fd_browse_resource_modal--mainViewSelector--chQy5",B="fd_browse_resource_modal--mainViewSelectorTitleContainer--PITMQ",O="fd_browse_resource_modal--mainViewHeaderRightSide--hxfTP text--fontPos12--YsUAh text--_fontBase--QdLsd",M="fd_browse_resource_modal--viewExpandedCta--xrZpk text--fontPos12--YsUAh text--_fontBase--QdLsd",U="fd_browse_resource_modal--expandedViewHeader--uLZl5",G="fd_browse_resource_modal--left--si6Cj",F="fd_browse_resource_modal--expandedViewHeaderTitle--wG-j2 text--fontPos11--2LvXf text--_fontBase--QdLsd",V="fd_browse_resource_modal--close--G1pa0",W="fd_browse_resource_modal--expandedViewContainer--EvsBd",Q="fd_browse_resource_modal--communityLink--gI-Ei fd_browse_resource_modal--communityLinkBase---qAie text--fontPos12--YsUAh text--_fontBase--QdLsd",H="fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd",K="fd_browse_resource_modal--emptySection--ANbkm text--fontPos12--YsUAh text--_fontBase--QdLsd",z="fd_browse_resource_modal--loadingSpinner--0IwJ9",X="fd_browse_resource_modal--subtitle--Rvd0d text--fontPos11--2LvXf text--_fontBase--QdLsd",Y="fd_browse_resource_modal--showAllSavedExtensionsButton--LDbiv text--fontPos12--YsUAh text--_fontBase--QdLsd"},861090:(e,t,n)=>{n.d(t,{H:()=>a});let a=n(848318).createContext({externalCommentScrollRef:null,onScrollToRatings:null})},354099:(e,t,n)=>{n.d(t,{O:()=>s});var a=n(848318),r=n(773511),l=n(967688),o=n(303397),i=n(17753);function s({label:e=(0,l.t)("fullscreen_actions.expand-ui"),children:t}){return a.createElement(r.E,{className:"toggle_expanded_sidebar_button--button--brZmz",onClick:()=>o.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),"aria-label":e,recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-tooltip-type":i.Ib.TEXT,"data-tooltip":e,"data-tooltip-shortcut-key":"toggle-sidebar"}},t)}},480259:(e,t,n)=>{n.d(t,{n:()=>u,A:()=>m});var a=n(848318),r=n(140415),l=n(223931),o=n(967688),i=n(303397),s=n(831271),c=n(17753),d=n(43258);function u(){let e=(0,s.q)()?(0,o.t)("fullscreen_actions.expand-ui"):(0,o.t)("fullscreen_actions.minimize-ui");return a.createElement(l.J,{"aria-label":e,onClick:()=>i.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-onboarding-key":d.ue,"data-tooltip":e,"data-tooltip-type":c.Ib.TEXT,"data-tooltip-shortcut-key":"toggle-sidebar"}},a.createElement(r.C,null))}function m(){return a.createElement("div",{className:"toggle_sidebars_icon_button--nonInteractiveContainer--OPLHV"},a.createElement(r.C,null))}},340427:(e,t,n)=>{n.d(t,{A:()=>K});var a=n(848318),r=n(301168),l=n(658029),o=n(762217),i=n(315696),s=n(721494),c=n(749214);let d=(0,a.memo)(function(e){return(0,c.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5V8h10v-.5a.5.5 0 0 0-.5-.5m.5 2H7v7.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5zM7.5 6A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 16.5 6zm7 7a1 1 0 0 0-.486-.857l-2.5-1.5A1 1 0 0 0 10 11.5v3a1 1 0 0 0 1.515.857l2.5-1.5A1 1 0 0 0 14.5 13m-1.972-.583L13.5 13l-.972.583L12 13.9l-1 .6v-3l1 .6z",clipRule:"evenodd"})})});var u=n(186606),m=n(320953),_=n(382902),p=n(536384),g=n.n(p),E=n(238462),f=n(781239),v=n(810503),y=n(156137),w=n(817236),b=n(401970),h=n(967688),I=n(792533),N=n(476421),P=n(755860),T=n(303397),k=n(489082),C=n(963307),x=n(355755),L=n(730143),A=n(313405),R=n(244979),D=n(17753),S=n(698429),B=n(368085),O=n(341090),M=n(967045),U=n(83677),G=n(614892),F=n(712615),V=n(322266),W=n(985908);function Q({children:e,...t}){return a.createElement(w.k,{isVisible:!0},a.createElement(l.K,{...t},e))}function H({selected:e,hasFocus:t,flowItemsCount:n,item:r,index:l,hasFile:c,fileKey:m,fileProtoUrl:_,isDragging:p,viewOnly:E,dispatch:v,onMouseDown:y,onMouseMove:w,onMouseUp:P,renamingStartingPointNodeId:T,setRenamingStartingPointNodeId:k,submitRename:C,selectFlowRowAndSetToEditName:x,recordingKey:L}){return a.createElement(O.e,{key:r.nodeID,className:"prototype_flows_panel--flowRow--pqvyi","data-testid":"prototype-flow-panel-row",dragging:p,onDoubleClick:()=>{var e;return e=r.nodeID,void(E||T===e||(k(e),u.X3B.centerViewportOnNodeIfNecessary(e)))},onMouseDown:y,onMouseMove:w,onMouseUp:P,recordingKey:f.Pt(L,"draggableRow"),selected:e&&t,singletonRow:n<=1},!E&&T&&T===r.nodeID?a.createElement(U.m,{defaultValue:r.prototypeStartingPoint.name||"",submitRename:e=>C(r.nodeID,e),recordingKey:f.Pt(L,"startingPointNameInput"),shouldListenForTabKeyboardEvent:n>1,onTabKeyboardEvent:e=>x(e?l-1:l+1),className:"prototype_flows_panel--startingPointNameInput--fH7vx prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t"}):a.createElement(G.JU,{className:"prototype_flows_panel--flowName--kg1JF"},r.prototypeStartingPoint.name),T!==r.nodeID&&a.createElement("div",{className:g()(["prototype_flows_panel--panelInfoContainer--pVsR6","prototype_flows_panel--fadeOutOnTitleUnhover--G4xPQ"])},a.createElement(o.o,{display:"contents",eventListeners:["onMouseDown"]},a.createElement(Q,{onClick:()=>{var e;return e=r.nodeID,void u.glU.selectInstances(e,!u.X3B.isNodeVisibleInViewport(e))},"aria-label":(0,h.t)("proto.flows_panel.select_frame"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("proto.flows_panel.select_frame")}},a.createElement(b.U,{svg:W.A,fallbackSvg:W.A},a.createElement(i.A,null))),a.createElement(Q,{disabled:!c,onClick:()=>(function(e){let t=u.X3B.currentDeviceType(),n=(0,R.vp)({scalingInfo:{viewportScalingMode:(0,A.qb)(t),contentScalingMode:(0,A.Rv)(t)},nodeId:void 0,startingPointNodeId:e,showHotspots:void 0});v(I.lW({stringToCopy:`${_}${n}`}))})(r.nodeID),"aria-label":(0,h.t)("proto.flows_panel.copy_link"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("proto.flows_panel.copy_link")}},a.createElement(b.U,{svg:V.A,fallbackSvg:V.A},a.createElement(s.r,null))),a.createElement(Q,{disabled:!m,onClick:function(){v((0,N.K)({fileKey:m,startingPointNodeId:r.nodeID,shouldOpenAtStartingPoint:!0,source:"properties_panel"}))},"aria-label":(0,h.t)("proto.flows_panel.preview"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("proto.flows_panel.preview")}},a.createElement(b.U,{svg:F.A,fallbackSvg:F.A},a.createElement(d,null))))))}let K=function(e){let t=(0,C.kl)("prototypeStartingPointsInfo"),n=(0,r.d4)(L.sS)||"",l=(0,L.q5)(),o=(0,L.Cq)({useSinatraType:!0}),i=(0,r.d4)(e=>e.mirror.appModel.currentSelectedProperty),s=(0,x.eY)(),c=(0,S.ks)(),[d,p]=a.useState(null),g=(0,r.wA)(),w=c||e.viewOnly,b=(0,r.d4)(e=>e.mirror.appModel.prototypeCanvasUiVisible&&w),I=(0,k._W)(t,[]),{collapsedInspectionPanelAtom:N,collapseEnabled:A}=(0,B.QZ)("prototype_flows"),[R,D]=(0,_.fp)(N),O=a.useCallback(()=>{D(!R)},[D,R]);if(a.useEffect(()=>{o||(0,v.x1)("prototyping","No file available in flows panel",{fileKey:n})},[o,n]),!t||c&&0===(I=I.filter(e=>s.get(e.nodeID)?.visible)).length)return null;function U(e){let t=e;e>=I.length?t=0:e<0&&(t=I.length-1),T.Y5.updateAppModel({currentSelectedProperty:{type:u.rrT.PROTOTOTYPE_STARTING_POINT,indices:[t]}}),p(I[t].nodeID)}function F(e,t){p(null),t&&m.l7.user("update-prototype-starting-point-name",()=>{u.glU.updatePrototypeStartingPointName(e,t)})}let V=c&&A&&R;return a.createElement(y.k,{name:"prototype_flows_panel"},a.createElement(G.Zk,{className:R?"noBottomPadding":void 0},a.createElement(M.h6,{addProperty:E.lQ,boldHeaderRow:V,currentSelectedProperty:i,dispatch:g,hideAddButton:!0,isPanelBodyCollapsedAtom:A?N:void 0,onChange:e=>{if(0===e.length||0===i.indices.length)return;let t=I.filter((e,t)=>i.indices.includes(t)).map(e=>e.nodeID);if(0===t.length)return;let n=I[i.indices[0]].nodeID,a=e[0].nodeID===n?"":e[e.findIndex(e=>e.nodeID===n)-1].nodeID,r=I[i.indices[i.indices.length-1]].nodeID,l=e[e.length-1].nodeID===r?"":e[e.findIndex(e=>e.nodeID===r)+1].nodeID;m.l7.user("change-starting-points",()=>{u.glU.insertPrototypeStartingPointsBetween(t,a,l)})},onDeleteProperty:w?()=>{}:e=>{let t=I.filter((t,n)=>e.has(n)).map(e=>e.nodeID);t.length>0&&u.glU.deletePrototypeStartingPoints(t)},onHeaderClick:A?O:void 0,openFile:l,pickerShown:null,propertyList:I,recordingKey:"prototypeFlowsList",renderProperty:(e,t,r,l,i,s,c,u,m)=>a.createElement(H,{key:t,dispatch:g,fileKey:n,fileProtoUrl:o?.prototype_url,flowItemsCount:I.length,hasFile:!!o,hasFocus:i,index:t,isDragging:l,item:e,onMouseDown:c,onMouseMove:u,onMouseUp:m,recordingKey:f.Pt("prototypeFlowsList",t),renamingStartingPointNodeId:d,selectFlowRowAndSetToEditName:U,selected:r,setRenamingStartingPointNodeId:p,submitRename:F,viewOnly:!!w}),reversed:!1,selectedPropertyType:u.rrT.PROTOTOTYPE_STARTING_POINT,shouldIgnoreKeyboardEventDuplicateProperty:!0,showVisibleFlowsButton:w&&!V,stylePickerShown:{isShown:!1},title:(0,h.t)("proto.flows"),toggleVisibleFlows:e=>{A&&e.stopPropagation(),P.VU.get("toggle-prototyping-info","panel")(e)},visibleFlowsButtonChecked:b})))}},83677:(e,t,n)=>{n.d(t,{m:()=>$,A:()=>j});var a=n(848318),r=n(301168),l=n(658029),o=n(773511),i=n(762217),s=n(749214);let c=(0,a.memo)(function(e){return(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,s.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 17H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1m-6 1h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2m1.5-9a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm-.5 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m.5 1.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var d=n(990140),u=n(721494),m=n(92778),_=n(186606),p=n(320953),g=n(536384),E=n.n(g),f=n(813009),v=n(857607),y=n(781239),w=n(401970),b=n(967688),h=n(792533),I=n(696786),N=n(303397),P=n(489082),T=n(963307),k=n(730143),C=n(313405),x=n(244979),L=n(17753),A=n(21614),R=n(483157),D=n(410441),S=n(540882),B=n(454805),O=n(755534),M=n(175393),U=n(27776);let G=function({startingPoint:e,closeModal:t,parentPanelRectObject:n,recordingKey:r}){let[l,o]=(0,a.useState)(e?.description||""),i=(0,a.useRef)(l);(0,a.useEffect)(()=>{i.current=l},[l]);let s=(0,A.uQ)(),c=(0,a.useRef)(s),d=(0,a.useCallback)(()=>{p.l7.user("submit-prototype-starting-point-description",()=>{c.current&&_.glU.updatePrototypeStartingPointDescription(c.current,i.current)}),t()},[t]);(0,a.useEffect)(()=>d,[d]);let u=(0,a.useCallback)(()=>{p.l7.user("blur-prototype-starting-point-description",()=>{c.current&&_.glU.updatePrototypeStartingPointDescription(c.current,i.current)})},[]);return(0,a.useEffect)(()=>(window.addEventListener("blur",u),window.addEventListener("focus",u),()=>{window.removeEventListener("blur",u),window.removeEventListener("focus",u)}),[u]),a.createElement(M.vx,{title:(0,b.t)("proto.starting_point_modal.description"),initialPosition:new B.Mi(n.x-(0,D.hG)(U.M0y),n.y),headerSize:"small",truncateTitleText:!0,dragHeaderOnly:!0,onClose:d},a.createElement(O.P,{className:"prototype_starting_point_modal--contentContainer--PuTTf"},a.createElement("div",{className:"prototype_starting_point_modal--richTextEditor--Ru95M",dir:"auto"},a.createElement(S.X,{fallback:null,errorFallback:null,placeholder:(0,b.t)("proto.starting_point_modal.enter_a_description_for_your_starting_point"),defaultValue:l,onInputChange:e=>{o(e)},onBlur:u,mountBehavior:"focusAndSelectAll",toolbarOptions:"minimal",toolbarProps:{"aria-label":(0,b.t)("proto.starting_point_modal.description")}}))))};var F=n(614892),V=n(699848);let W="prototype_starting_point_panel--rightIconButton--ID6ZQ";var Q=n(322266),H=n(952200),K=n(389075),z=n(80876),X=n(954184),Y=n(546131);function j(e){let[t,n]=(0,T.lJ)("prototypeStartingPoint"),s=(0,I.GS)(),g=!!(0,f.R)(Z),[v,D]=(0,a.useState)(!1),[S,B]=(0,a.useState)(P.E7(t)?.name||""),[O,M]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=P.E7(t)?.name||"";e!==S&&(B(e),!S&&O&&(M(!1),D(!0)))},[t,S,O]);let[U,j]=(0,a.useState)(!1),q=(0,a.useRef)(null),J=(0,a.useRef)(null),ee=(0,A.Tv)(),et=(0,k.Cq)({useSinatraType:!0}),en=!!et,ea=et?.prototype_url,er=(0,r.d4)(e=>e.mirror.appModel.urlNodeId),el=(0,r.wA)(),eo=(0,a.useCallback)(()=>{j(!1)},[]);(0,a.useEffect)(()=>{eo()},[eo,ee]);let ei=p.nc.user("delete-prototype-starting-points",()=>{ee&&_.glU.deletePrototypeStartingPoints(ee)}),es=y.rf(y.Pt(e.recordingKey,"minusButton"),"click",e=>{ei()}),ec=y.rf(y.Pt(e.recordingKey,"nameLabel"),"click",e=>{D(!0)});(0,a.useEffect)(()=>(N.Y5.fromFullscreen.on("focusPrototypeStartingPointPanelToEditName",ec),()=>{N.Y5.fromFullscreen.removeListener("focusPrototypeStartingPointPanelToEditName",ec)}),[ec]);let ed=y.rf(e.recordingKey,"click",e=>{M(!0),p.l7.user("add-prototype-starting-point",()=>{N.Y5.triggerAction("add-prototype-starting-point")})}),eu=ee&&ee.length>1,em=(0,P._W)(t,{}),e_=a.createElement(a.Fragment,null,v?a.createElement($,{defaultValue:S,submitRename:function(e){D(!1),e?n({name:e,description:(0,P.E7)(t)?P.E7(t)?.description:"",position:(0,P.E7)(t)?P.E7(t)?.position:""}):B(P.E7(t)?.name||"")},recordingKey:y.Pt(e,"startingPointNameInput")}):a.createElement(F.JU,{className:"prototype_starting_point_panel--startingPointNameLabel--Mipwi raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",onClick:ec},S)),ep=a.createElement(l.K,{onClick:()=>{j(!0)},htmlAttributes:{"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,b.t)("proto.starting_points.edit_description")},"aria-label":(0,b.t)("proto.starting_points.edit_description"),recordingKey:y.Pt(e,"startingPointPanelIcon")},a.createElement(w.U,{svg:z.A,fallbackSvg:z.A},a.createElement(c,null))),eg=s?a.createElement(V.DE,{ref:J,label:null,input:e_,icon:ep}):a.createElement(F.fI,{ref:q},e_,a.createElement("span",{className:W},ep));return g?a.createElement(F.Zk,null,a.createElement(F.fI,{className:"prototype_starting_point_panel--flowStartingPointRow--Ajjk1 collapsible_property_panel--panelTitleRowOuter--i5K0R"},a.createElement(R.Q,{extended:!0},(0,b.tx)("proto.starting_points.flow_starting_point_title")),a.createElement("span",{className:"prototype_starting_point_panel--fadeOutOnUnhover--6-o5B"},!eu&&a.createElement(l.K,{disabled:!en,onClick:()=>(function(e){let t=_.X3B.currentDeviceType(),n=(0,x.vp)({scalingInfo:{viewportScalingMode:(0,C.qb)(t),contentScalingMode:(0,C.Rv)(t)},nodeId:void 0,startingPointNodeId:e,showHotspots:void 0});el(h.lW({stringToCopy:`${ea}${n}`}))})(er),htmlAttributes:{"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.copy_link")},"aria-label":(0,b.t)("proto.flows_panel.copy_link")},a.createElement(w.U,{svg:Q.A,fallbackSvg:Q.A},a.createElement(u.r,null)))),a.createElement("span",{className:W},a.createElement(l.K,{onClick:es,htmlAttributes:{"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,b.t)("proto.starting_points.delete_starting_point_tooltip")},"aria-label":(0,b.t)("proto.starting_points.delete_starting_point_tooltip")},a.createElement(w.U,{svg:H.A,fallbackSvg:K.A},a.createElement(m.O,null))))),eu?a.createElement(F.fI,null,a.createElement(F.nV,{className:"prototype_starting_point_panel--mixedNoteLabel--gzISu draggable_list--label--Gcpsi"},(0,b.tx)("proto.starting_points.click_to_remove_mixed_content"))):a.createElement(a.Fragment,null,eg,U&&a.createElement(G,{startingPoint:em,closeModal:eo,parentPanelRectObject:(s?J.current:q.current).getBoundingClientRect(),recordingKey:y.Pt(e,"startingPointDescriptionModal")}))):eu?null:a.createElement(F.Zk,null,a.createElement(F.fI,{className:E()("prototype_starting_point_panel--panelHeaderRowFaded--pswTv draggable_list--panelHeaderRowFaded--kETRR draggable_list--hover--yEfA5","prototype_starting_point_panel--hover--5t-WV")},a.createElement(R.Q,{faded:!0,extended:!0},a.createElement(o.E,{className:"prototype_starting_point_panel--panelTitleText--F75N0 draggable_list--panelTitleText--SwKez",onClick:ed,recordingKey:y.Pt(e,"panelTitle")},(0,b.tx)("proto.starting_points.flow_starting_point_title"))),a.createElement("span",{className:"prototype_starting_point_panel--addButton--M-0Xy draggable_list--addButton--D0q--"},a.createElement(i.o,{eventListeners:["onMouseDown"],display:"contents"},a.createElement(l.K,{onClick:ed,htmlAttributes:{"data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,b.t)("proto.starting_points.add_starting_point_tooltip")},"aria-label":(0,b.t)("proto.starting_points.add_starting_point_tooltip"),recordingKey:y.Pt(e,"plusButton")},a.createElement(w.U,{svg:X.A,fallbackSvg:Y.A},a.createElement(d.e,null)))))))}function Z(e){return e.mirror.selectionProperties.prototypeStartingPoint}function $(e){let[t,n]=a.useState(e.defaultValue),r=y.AF(e.recordingKey,"change",e=>{n(e.target.value)}),l=y.iQ(e.recordingKey,"blur",p.nc.user("rename-starting-point",()=>e.submitRename(t))),o=y.v_(e.recordingKey,"keydown",n=>{"Enter"===n.key?e.submitRename(t):"Escape"===n.key?e.submitRename(""):e.shouldListenForTabKeyboardEvent&&n.keyCode===v.Uz.TAB&&(n.preventDefault(),e.submitRename(t),e.onTabKeyboardEvent?.(n.shiftKey))});return a.createElement(i.o,{eventListeners:["onMouseDown"],display:"contents"},a.createElement("input",{autoFocus:!0,className:e.className||"prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",defaultValue:e.defaultValue,dir:"auto",onBlur:l,onChange:r,onFocus:e=>{e.currentTarget.select()},onKeyDown:o,placeholder:"Flow name",type:"text"}))}},881658:(e,t,n)=>{let a,r,l,o;n.d(t,{k:()=>D});var i=n(848318),s=n(301168),c=n(329228),d=n(454805),u=n(66699),m=n(566726),_=n(212885),p=n(453370),g=n(986368),E=n(863270),f=n(995218),v=n(696786),y=n(755860),w=n(760641),b=n(511067),h=n(259964),I=n(645445),N=n(219990),P=n(122586),T=n(18455),k=n(638166),C=n(731889),x=n(175393),L=n(23215),A=n(515640),R=n(575061);function D(){let e=(0,s.d4)(e=>e.universalInsertModal),t=(0,s.d4)(e=>e.mirror.appModel.showUi),{fdPreviewResource:n,initialFdView:D,initialFdResourceTab:B}=e,O=n?.type,{activeTab:M,setCurrentViewOrTab:U,currentView:G}=function(){let{initialFdResourceTab:e,initialFdView:t}=(0,s.d4)(e=>e.universalInsertModal),[n,a]=i.useState(e||r||C.s.COMPONENT),[c,d]=i.useState(e===C.s.PLUGIN&&t||l||"recents_and_saved"),[u,m]=i.useState(e===C.s.WIDGET&&t||o||"recents_and_saved"),_=i.useCallback(e=>{e===C.s.PLUGIN?l=c:e===C.s.WIDGET&&(o=u)},[c,u]),p=n===C.s.PLUGIN?c:u,g=i.useCallback(({newView:e,newTab:t})=>{let l=t===C.s.PLUGIN?c:t===C.s.WIDGET?u:void 0;e&&l!==e&&(_(n),(t||n)===C.s.PLUGIN?d(e):(t||n)===C.s.WIDGET&&m(e)),t&&n!==t&&(_(n),r=n,a(t))},[n,c,u,_]);return i.useEffect(()=>{g({newView:t,newTab:e})},[e,t]),i.useEffect(()=>{r=n,_(n)},[n,_]),i.useMemo(()=>({activeTab:n,currentView:p,setCurrentViewOrTab:g}),[n,p,g])}(),F=(0,v.GS)(),V=(0,s.wA)(),W=i.useRef(null),[Q]=i.useState(D?"":a||"");i.useEffect(()=>{(0,u.YQ)({id:"figma-inserts-opened"}),(0,u.YQ)({id:N.ko})},[]);let H=(0,P.Au)();i.useEffect(()=>{H&&V(g.eo())}),i.useEffect(()=>{a=Q},[Q]),i.useEffect(()=>V(_.aq()),[V]),(0,c.IT)((0,m.se)()),(0,c.IT)((0,m.fd)()),i.useEffect(()=>{U({newTab:O||B})},[B,O]);let K=(0,f.E3)(),[z,X]=i.useState(),Y=F?k.tS:k.Zv;(0,w.J$)(e.pinned===I.t.NOT_PINNED,W,Y);let j=(0,k.CK)(),Z=(0,k.CG)(),{bounds:$,showLeftPinBound:q,setShowLeftPinBound:J,shouldSnapToPosition:ee,setPinned:et}=(0,T.C)(S,X,e.pinned,j,Z,e.showing),en=(0,w.LR)(),ea=(0,b.Um)(),er=i.useCallback(e=>{e.stopPropagation(),ea&&V(p.oB())},[V,ea]),el=i.useMemo(()=>({activeTab:M,viewResource:e=>{V(g.IN({fdPreviewResource:e}))},closeResource:()=>{V(g.IN({fdPreviewResource:void 0}))},closeModal:en,pinModal:et,setCurrentViewOrTab:U,currentView:G}),[M,en,et,V,U,G]),eo=i.useCallback(e=>{y.VU.get("set-tool-default","toolbar")(),V(g.jy({pinned:I.t.PINNED})),er(e)},[V,er]),ei=i.useCallback(()=>{q&&et()},[q,et]);if(!e.showing)return null;let es={height:"auto",overflow:"hidden"};return(e.pinned!==I.t.NOT_PINNED||F||(es.borderTopLeftRadius="0px"),K===h.nT.DevHandoff)?null:i.createElement(E.fu,{name:"universal-insert"},e.pinned===I.t.PINNED&&q&&i.createElement("div",{className:A.k,style:{left:j.x,top:j.y,width:k.AN}}),i.createElement(k.B0.Provider,{value:el},i.createElement(x.vx,{ref:W,bounds:$,canResetPosition:ee,containerClassName:e.pinned===I.t.PINNED_AND_DOCKED_LEFT?R.gC:R.jT,frameStyle:es,initialPosition:z||new d.Mi(e.initialX,e.initialY),initialWidth:k.AN,minTopMargin:t?void 0:0,onClick:er,onClose:en,onDragEnd:ei,onDragStart:eo,onEnterBound:()=>{F||J(!0)},onLeaveBound:()=>{J(!1)}},i.createElement(L.z,null))))}function S(){return{x:-k.AN,y:0,width:2*k.AN+k.wR,height:window.innerHeight}}},23215:(e,t,n)=>{let a;n.d(t,{z:()=>t6});var r=n(848318),l=n(301168),o=n(353317),i=n(167895),s=n(947078),c=n(382902),d=n(536384),u=n.n(d),m=n(277930),_=n(857607),p=n(156974),g=n(561258),E=n(755534),f=n(847240),v=n(401970),y=n(297638),w=n(967688),b=n(843117),h=n(828237),I=n(453370),N=n(863270),P=n(652576),T=n(338104),k=n(760641),C=n(511067),x=n(180294),L=n(794025),A=n(324747),R=n(17753),D=n(698429),S=n(335744),B=n(120846),O=n(274563),M=n(660182),U=n(466930),G=n(679044),F=n(277454),V=n(337609),W=n(663934),Q=n(100970),H=n(524873),K=n(638166);function z(e){let t=(0,l.wA)(),n=(0,l.Pj)(),a=(0,l.d4)(H.m),o=(0,l.d4)(e=>(0,V.CX)(e)),i=r.useRef(null),s=(0,K.NF)(K.gC+K.Kr+K.Ix);r.useEffect(()=>{(async()=>{if(t((0,U.zK)()),o){await F.NW;let{fileVersion:e}=n.getState();e&&!(0,F.El)("INVALID-FILE-KEY-SHOULD-BE-REMOVED",o)&&n.dispatch((0,G.n)({libraryKey:o}))}})()},[t,o,n]);let[c,d]=r.useState(!1);return r.createElement("div",null,e.header,r.createElement("div",{"data-not-draggable":!0},r.createElement(Q.LL,{drilldownPickerContextValue:{listItemHeight:48,leafListHeight:48,listItemThumbnailStylesOverride:{height:40,width:40,borderRadius:2}},entrypointForLogging:null,isSearching:c,pickerType:M.Zl.RESOURCE_INSERT_MODAL,query:e.query,recordingKey:"componentInsert",scrollContainerHeight:s,searchBarRef:i,selectedItems:a?[a]:[],setIsSearching:d,setQuery:e.setQuery,toggleGridViewButton:r.createElement(Q.Cc,{isSwapPicker:!1})}),r.createElement(W.Q,null)))}var X=n(658029),Y=n(408193),j=n(572220),Z=n(19180),$=n(540882),q=n(264478),J=n(345964),ee=n(720522),et=n(118937),en=n(317573),ea=n(511806),er=n(982588),el=n(125761),eo=n(522242),ei=n(267849);function es({resource:e}){let t=(0,l.d4)(e=>e.authedActiveCommunityProfile),n=(0,el.iZ)(),a=(0,er.ej)(e);return r.createElement("div",{className:eo.I4,"data-not-draggable":!0},r.createElement("div",{className:eo.QW},r.createElement(ee.B,{svg:ei.A})),r.createElement("div",{className:eo.hI},(0,w.tx)("community.buyer.payment_for_this_resource_is_moving_over_to_figma")),r.createElement("div",{className:eo.JL},r.createElement("button",{onClick:()=>{(0,ea.mG)(e,A.aL.INSERTS,n.id,t?.id),a()}},(0,w.tx)("community.buyer.update_payment"))))}var ec=n(327836);n(14323),n(459633),n(861090);var ed=n(913026);n(175393),n(414607),n(593713);let eu="rating_stats_data--averageStar--YdqTY";function em({isHovered:e}){return r.createElement("span",{className:eu,"aria-label":(0,w.t)("community.detail_view.full_star")},r.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)"},r.createElement("path",{d:"M7.77304 0.492166C7.86239 0.298449 8.13771 0.298448 8.22707 0.492166L10.2571 4.89337L15.0703 5.46405C15.2821 5.48917 15.3672 5.75101 15.2106 5.89585L11.6521 9.18663L12.5967 13.9405C12.6383 14.1498 12.4155 14.3116 12.2294 14.2074L8.00005 11.84L3.77072 14.2074C3.58457 14.3116 3.36183 14.1498 3.4034 13.9405L4.348 9.18663L0.789528 5.89586C0.632903 5.75101 0.717982 5.48917 0.929831 5.46405L5.74296 4.89337L7.77304 0.492166Z",fill:e?"var(--color-text-tooltip-warning, $yellow_400_light)":"var(--color-multiplayeryellow, $multiplayerYellow)"})))}function e_(){return r.createElement("span",{className:eu,"aria-label":(0,w.t)("community.detail_view.empty_star")},r.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58344 5.82031L7.99995 2.38731L6.41646 5.82031L2.66216 6.26545L5.43781 8.83229L4.70102 12.5404L7.99995 10.6938L11.2989 12.5404L10.5621 8.83229L13.3377 6.26545L9.58344 5.82031ZM15.0702 5.46385C15.282 5.48897 15.3671 5.75081 15.2105 5.89566L11.652 9.18643L12.5966 13.9403C12.6382 14.1496 12.4154 14.3114 12.2293 14.2072L7.99995 11.8398L3.77062 14.2072C3.58447 14.3114 3.36173 14.1496 3.4033 13.9403L4.3479 9.18643L0.789429 5.89566C0.632804 5.75081 0.717883 5.48897 0.929731 5.46385L5.74286 4.89318L7.77294 0.491968C7.86229 0.29825 8.13762 0.29825 8.22697 0.491968L10.257 4.89318L15.0702 5.46385Z",fill:"var(--color-text-secondary,$figmaFGBlack5)"})))}let ep="rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd";var eg=n(833198),eE=n(733948);function ef({onSelect:e,existingRating:t,showDescriptions:n=!1,useBigStars:a=!0,isOptional:l=!1,disabled:o=!1,disabledTooltip:i}){let[s,c]=(0,r.useState)(0),[d,u]=(0,r.useState)(0),[m,_]=(0,r.useState)(!1),p=[(0,w.t)("community.star_ratings.i_really_dont_like_it"),(0,w.t)("community.star_ratings.i_dont_like_it"),(0,w.t)("community.star_ratings.its_okay"),(0,w.t)("community.star_ratings.i_like_it"),(0,w.t)("community.star_ratings.i_love_it")];(0,r.useEffect)(()=>{void 0===t||s||(c(t),u(t))},[t,s]);let g=a?r.createElement(ee.B,{svg:eg.A,className:"rating_star_selector--emptyStar--P-7A1 rating_star_selector--star--ML342","aria-label":(0,w.t)("community.detail_view.empty_star"),dataTestId:"empty-star-big"}):r.createElement(e_,null),E=a?r.createElement(ee.B,{svg:eE.A,className:m?"rating_star_selector--fullStarHover--JKgxp rating_star_selector--star--ML342":"rating_star_selector--fullStar--rCWKu rating_star_selector--star--ML342","aria-label":(0,w.t)("community.detail_view.full_star"),dataTestId:"full-star-big"}):r.createElement(em,{isHovered:m}),f=e=>{o||(c(e+1),_(!0))},v=t=>{o||(t+1===d&&l?(u(0),e(0)):(u(t+1),e(t+1)))};return r.createElement("div",{className:a?"rating_star_selector--starInfoContainer--aW-rA":"rating_star_selector--starInfoContainerBigStars--y3zus rating_star_selector--starInfoContainer--aW-rA"},r.createElement("div",{className:o?"rating_star_selector--starContainerDisabled--7bMU6 rating_star_selector--starContainer--1y2ZB":"rating_star_selector--starContainer--1y2ZB",onMouseLeave:()=>{o||d===s||c(d)},"data-tooltip-type":o?R.Ib.TEXT:void 0,"data-tooltip":o?i:void 0,"data-tooltip-show-immediately":!0,"data-testid":"rating-tooltip"},(()=>{let e=[];for(let t=0;t<5;t++)e.push(r.createElement("span",{className:y.s.flex.$,key:`rating-star-${t}}`,onMouseEnter:()=>f(t),onMouseLeave:()=>_(!1),onClick:()=>v(t),role:"button",tabIndex:0},t<s?E:g));return e})()),r.createElement("div",{className:"rating_star_selector--ratingDescriptionVisibility--XvJs2"},r.createElement(r.Fragment,null,n&&r.createElement("div",{className:a?"rating_star_selector--ratingDescriptionBigStars--WKSN3 rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd":ep},p[s-1]),l&&0===s&&r.createElement("div",{className:ep},o?(0,w.tx)("community.rating_review.ratings_not_available"):(0,w.tx)("community.rating_review.optional")))))}function ev({userRating:e,isInsertsModal:t,disabled:n,disabledTooltip:a,openRatingModal:l}){return r.createElement("div",{className:t?"rating_stats_view--ratingSelectorContainerInsertsModal--yPaAm rating_stats_view--ratingSelectorContainer--9lgDS":"rating_stats_view--ratingSelectorContainer--9lgDS"},r.createElement("div",{className:t?"rating_stats_view--ratingCTAInsertsModal--lcpeW text--fontPos11--2LvXf text--_fontBase--QdLsd":"rating_stats_view--ratingCTA--Wa386 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e?r.createElement("div",{onClick:()=>l(e?.ratingValue),className:"rating_stats_view--editRating---V3U6",role:"button",tabIndex:0},(0,w.tx)("community.detail_view.edit_rating")):(0,w.tx)("community.detail_view.leave_a_rating")),r.createElement(ef,{onSelect:l,existingRating:e?.ratingValue,disabled:n,disabledTooltip:a}))}var ey=n(900003),ew=n(823898),eb=n(566726),eh=n(792533),eI=n(661642),eN=n(531851),eP=n(14837),eT=n(61993),ek=n(903691),eC=n(20687),ex=n(125952),eL=n(877686),eA=n(714351),eR=n(881457),eD=n(113158),eS=n(215533),eB=n(564422);function eO({onBack:e,text:t}){let n=(0,D.ks)();return r.createElement("div",{className:"browse_resource_modal_tab_header--header--MQQB5 text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement("div",{className:"browse_resource_modal_tab_header--left--UnLHb"},r.createElement(ee.B,{"data-not-draggable":!0,svg:eB.A,className:"browse_resource_modal_tab_header--backButton--xXsNC fd_browse_resource_modal--backButton--S7dMz",onClick:e}),t),!n&&r.createElement(K.Ex,{containerClassName:"browse_resource_modal_tab_header--close--9Fu6o"}))}var eM=n(870271),eU=n(731889),eG=n(879411),eF=n(695567);let eV="detail_view--ratingSelectorContainer--zbvCM";var eW=n(55550),eQ=n(580012),eH=n(415431),eK=n(86097);function ez(e){let t=(0,l.wA)(),{activeTab:n}=(0,K.IT)(),a=n===eU.s.PLUGIN,o=(0,P.cW)(),i=(0,P.ZT)(),s=(a?o:i)[e.resourceId];return(r.useEffect(()=>{s&&s.community_publishers||t(eb.af({id:e.resourceId,resourceType:a?A.bD.PLUGIN:A.bD.WIDGET}))},[t,s,e.resourceId,a]),s)?r.createElement(eX,{resourceId:e.resourceId,resource:s}):r.createElement("div",{className:y.s.flex.wFull.borderBox.justifyCenter.pt32.$},r.createElement(J.kt,{size:"medium"}))}function eX(e){let{resource:t}=e,{activeTab:n}=(0,K.IT)(),a=n===eU.s.PLUGIN,o=(0,l.wA)(),i=(0,D.ks)(),s=(0,P.x)(),c=(0,C.Um)(),d=(0,K.NF)((0,eP.T)()?K.gC+64:K.gC),m=(0,l.d4)(e=>e.authedUsers),_=(0,er.EO)(t),p=(0,er.lt)(t),g=(0,er.gn)(t),f=(0,ey.QQ)(p),b=(0,l.d4)(e=>e.authedActiveCommunityProfile),h=(0,eS.b)(),T=(0,x.sZ)(),k=(0,P.ll)(),L=(0,P.U6)(),S=Object.values((0,P.$1)()).find(t=>String(t.plugin_id)===e.resourceId),{dragState:B,onInsertableResourcePointerDown:O}=(0,ek.P)({resource:(0,eC.uF)(t),clickToInsert_DEPRECATED:!0,afterSuccessfulInsert:h,triggeredFrom:"universal-insert"}),{canRate:M=!1}={},U=r.useCallback(()=>{o(eh.S({url:a?(0,eL.ab)(e.resourceId):(0,eL.ox)(e.resourceId),linkType:a?"plugin":"widget"}))},[o,e.resourceId,a]),G=a&&c?.type===eM.yW&&c.data.pluginId===e.resourceId&&c.data.targetRect,F=r.useCallback(t=>{t.stopPropagation(),a&&(G?o(I.oB()):o(I.j7({type:eM.yW,data:{pluginId:e.resourceId,targetRect:t.currentTarget.getBoundingClientRect()}})))},[a,G,o,e.resourceId]),V=r.useCallback(()=>{o(I.oB())},[o]);if(!t)return null;t.community_resource_payment=p;let W=(0,eC.uF)(t),Q=(0,er.Zk)(b,m,t),H=(0,eC.og)({canAssociatedUserPurchaseThisResource:Q,resource:t}),z=!S&&(0,eN.XV)({org:T,extension:t,allowlistedExtensions:a?k:L}),q=a?r.createElement(eF.tO,{pluginId:e.resourceId,usePrimaryButtonStyles:!0,dropdownShownType:"DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU_DETAIL_VIEW"}):r.createElement(eF.GJ,{widgetId:e.resourceId});return r.createElement(N.fu,{name:"detail",properties:{resourceId:e.resourceId,resourceType:a?A.bD.PLUGIN:A.bD.WIDGET,isMonetized:(0,A.m3)(t),editorType:"figma"}},r.createElement(eY,null),r.createElement(E.P,{height:d,onScroll:V,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement("div",{className:"detail_view--contentContainer--nSBG8"},r.createElement("div",{className:(0,eP.T)()?"detail_view--contentContainerVsCode--QO3Ls":void 0},r.createElement("div",{className:(0,eP.T)()?"detail_view--coverImageContainerVsCode--4UADZ detail_view--coverImageContainer--2AZZG detail_view--coverImageContainer--2AZZG":"detail_view--coverImageContainer--2AZZG"},r.createElement("img",{className:u()([(0,eP.T)()?"detail_view--coverImageVsCode--ZtGDB":a?"detail_view--coverImageNotDraggable--5PzSB detail_view--coverImage---G-H1":"detail_view--coverImage---G-H1",y.s.if((0,eP.T)(),y.s.bRadius5).$]),src:W.redirect_cover_image_url||"",alt:`${W.name}`,onPointerDown:e=>!a&&O(e)}),r.createElement(eT.E,{dragState:B})),g&&r.createElement(eR.cu,null),H&&!g&&!f&&r.createElement(es,{resource:t}),r.createElement("div",{className:(0,eP.T)()?"detail_view--infoContainerVsCode--g6DeF detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd":"detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement("div",{className:"detail_view--metadataContainer--GSTfB"},r.createElement("div",{className:"detail_view--name--oJZlL text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement("div",{className:"detail_view--nameString--D7CH4 ellipsis--ellipsis--Tjyfa"},W.name),(0,et.$3)({resource:t,validBadges:[et.op.PURCHASED],authedActiveCommunityProfile:b})||r.createElement(en.I,{badges:t.badges,height:"16",hideTooltip:!0})),r.createElement("div",{className:"detail_view--publishers--EXOAA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(t.community_publishers?.accepted||[]).length>0&&r.createElement(r.Fragment,null,r.createElement(ex.Ro,{entity:t.community_publishers?.accepted[0],size:16,className:"detail_view--avatar--trwkE"}),(0,K.kB)(t)))),(!i||s)&&r.createElement("div",{className:"detail_view--actionsRow--sAwdf"},r.createElement("div",{className:"detail_view--ctaContainer--Z5uKT"},_&&!(0,Z.k)().community_hub_admin_reviewer?r.createElement(ec.I,{resource:t,context:A.aL.INSERTS,payment:p}):z?r.createElement(eG.s,{version:W,isPlugin:a}):q),r.createElement("div",{className:y.s.ml8.flex.itemsCenter.$},r.createElement(eD._W,{resourceId:e.resourceId,resourceType:a?A.vt.PLUGIN:A.vt.WIDGET,parentView:eD.nN.DETAIL})),i&&(0,eC.Th)(W,T,k)?r.createElement(r.Fragment,null,r.createElement("div",{className:"detail_view--dotsContainer--JdwCt"},r.createElement(X.K,{"aria-label":(0,w.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,w.t)("universal_insert.more_options")},onClick:F},r.createElement(v.U,{className:"detail_view--moreOptionsIcon--najos",svg:eQ.A,fallbackSvg:eH.A},r.createElement(Y.J,null)))),G&&r.createElement(eM.Gq,{resourceId:e.resourceId,plugin:W,resourceType:a?A.vt.PLUGIN:A.vt.WIDGET})):r.createElement(X.K,{"aria-label":(0,w.t)("universal_insert.copy_link"),htmlAttributes:{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,w.t)("universal_insert.copy_link")},onClick:U},r.createElement(v.U,{className:"detail_view--copyLinkIcon--PFKiL",svg:eK.A},r.createElement(j.W,null)))),r.createElement("div",{className:"detail_view--horizontalDivider--nZbBH"}),r.createElement("div",{className:"detail_view--resourceUsageDetails--dKwea"},r.createElement(eA.f,{resource:t})),r.createElement("div",{className:eV},M&&(0,ew.Ul)(t)&&r.createElement("div",{className:eV},r.createElement(ev,{openRatingModal:e=>{},isInsertsModal:!0}))),r.createElement($.R,{fallback:null,errorFallback:null,value:W.description})))),r.createElement(ej,{resourceId:e.resourceId})))}function eY(){let{closeResource:e,activeTab:t}=(0,K.IT)();return r.createElement(eO,{onBack:e,text:t===eU.s.PLUGIN?(0,w.tx)("universal_insert.plugin"):(0,w.tx)("universal_insert.widget")})}function ej(e){let{activeTab:t}=(0,K.IT)(),n=t===eU.s.PLUGIN?"plugin":"widget",{href:a,onClick:l}=(0,eI.y)(`/community/${n}/${e.resourceId}`);return r.createElement(r.Fragment,null,r.createElement(q.Ph,{className:"detail_view--communityLink--e-ixL fd_browse_resource_modal--communityLinkBase---qAie text--fontPos11--2LvXf text--_fontBase--QdLsd",href:a,onClick:l,target:"_blank",trackingEventName:"Inserts Detail View - Browse More From Community",trusted:!0},r.createElement(ee.B,{svg:eW.A,className:"detail_view--communityLinkIcon--FPd8D fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd"}),(0,w.tx)("universal_insert.see_more_details_in_community")),r.createElement("div",{className:"detail_view--communityLinkSpacer--2-rRR"}))}var eZ=n(925085),e$=n(469508),eq=n(531788),eJ=n(990140),e0=n(88706),e1=n(833420),e5=n(87463),e3=n(65541),e8=n(4102);function e4({isDesktop:e}){return r.createElement(e1.Y1,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center"},r.createElement(ee.B,{svg:e8.A,className:y.s.colorIconSecondary.pb24.$,autosize:!0,height:(0,eP.T)()?"64px":void 0}),r.createElement(e7,{isDesktop:e}))}function e7({isDesktop:e}){let t={learnMoreLink:r.createElement(e$.N,{href:"https://www.figma.com/plugin-docs",newTab:!0},(0,w.tx)("dev_handoff.inspect_panel.learn_more_plugin_development"))};return r.createElement(r.Fragment,null,e?r.createElement(r.Fragment,null,r.createElement("div",{className:y.s.alignCenter.$},r.createElement(e5.E,{color:"secondary"},(0,w.tx)("dev_handoff.inspect_panel.create_first_here")),r.createElement("br",null),r.createElement(e5.E,null,(0,w.tx)("dev_handoff.inspect_panel.learn_more_link",t))),r.createElement(e2,null)):r.createElement("div",{className:y.s.alignCenter.$},r.createElement(e5.E,{color:"secondary"},(0,w.tx)("dev_handoff.inspect_panel.inspect_plugins_go_here")),r.createElement("br",null),r.createElement(e5.E,{color:"secondary"},(0,w.tx)("dev_handoff.inspect_panel.use_desktop_to_develop")),r.createElement("br",null),r.createElement(e5.E,null,(0,w.tx)("dev_handoff.inspect_panel.learn_more_link",t))))}function e2(){let e=(0,l.wA)(),t=(0,C.Um)(),n=t?.type===e3.kt,a=r.useCallback(t=>{n?e(I.oB()):e(I.j7({type:e3.kt,data:{targetRect:t.currentTarget?.getBoundingClientRect()}}))},[e,n]);return r.createElement("div",{className:y.s.pt16.$},r.createElement(eq.$n,{onClick:a,variant:"secondary"},r.createElement(e1.Y1,{direction:"horizontal",verticalAlignItems:"center",padding:0},r.createElement(eJ.e,{className:y.s.pr8.$}),r.createElement(e5.E,null,(0,w.tx)("dev_handoff.inspect_panel.new_plugin")),r.createElement(e0.r,null))),n&&r.createElement("div",null,r.createElement(e3.Pq,{resourceType:A.bD.PLUGIN})))}var e6=n(490889);function e9(){let{activeTab:e}=(0,K.IT)(),t=(0,D.$A)((0,l.d4)(e=>e.selectedView)),n=(0,P.nl)({allowNonVsCodePluginsInVsCode:!0}),a=(0,P.yQ)(),o=e===eU.s.WIDGET,i=o?a:n,s=(0,L.M)(),c=(0,P.sp)(o);return s&&(Object.keys(i).length>0||c.length>0)?r.createElement(N.fu,{name:"Development"},Object.keys(i).map((e,t)=>r.createElement(eF.ff,{resourceId:e,key:e,type:eF.R7.DEVELOPMENT,keyboardNavigationPath:[K.B6,t]})),c.map((e,t)=>r.createElement(eF.ff,{resourceId:e.id,key:e.id,type:eF.R7.DEVELOPMENT_MISSING_LOCAL,keyboardNavigationPath:[K.B6,Object.keys(i).length+t]}))):t?r.createElement(eZ.Y,{horizontalAlignItems:"center",verticalAlignItems:(0,eP.T)()?"start":"center"},r.createElement(e4,{isDesktop:!!s})):r.createElement(e6.W,{isWidget:o})}var te=n(834053),tt=n(542510),tn=n(7148),ta=n(575061);function tr(){let{activeTab:e}=(0,K.IT)(),t=(0,tn.BI)(),n=(0,D.ks)(),{href:a,onClick:l}=(0,eI.y)(`/community/${e===eU.s.PLUGIN?"plugins":"widgets/figma_design"}${n?"/devmode":""}`);return t?.shouldOptimizeForIpadApp?null:r.createElement(q.Ph,{className:ta.Qu,href:a,onClick:l,trackingEventName:"Inserts - Browse More From Community",target:"_blank",trusted:!0},r.createElement(ee.B,{svg:eW.A,className:ta.JX}),(0,w.tx)("universal_insert.browse_more_in_community"))}function tl({viewType:e,onBackPress:t}){let n=(0,K.NF)(K.gC);return r.createElement(r.Fragment,null,r.createElement(to,{viewType:e,onBackPress:t}),r.createElement(E.P,{height:n,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement(ti,{viewType:e}),r.createElement(tr,null)))}function to({viewType:e,onBackPress:t}){let n;let{activeTab:a}=(0,K.IT)(),l=a===eU.s.PLUGIN;return n=e===eU.Y.ORG_PRIVATE_EXPANDED_LIST?l?(0,w.tx)("universal_insert.all_internal_plugins"):(0,w.tx)("universal_insert.all_internal_widgets"):l?(0,w.tx)("universal_insert.all_approved_plugins"):(0,w.tx)("universal_insert.all_approved_widgets"),r.createElement("div",{className:ta.cB},r.createElement("div",{className:ta.kb},r.createElement(ee.B,{svg:eB.A,className:ta.Gv,onClick:t,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()}),r.createElement("div",{className:ta.A_},n)),r.createElement(K.Ex,{containerClassName:ta.VN}))}function ti({viewType:e}){let t;let{activeTab:n}=(0,K.IT)(),a=(0,tt.h)("plugin"),l=(0,tt.h)("widget"),o=n===eU.s.WIDGET,i=(0,P.ll)(),s=(0,te.bT)(Object.values(i)),c=(0,P.U6)(),d=o?Object.keys(c):s.map(e=>e.plugin_id);return t=e===eU.Y.ORG_PRIVATE_EXPANDED_LIST?r.createElement(r.Fragment,null,(o?l:a).map((e,t)=>r.createElement(eF.ff,{resourceId:e.plugin_id,type:eF.R7.ORG_PRIVATE,key:e.plugin_id,keyboardNavigationPath:[K.B6,t]}))):r.createElement(r.Fragment,null,d.map((e,t)=>r.createElement(eF.ff,{resourceId:e,type:eF.R7.COMMUNITY,key:e,keyboardNavigationPath:[K.B6,t]}))),r.createElement("div",{className:ta.QF},t)}var ts=n(135451),tc=n(813009),td=n(757202),tu=n(730143),tm=n(318147),t_=n(922484),tp=n(138528),tg=n(764474),tE=n(987294),tf=n(16929);function tv(e){let t=(0,tp.X$)("OrgView").unwrapOr(null),n=(0,tp.H3)(t);return n?r.createElement(ty,{currentOrgId:n,viewExpandedList:e.viewExpandedList}):r.createElement(J.kt,{className:ta.S})}function ty(e){let{currentOrgId:t,viewExpandedList:n}=e,a=(0,tp.T5)("_OrgView").unwrapOr(null),o=a?.pluginsWhitelistEnforced??!1,i=a?.widgetsWhitelistEnforced??!1,{activeTab:s}=(0,K.IT)(),c=s===eU.s.WIDGET,d=(0,tt.h)("plugin"),u=(0,te.bT)(d),m=(0,tt.h)("widget"),_=c?m:u,p=_.length>0,g=c?i:o,E=c?tg.n_:tg.Gb,f=(0,tu.tS)(),y=(0,t_.mC)(E(t,f)),b=(0,P.ll)(),h=(0,te.bT)(Object.values(b)).map(e=>e.plugin_id),I=(0,P.U6)(),T=r.useMemo(()=>Object.keys(I),[I]),k=(0,P.Be)(),C=(0,P.pR)(k),x=C.orgWidgets,L=C.orgPlugins,A=(0,l.d4)(e=>e.orgUsersByOrgId[t][e.user.id]?.permission===tm._D.GUEST),D=(0,tc.R)(e=>A?{}:(0,eC.Qt)((0,eC.i8)(Object.values(e.publishedPlugins)),t)),S=r.useMemo(()=>{let e=Object.values(L).filter(e=>!D[e.plugin_id]);return o&&(e=e.filter(e=>b[e.plugin_id])),e.sort(P.YW)},[b,o,D,L]),B=(0,te.Ol)(S);B=(0,te.bT)(B);let O=r.useMemo(()=>B.map(e=>e.plugin_id),[B]),M=r.useMemo(()=>h.filter(e=>!L[e]),[h,L]),U=r.useMemo(()=>{let e=Object.values(x).filter(e=>!(0,td.s7)(e,t));return i&&(e=e.filter(e=>I[e.plugin_id])),e.sort(P.YW)},[x,i,t,I]),G=(0,te.Ol)(U),F=r.useMemo(()=>G.map(e=>e.plugin_id),[G]),V=r.useMemo(()=>T.filter(e=>!x[e]),[T,x]),W=c?V:M,Q=c?F:O,H=p?r.createElement(r.Fragment,null,(g?_.slice(0,K.Xo):_).map((e,t)=>r.createElement(eF.ff,{key:e.plugin_id,resourceId:e.plugin_id,type:eF.R7.ORG_PRIVATE,keyboardNavigationPath:[K.B6,t]})),g&&_.length>K.Xo&&r.createElement(tw,{viewExpandedList:()=>{n(eU.Y.ORG_PRIVATE_EXPANDED_LIST)},ctaText:c?(0,w.t)("universal_insert.all_internal_widgets"):(0,w.t)("universal_insert.all_internal_plugins")})):r.createElement("div",{className:ta.zN},c?(0,w.tx)("universal_insert.no_internal_widgets"):(0,w.tx)("universal_insert.no_internal_plugins")),{href:z,onClick:Y}=(0,eI.y)(`/community/${c?"widgets":"plugins"}`),j=g&&r.createElement(r.Fragment,null,r.createElement("div",{className:ta.Uj}),r.createElement("div",{className:ta.sH},(0,w.tx)("universal_insert.approved_from_figma_community"),r.createElement("a",{href:z,target:"_blank"},r.createElement(X.K,{onClick:Y,"aria-label":(0,w.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,w.t)("universal_insert.go_to_community")}},r.createElement(v.U,{svg:tf.A},r.createElement(ts.N,null))))),y&&0===W.length?r.createElement("div",{className:ta.zN},c?(0,w.tx)("universal_insert.organization_has_no_approved_community_widgets"):(0,w.tx)("universal_insert.organization_has_no_approved_community_plugins")):r.createElement(r.Fragment,null,(p?W.slice(0,5):W).map((e,t)=>r.createElement(eF.ff,{key:e,resourceId:e,type:eF.R7.COMMUNITY,keyboardNavigationPath:[K.B6+1,t]})),p&&W.length>5&&r.createElement(tw,{viewExpandedList:()=>{n(eU.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:c?(0,w.t)("universal_insert.all_approved_widgets"):(0,w.t)("universal_insert.all_approved_plugins")}))),Z=Q.length>0?r.createElement(r.Fragment,null,r.createElement("div",{className:ta.Wz}),r.createElement("div",{className:ta.sH},(0,w.tx)("universal_insert.saved_from_community"),r.createElement("a",{href:z,target:"_blank"},r.createElement(X.K,{"aria-label":(0,w.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,w.t)("universal_insert.go_to_community")},onClick:Y},r.createElement(v.U,{svg:tf.A},r.createElement(ts.N,null))))),Q.map((e,t)=>r.createElement(eF.ff,{key:e,resourceId:e,type:eF.R7.SAVED,keyboardNavigationPath:[K.B6+2,t]}))):r.createElement(r.Fragment,null,r.createElement("div",{className:ta.Wz}),r.createElement("div",{className:ta.sH},(0,w.tx)("universal_insert.saved_from_community"),r.createElement("a",{href:z,target:"_blank"},r.createElement(X.K,{onClick:Y,"aria-label":(0,w.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,w.t)("universal_insert.go_to_community")}},r.createElement(v.U,{svg:tf.A},r.createElement(ts.N,null))))),r.createElement("div",{className:ta.zN},c?(0,w.tx)("universal_insert.no_saved_widgets"):(0,w.tx)("universal_insert.no_saved_plugins")));return r.createElement(N.fu,{name:"Org"},H,Z,j)}function tw(e){return r.createElement("button",{onClick:e.viewExpandedList,className:ta.nZ},r.createElement("span",null,e.ctaText),r.createElement(ee.B,{svg:tE.A}))}var tb=n(29420),th=n(860676),tI=n(430385),tN=n(938982),tP=n(989232),tT=n(998568),tk=n(149841),tC=n(178806),tx=n(624490),tL=n(49821),tA=n(652021),tR=n(506752),tD=n(664449),tS=n(700660),tB=n(221511),tO=n(805608),tM=n(660948),tU=n(677334),tG=n(897163);let tF=async(e,t)=>{if((0,Z.k)().cmty_editor_plugins_view_on_resources_api){let n={caller:tG.z.EDITOR_COMMUNITY_VIEW,resourceType:[th.vtl.PLUGIN],editorType:e?tO.q.DEV_HANDOFF:tO.q.DESIGN,sortBy:tR.e.Browse.POPULAR,includeContent:!0};e&&t&&(n.capabilityType=tD.h.CODEGEN);let[a,r]=await Promise.all([tU.M4.fetch(tG.a.ResourcesPaginatedQuery({...n,price:tx.C.FREE,pageSize:18})),tU.M4.fetch(tG.a.ResourcesPaginatedQuery({...n,price:tx.C.PAID,pageSize:12}))]);return[...a,...r].map(e=>(0,tA.cD)(e)).filter(e=>!!e)}let n={sort_by:tM.eg.POPULAR};return e?(n.editor_type=tS.k.Editors.DEV_MODE,t&&(n.capability_type=tD.h.CODEGEN)):n.editor_type=tS.k.Editors.FIGMA,(await (0,tL.nC)().filter(n).browse(tB.L.BrowseResourceTypes.PLUGINS)).data.meta.resources},tV=async()=>{if((0,Z.k)().cmty_editor_plugins_view_on_resources_api){let e={caller:tG.z.EDITOR_COMMUNITY_VIEW,resourceType:[th.vtl.WIDGET],editorType:tO.q.DESIGN,sortBy:tR.e.Browse.POPULAR,includeContent:!0},[t,n]=await Promise.all([tU.M4.fetch(tG.a.ResourcesPaginatedQuery({...e,price:tx.C.FREE,pageSize:18})),tU.M4.fetch(tG.a.ResourcesPaginatedQuery({...e,price:tx.C.PAID,pageSize:12}))]);return[...t,...n].map(e=>(0,tA.rg)(e)).filter(e=>!!e)}return(await (0,tL.nC)().filter({sort_by:tM.eg.POPULAR,editor_type:tS.k.Editors.FIGMA}).browse(tB.L.BrowseResourceTypes.WIDGETS)).data.meta.resources};function tW({viewExpandedList:e,keyboardNavigationOffset:t,shortDivider:n}){let{activeTab:a}=(0,K.IT)(),o=a===eU.s.WIDGET,i=(0,D.ks)(),s=(0,c.md)(h.RB)&&i,[d,u]=r.useState(!1),{allowListIsLoading:m,allowList:_,hasAllowList:p,hasPluginAllowList:g,hasWidgetAllowList:E,publicExtensionsDisallowed:f}=(0,P.jA)(o),y=(0,te.bT)(Object.values(_)).map(e=>e.plugin_id),[b,I]=r.useState(null),[T,k]=r.useState(null),[C,x]=r.useState(!1),[L,A]=r.useState(!1),S=(0,l.wA)();r.useEffect(()=>{let e=d!==s;g||f||!e&&null!==b||C||(x(!0),tF(i,s).then(e=>{S(eb.Qi({publishedPlugins:e,src:"Figma inserts modal recents view"})),I((0,tI.k4)(e)),x(!1),u(s)}).catch(e=>{(0,tT.$D)(tN.e.COMMUNITY,e),x(!1),I([]),u(s)}))},[S,b,C,i,p,g,f,s,d]),r.useEffect(()=>{E||null!==T||L||(A(!0),tV().then(e=>{S(eb.Qi({publishedPlugins:e,src:"Figma inserts modal recents view"})),k((0,tI.k4)(e)),A(!1)}).catch(e=>{(0,tT.$D)(tN.e.COMMUNITY,e),A(!1),k([])}))},[S,T,L,p,E]);let B=o?T:b,O=o?L:C,{href:M,onClick:U}=(0,eI.y)(`/community/${a===eU.s.PLUGIN?"plugins":"widgets"}`);return r.useMemo(()=>{if(p?m:O)return r.createElement(J.kt,{className:ta.S});if(!(null!==B)&&!p)return null;let l=p?y:B.map(e=>e.id);return f||0===l.length?null:r.createElement(N.fu,{name:p?"Approved plugins":"From Community"},r.createElement("div",{className:n?ta.Wz:ta.Uj}),r.createElement("div",{className:ta.sH,"data-onboarding-key":"community_feed_header"},p?(0,w.tx)("universal_insert.approved_from_figma_community"):(0,w.tx)("universal_insert.from_community"),r.createElement("a",{href:M,target:"_blank"},r.createElement(tC.Me,{onClick:U,"aria-label":(0,w.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,w.t)("universal_insert.go_to_community")},trackingEventName:"Inserts - Browse More From Community Icon Button"},r.createElement(v.U,{svg:tf.A},r.createElement(ts.N,null))))),l.slice(0,p?5:10).map((e,n)=>r.createElement(eF.ff,{key:e,type:eF.R7.COMMUNITY,resourceId:e,keyboardNavigationPath:[t,n]})),p&&l.length>5?r.createElement(tw,{viewExpandedList:()=>{e(eU.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:o?(0,w.t)("universal_insert.all_approved_widgets"):(0,w.t)("universal_insert.all_approved_plugins")}):r.createElement(r.Fragment,null,r.createElement(tr,null),r.createElement(tk.a,{onIntersectionChange:e=>{e.isIntersecting&&(0,tP.trackEvent)("community_feed_bottom_reached",{location:"inserts",resourceType:a})},style:i?{paddingBottom:30}:void 0})))},[p,m,O,B,y,f,M,U,o,e,t,n,a,i])}var tQ=n(418193);function tH(e){let t=(0,P.Be)(),n=t.widgets,a=Object.values(t.plugins).sort(P.YW).filter(e=>"user"===e.installed_by),l=(0,tQ.xx)(()=>a),o=(0,te.Ol)(l()),i=(o=(0,te.bT)(o)).map(e=>e.plugin_id),s=Object.values(n).sort(P.YW).filter(e=>"user"===e.installed_by),c=(0,tQ.xx)(()=>s),d=(0,te.Ol)(c()).map(e=>e.plugin_id);return r.useMemo(()=>e?d:i,[i,d,e])}function tK(e){let t=tH(e.isWidget),[n,a]=r.useState(!1),l=r.useMemo(()=>n?t:t.slice(0,40),[t,n]);return 0===t.length?null:r.createElement(N.fu,{name:"saved"},r.createElement("div",{className:ta.VA},(0,w.tx)("universal_insert.saved")),l.map((e,t)=>r.createElement(eF.ff,{key:e,resourceId:e,type:eF.R7.SAVED,keyboardNavigationPath:[K.B6+1,t]})),t.length>40&&!n&&r.createElement("button",{className:ta.AR,onClick:()=>a(!0)},e.isWidget?(0,w.tx)("universal_insert.show_all_saved_widgets"):(0,w.tx)("universal_insert.show_all_saved_plugins")))}function tz(e){let{activeTab:t}=(0,K.IT)(),n=(0,P.op)(),a=(0,P.qr)(),l=(0,P.Be)(),o=t===eU.s.WIDGET,{filterByAllowlist:i,filterByPublicResourcesAllowed:s}=(0,P.jA)(o),c=o?a:n;c=s(c=i(c)),c=(0,te.bT)(c);let d=r.useMemo(()=>c.length>0?r.createElement(N.fu,{name:"recents"},r.createElement("div",{className:ta.VA,"data-onboarding-key":"recents_plugin_header"},(0,w.tx)("universal_insert.recents")),c.slice(0,K.Zm).map((e,t)=>r.createElement(eF.ff,{key:e.plugin_id,type:eF.R7.RECENT,resourceId:e.plugin_id,keyboardNavigationPath:[K.B6,t]}))):r.createElement(r.Fragment,null),[c]),u=tH(o);if(!0===l.loaded&&c.length+u.length===0)return r.createElement(N.fu,{name:"Recents and saved"},r.createElement(tb.H,{isWidget:t===eU.s.WIDGET}),r.createElement(tW,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:K.B6+2}));let m=r.createElement(tK,{isWidget:t===eU.s.WIDGET}),_=c.length>0,p=u.length>0;return r.createElement(N.fu,{name:"Recents and saved"},d,p&&_&&r.createElement("div",{className:ta.Wz}),m,r.createElement(tW,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:K.B6+2}))}var tX=n(349048);function tY(){let e=r.useRef({}),t=r.useCallback((t,n)=>{e.current[t]=n},[]),n=r.useCallback(t=>e.current[t]||[],[]),a=r.useCallback(t=>t in e.current,[]),l=r.useCallback(()=>{e.current={}},[]);return r.useMemo(()=>({setResultsForQuery:t,getResultsForQuery:n,hasQueryResultsCached:a,resetCache:l}),[t,n,a,l])}var tj=n(193743);let tZ=new tj.Ef([],{...ed.Pk,keys:ed.Kj}),t$=new tj.Ef([],{...ed.Pk,keys:[{name:"name",weight:1}]}),tq=new tj.Ef([],{...ed.Pk,keys:ed.Kj});function tJ(e){let t;let{activeTab:n}=(0,K.IT)(),a=n===eU.s.WIDGET,l=(0,D.ks)(),o=e.query.trim(),{pluginServerSideSearch:i,pluginSearchIsLoading:s,pluginSearchHasResolved:c}=(0,P.I5)(tS.k.Editors.FIGMA),{widgetServerSideSearch:d,widgetSearchIsLoading:u,widgetSearchHasResolved:m}=(0,P.SG)(tS.k.Editors.FIGMA),{getResultsForQuery:_,setResultsForQuery:p,resetCache:g}=tY(),f=_(o),{getResultsForQuery:v,setResultsForQuery:y,resetCache:b}=tY(),h=v(o),{getResultsForQuery:I,setResultsForQuery:k,hasQueryResultsCached:C,resetCache:L}=tY(),A=t0(I(o),[f]),{getResultsForQuery:R,setResultsForQuery:S,hasQueryResultsCached:B,resetCache:O}=tY(),M=t0(R(o),[f,A]),{getResultsForQuery:U,setResultsForQuery:G,resetCache:F}=tY(),V=t0(U(o),[f,A,M]),{getResultsForQuery:W,setResultsForQuery:Q,hasQueryResultsCached:H,resetCache:z}=tY(),X=t0(W(o),[f,A,M,V]);r.useEffect(()=>{g(),b(),L(),O(),z(),F()},[a,F,z,L,b,O,g]);let Y=(0,P.Tg)(),j=(0,P.qr)(),Z=(0,P.$1)(),$=(0,P.yQ)(),q=(0,P.ll)(),ee=(0,P.U6)(),et=(0,P.cW)(),en=(0,P.ZT)(),ea=(0,tX.k9)(()=>Object.keys(a?ee:q).map(e=>(0,eC.uF)((a?en:et)[e])),[q,en,et,ee,a]);r.useEffect(()=>{tZ.set(Object.values(a?j:Y))},[Y,j,a]),r.useEffect(()=>{t$.set(Object.values(a?$:Z))},[Z,$,a]),r.useEffect(()=>{tq.set(ea)},[ea]);let er=(0,x.sZ)(),{serverSideSearch:el,isLoading:eo,hasResolved:ei}=n===eU.s.PLUGIN?{serverSideSearch:i,isLoading:s,hasResolved:c}:{serverSideSearch:d,isLoading:u,hasResolved:m};r.useEffect(()=>{""!==o&&(H(o)&&B(o)&&C(o)||el(o,e=>Q(o,e),e=>S(o,e),e=>k(o,e)),p(o,tZ.search(o).map(e=>e.plugin_id)),y(o,t$.search(o).map(e=>e.localFileId.toString())),G(o,tq.search(o).map(e=>e.plugin_id)))},[o,H,C,B,el,G,Q,k,y,S,p]);let es=T.z4.getIsExtension()?K.gC+K.Ix:l?K.gC+K.Ix+K.ff+8:K.gC+K.Ix,ec=(0,K.NF)(es),ed=l?ta.mH:ta.PP,eu=l?ta.k8:ta.DN,em=r.useCallback(t=>{let n=e.searchContainerRef.current;n&&(t>0?n.className=eu:n.className=ed)},[e.searchContainerRef,eu,ed]);r.useEffect(()=>()=>{e.searchContainerRef.current&&(e.searchContainerRef.current.className=ed)},[]);let e_=er&&(a?er.widgets_whitelist_enforced:er.plugins_whitelist_enforced),ep=(!e_||(0,eN.Cs)({org:er,isWidget:a}))&&X&&X.length>0&&ei,eg=e_&&V.length>0,eE=er&&M&&M.length>0&&ei,ef=A.length>0&&ei,ev=f.length>0,ey=h.length>0,ew=ei&&(ep||eE||ev||ef||eg);if(ei&&!(ev||ey||ew))t=r.createElement("div",{className:ta.zN},a?e_?(0,w.tx)("universal_insert.no_widgets_matching_query_for_allowlist",{orgName:er.name,query:o}):(0,w.tx)("universal_insert.no_widgets_matching_query",{query:o}):e_?(0,w.tx)("universal_insert.no_plugins_matching_query_for_allowlist",{orgName:er.name,query:o}):(0,w.tx)("universal_insert.no_plugins_matching_query",{query:o}));else{t=[];let e=K.B6;ev&&(t.push(r.createElement(t5,{sectionHeader:(0,w.tx)("universal_insert.recents"),ids:f,type:eF.R7.RECENT,sectionIdx:e,key:eF.R7.RECENT})),e+=1),ey&&(t.push(r.createElement(t5,{sectionHeader:(0,w.tx)("universal_insert.development"),ids:h,type:eF.R7.DEVELOPMENT,key:eF.R7.DEVELOPMENT,sectionIdx:e})),e+=1),eo&&!ew?t.push(r.createElement(J.kt,{className:ta.S,key:"Loading spinner"})):(ef&&(t.push(r.createElement(t5,{sectionHeader:(0,w.tx)("universal_insert.saved"),ids:A,type:eF.R7.SAVED,key:eF.R7.SAVED,sectionIdx:e})),e+=1),eE&&(t.push(r.createElement(t5,{sectionHeader:er.name,ids:M,type:eF.R7.ORG_PRIVATE,key:eF.R7.ORG_PRIVATE,sectionIdx:e})),e+=1),eg&&(t.push(r.createElement(t5,{sectionHeader:(0,w.tx)("universal_insert.approved_from_figma_community"),ids:V,type:eF.R7.COMMUNITY,key:`ALLOW_LIST_${eF.R7.COMMUNITY}`,sectionIdx:e})),e+=1),ep&&t.push(r.createElement(t5,{sectionHeader:(0,w.tx)("universal_insert.from_community"),ids:X,type:eF.R7.COMMUNITY,key:eF.R7.COMMUNITY,sectionIdx:e})))}return r.createElement(E.P,{height:ec,onScroll:em,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement(N.fu,{name:"search",properties:{searchQuery:o,resourceType:n}},t))}let t0=(e,t)=>{let n={};return t.forEach(e=>e.forEach(e=>n[e]=!0)),e.filter(e=>!n[e])};function t1(e){return r.createElement("div",{onClick:()=>(0,tP.trackEvent)("search result clicked"),"data-testid":`browse-resource-tile-${e.resourceId}`},r.createElement(eF.ff,{resourceId:e.resourceId,type:e.type,keyboardNavigationPath:e.keyboardNavigationPath,shouldFocusFirstItem:!0}))}function t5(e){return r.createElement(r.Fragment,null,e.sectionIdx>K.B6&&r.createElement("div",{className:ta.Wz}),r.createElement("div",{className:ta.bV},e.sectionHeader),e.ids.map((t,n)=>r.createElement(t1,{key:t,resourceId:t,type:e.type,keyboardNavigationPath:[e.sectionIdx,n]})))}let t3=()=>({[eU.s.COMPONENT]:{label:(0,w.t)("universal_insert.components"),tab:eU.s.COMPONENT,resourceTypeLabel:(0,w.t)("universal_insert.components_resource_type")},[eU.s.PLUGIN]:{label:(0,w.t)("community.view_bar.plugins"),tab:eU.s.PLUGIN,resourceTypeLabel:(0,w.t)("community.plugins.plugin")},[eU.s.WIDGET]:{label:(0,w.t)("community.view_bar.widgets"),tab:eU.s.WIDGET,resourceTypeLabel:(0,w.t)("community.plugins.widget")}});function t8(e){let t=ta.Mf,n=ta.xR;return r.createElement("div",{className:ta.Ng},r.createElement("div",{className:ta.oB},Object.entries(t3()).map(([a,l])=>r.createElement("div",{className:ta.nN,key:a,role:"tab",onClick:()=>e.onClick(l.tab),onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),tabIndex:0},r.createElement("div",{key:a,"data-label":l.label,className:l.tab===e.selectedTab?n:t},l.label)))),r.createElement(K.Ex,{containerClassName:ta.VN}))}var t4=n(343167),t7=n(383262);let t2="BROWSE_CODEGEN_FILTER_DROPDOWN";function t6(){let e=r.useRef(null),{fdPreviewResource:t,initialFdView:n}=(0,l.d4)(e=>e.universalInsertModal),o=t?.id,{activeTab:i,currentView:s,setCurrentViewOrTab:c}=(0,K.IT)(),d=(0,D.ks)(),u=d?ta.Hd:ta.Kl,[m,p]=r.useState(n?"":a||""),[E,f]=r.useState(eU.Y.MAIN),v=r.useCallback(e=>{if(e.keyCode===_.Uz.ENTER){let t=e.target,n=t?.querySelector("button");n?.click()}},[]);r.useEffect(()=>{a=m},[m]);let y=r.useMemo(()=>r.createElement(t8,{onClick:t=>{t!==eU.s.COMPONENT&&e.current?.querySelector("input")?.focus(),c({newTab:t})},selectedTab:i}),[i,c]),b=r.useMemo(()=>{let t=d?ta.mH:ta.PP;return i===eU.s.COMPONENT?r.createElement(N.fu,{name:i},r.createElement(z,{header:y,query:m,setQuery:p})):r.createElement(N.fu,{name:i},!d&&y,r.createElement("div",{onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement(g.dP,{onKeyDown:v},r.createElement("div",{className:t,ref:e},r.createElement(t9,{searchQuery:m,placeholder:i===eU.s.PLUGIN?(0,w.t)("universal_insert.search_all_plugins"):i===eU.s.WIDGET?(0,w.t)("universal_insert.search_all_widgets"):(0,w.t)("universal_insert.search_all_extensions"),setSearchQuery:p})),0===m.length&&r.createElement(ne,{viewExpandedList:f,currentView:s,setCurrentView:e=>c({newView:e})}),m.length>0&&r.createElement(tJ,{query:m,searchContainerRef:e}))))},[i,v,m,d,y,s,c]),h=null;return o?h=r.createElement(ez,{resourceId:o}):(E===eU.Y.ORG_PRIVATE_EXPANDED_LIST||E===eU.Y.ORG_ALLOWLIST_EXPANDED_LIST)&&(h=r.createElement(g.dP,{onKeyDown:v},r.createElement(tl,{viewType:E,onBackPress:()=>f(eU.Y.MAIN)}))),r.createElement("div",{className:u},r.createElement("div",{className:h?ta.Ye:ta.dJ},b),h&&r.createElement("div",{className:ta.dJ},h))}function t9({searchQuery:e,setSearchQuery:t,placeholder:n}){let a=(0,l.wA)(),{setKeyboardNavigationElement:d}=(0,g.M3)({id:"search",path:[K.np,0]}),_=(0,C.Um)(),E=_?.type===t2,y=r.useRef(null),[N,P]=(0,c.fp)(h.RB),T=N&&!E,x=(0,k.LR)(),L=r.useCallback(n=>"Escape"===n.key&&(e?t(""):x(),!0),[x,e,t]),A=(0,m.A)(e=>{e.length>0?a(b.Dy({entryPoint:"figma:inserts"})):a(b.ky()),t(e)},300);r.useEffect(()=>()=>{a(b.ky())},[a]);let B=r.useCallback(()=>{E?a(I.oB()):a(I.j7({type:t2}))},[a,E]),O=[];O.push(r.createElement(p.MM,{checked:N,onClick:()=>{P(!N),B()},role:"menuitemcheckbox"},(0,w.t)("dev_handoff.inspect_panel.search_bar_filter_codegen_option")));let M=(0,D.ks)(),U=r.createElement(f.IW,{ref:e=>d(e?.searchInput??null),className:u()(M?ta.FK:ta.ON,{[ta.lX]:""===e}),clearSearch:()=>{a(b.ky()),t("")},focusOnMount:!M,hideXIcon:!e,isKeyDownHandled:L,onChange:A,placeholder:n,query:e,selectTextOnMount:!M});if(!M||e)return U;let G="dev-mode-codegen-filter-menu";return r.createElement("div",{className:ta.Ub},U,r.createElement("div",{className:ta.gP},r.createElement("div",{ref:y},r.createElement(o.d,{"aria-expanded":E,onClick:B,htmlAttributes:{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,w.t)("dev_handoff.inspect_panel.search_bar_filter")},"aria-label":(0,w.t)("dev_handoff.inspect_panel.search_bar_filter"),"aria-haspopup":"menu","aria-controls":G},r.createElement(v.U,{svg:T?t7.A:t4.A},T?r.createElement(i.S,{className:u()({[ta.Pt]:T})}):r.createElement(s.S,{className:u()({[ta.Pt]:T})}))))),E&&y.current&&r.createElement(S.Jz,{autofocusPrevElementOnEsc:!0,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnTab:!1,focusContainerOnMount:!0,hideDropdown:B,id:G,options:O,propagateCloseClick:!0,showPoint:!0,targetRect:y.current.getBoundingClientRect()}))}function ne(e){let t=r.useRef(null),n=(0,D.ks)(),a=T.z4.getIsExtension()?K.Ix+K.gC+48:n?K.gC+K.Kr+K.Ix+K.ff:K.gC+K.Kr+K.Ix,{activeTab:o,currentView:i}=(0,K.IT)(),s=(0,K.NF)(a),c=r.useRef(null),d=(0,l.wA)(),m=r.useCallback(e=>{t.current&&(e>0?t.current.className=u()(ta.gD,ta.d3):t.current.className=u()(ta.q_,ta.d3),d(I.oB()))},[t,d]);r.useEffect(()=>{c.current?.scrollToTop()},[o,i]);let _=r.createElement(r.Fragment,null,r.createElement(nt,{currentView:e.currentView}),"recents_and_saved"===e.currentView&&r.createElement(tz,{viewExpandedList:e.viewExpandedList}),"development"===e.currentView&&r.createElement(e9,null),"org"===e.currentView&&r.createElement(tv,{viewExpandedList:e.viewExpandedList}));return r.createElement("div",null,r.createElement("div",{className:u()(ta.q_,ta.d3),ref:t,"data-onboarding-key":"recents_and_saved_plugin_header"},r.createElement(nn,{currentView:e.currentView,onChange:e.setCurrentView}),"development"===e.currentView&&r.createElement("div",{className:ta.x0},r.createElement(O.n,{resourceType:o===eU.s.WIDGET?A.bD.WIDGET:A.bD.PLUGIN}))),r.createElement(E.P,{height:s,onScroll:m,innerClassName:n?y.s.hFull.$:"",ref:c},_))}function nt({currentView:e}){let{activeTab:t}=(0,K.IT)(),n=x.sZ()?.id,a=(0,P.f6)(),l=(0,P.wW)(),o=t===eU.s.WIDGET?l:a,i="org"===e?o.filter(e=>e.org_id&&e.org_id===n):o;return 0===i.length?null:r.createElement("div",null,i.map((e,t)=>r.createElement(eF.ff,{resourceId:e.id,key:e.id,type:eF.R7.INVITED,keyboardNavigationPath:[K.dQ,t]})),r.createElement("div",{className:ta.Wz}))}function nn(e){let t=(0,l.wA)(),n=(0,C.Um)(),a=(0,x.sZ)(),o=(0,L.M)(),i=r.useCallback(e=>(function(e,t){switch(e){case"recents_and_saved":return(0,w.t)("universal_insert.recents_and_saved");case"development":return(0,w.t)("universal_insert.development");case"org":return t?.name||(0,w.t)("universal_insert.from_your_org")}})(e,a),[a]),s=["recents_and_saved"];return(o&&s.push("development"),1!==s.length||a)?r.createElement(B.l6,{ariaLabel:(0,w.t)("universal_insert.resource.select.aria_label"),chevronClassName:ta.bq,className:ta.E3,dispatch:t,dropdownShown:n,dropdownWidth:173,formatter:{format:i},id:"fd-browse-modal-main-view-select",inputClassName:ta.yl,onChange:e.onChange,property:e.currentView},s.map(e=>r.createElement(B.c$,{value:e,key:e},i(e))),a&&r.createElement(B.sK,null),a&&r.createElement(B.c$,{value:"org"},i("org"))):r.createElement("div",{className:ta.ZE},r.createElement("div",{className:ta.yl},i(s[0])))}},14323:(e,t,n)=>{n.d(t,{P:()=>r,R:()=>l});var a=n(848318);function r(e){(0,a.useEffect)(()=>{let t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}function l(e){let[t,n]=(0,a.useState)(window.innerWidth<=e);return r(a=>{a.width<=e&&!t?n(!0):a.width>e&&t&&n(!1)}),t}},817236:(e,t,n)=>{n.d(t,{k:()=>o});var a=n(848318),r=n(536384),l=n.n(r);function o({children:e,wrapperClassName:t,isVisible:n}){return a.createElement("div",{className:l()(t,"focusable_hidden_button_wrapper--wrapper--w-n3a",{"focusable_hidden_button_wrapper--visible--3AzQL":n})},e)}}}]);

//# debugId=cbf1038c-08c3-59eb-9353-cf1389b26ff5

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/03b12b9cc59b9ac118163f0161ac6ff8b7275c5d/5724-e6c107c08dd92075.min.js.map
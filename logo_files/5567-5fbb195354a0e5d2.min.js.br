"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a05b0c65-5566-5b8f-b7ec-346f2d59cd8f")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[5567],{419687:(e,t,l)=>{l.d(t,{$O:()=>d,Jv:()=>c,LP:()=>i,Ns:()=>a,TI:()=>r,rc:()=>o});var n=l(848318);function i(e){return n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},n.createElement("g",{clipPath:"url(#clip0_8184_71416)"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5212L12 13.3883V2H4V13.3883L8 10.5212ZM3.5625 14.9322C3.33074 15.0983 3 14.9403 3 14.6634V1.67197C3 1.30085 3.3148 1 3.70312 1H12.2969C12.6852 1 13 1.30085 13 1.67197V14.6634C13 14.9403 12.6693 15.0983 12.4375 14.9322L8 11.7515L3.5625 14.9322Z",fill:e.fill||"var(--color-icon)"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_8184_71416"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}))))}function a(e){return n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},n.createElement("g",{clipPath:"url(#clip0_8174_71409)"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5625 14.9322C3.33074 15.0983 3 14.9403 3 14.6634V1.67197C3 1.30085 3.3148 1 3.70312 1H12.2969C12.6852 1 13 1.30085 13 1.67197V14.6634C13 14.9403 12.6693 15.0983 12.4375 14.9322L8 11.7515L3.5625 14.9322Z",fill:e.fill||"var(--color-icon)"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_8174_71409"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}))))}function r(){return n.createElement("svg",{viewBox:"0 0 8 12",height:"100%",fill:"none"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 7.75L7 10V1H1V10L4 7.75ZM0.45 11.6625C0.26459 11.8016 0 11.6693 0 11.4375V0.5625C0 0.25184 0.25184 0 0.5625 0H7.4375C7.74816 0 8 0.25184 8 0.5625V11.4375C8 11.6693 7.73541 11.8016 7.55 11.6625L4 9L0.45 11.6625Z",fill:"var(--color-icon, black)"}))}function o(){return n.createElement("svg",{viewBox:"0 0 8 12",height:"100%",fill:"none"},n.createElement("path",{d:"M0 0.5625C0 0.25184 0.25184 0 0.5625 0H7.4375C7.74816 0 8 0.25184 8 0.5625V11.4375C8 11.6693 7.73541 11.8016 7.55 11.6625L4 9L0.45 11.6625C0.26459 11.8016 0 11.6693 0 11.4375V0.5625Z",fill:"var(--color-icon, black)"}))}function c(){return n.createElement("svg",{height:"100%",viewBox:"0 0 10 15",fill:"none"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 9.98876L9 13.2775V1.02772H1V13.2775L5 9.98876ZM0.609261 14.9148C0.363725 15.1167 0 14.937 0 14.6139V0.770787C0 0.345093 0.335786 0 0.75 0H9.25C9.66421 0 10 0.345093 10 0.770787V14.6139C10 14.937 9.63628 15.1167 9.39074 14.9148L5 11.3049L0.609261 14.9148Z",fill:"var(--color-icon, black)"}))}function d(){return n.createElement("svg",{height:"100%",viewBox:"0 0 10 15",fill:"none"},n.createElement("path",{d:"M0 0.770787C0 0.345093 0.335786 0 0.75 0H9.25C9.66421 0 10 0.345093 10 0.770787V14.6139C10 14.937 9.63628 15.1167 9.39074 14.9148L5 11.3049L0.609261 14.9148C0.363725 15.1167 0 14.937 0 14.6139V0.770787Z",fill:"var(--color-icon, black)"}))}},113158:(e,t,l)=>{l.d(t,{_W:()=>m,nN:()=>g});var n=l(848318);if(443==l.j)var i=l(773511);var a=l(536384),r=l.n(a),o=l(967688),c=l(419687),d=l(17753),u=l(842449),s=l(968638),g=(e=>(e.DETAIL="detail",e.TILE="title",e.FIGJAM_PLUGIN_ROW="figjam_plugin_row",e))(g||{});function m(e){let{isSavedForUser:t,save:l,unsave:i}=(0,u.QK)(e.resourceId,e.resourceType);return n.createElement(p,{onClick:e=>{t?i():l(),e.stopPropagation()},isSaved:t,parentView:e.parentView,isFauxFocused:e.isFauxFocused})}function p(e){let t="title"===e.parentView?r()(s.YB,{[s.Xb]:!e.isSaved,[s.ez]:e.isSaved||!!e.isFauxFocused}):"figjam_plugin_row"===e.parentView?r()([s.k7,s._P],{[s.Xb]:!e.isSaved,[s.ez]:e.isSaved}):s.k7,{SaveIcon:l,SaveIconFilled:a}=n.useMemo(()=>"title"===e.parentView?{SaveIcon:c.TI,SaveIconFilled:c.rc}:{SaveIcon:c.Jv,SaveIconFilled:c.$O},[e.parentView]);return n.createElement(i.E,{className:t,onClick:e.onClick,htmlAttributes:{"data-tooltip-type":d.Ib.TEXT,"data-tooltip":e.isSaved?(0,o.t)("community.saves.remove_from_saves"):(0,o.t)("community.saves.save")}},n.createElement("div",null,e.isSaved?n.createElement(a,null):n.createElement(l,null)))}},695567:(e,t,l)=>{l.d(t,{Cg:()=>eR,GJ:()=>ez,R7:()=>eI,dr:()=>e$,ff:()=>eC,tO:()=>eW,yG:()=>eH});var n=l(848318),i=l(301168),a=l(871043),r=l(658029),o=l(408193),c=l(320953),d=l(536384),u=l.n(d),s=l(29188);if(443==l.j)var g=l(238462);var m=l(210185),p=l(264478),v=l(561258),I=l(720522),E=l(401970),w=l(642014),f=l(297638),_=l(967688),y=l(744577),b=l(925085),C=l(157597),h=l(118937),T=l(351166),R=l(511806),k=l(900003),F=l(823898),N=l(453370),B=l(533737),P=l(863270),A=l(471476),D=l(38011),V=l(652576),S=l(353231),L=l(982588),O=l(531851),M=l(345121),x=l(511067),U=l(180294),j=l(318147),W=l(20687),Z=l(324747),$=l(764474),H=l(17753),z=l(562826),G=l(770686),Y=l(406371),J=l(889415),K=l(65541),Q=l(575378),X=l(698429),q=l(442022),ee=l(54835),et=l(881457),el=l(127870),en=l(113158);if(443==l.j)var ei=l(154502);var ea=l(709303),er=l(870271),eo=l(638166),ec=l(731889),ed=l(968638),eu=l(957897),es=l(580012),eg=l(415431);if(443==l.j)var em=l(465311);if(443==l.j)var ep=l(586486);var ev=l(579393),eI=(e=>(e.COMMUNITY="community",e.RECENT="recent",e.DEVELOPMENT="development",e.DEVELOPMENT_MISSING_LOCAL="development_missing_local",e.ORG_PRIVATE="org_private",e.SAVED="saved",e.INVITED="invited",e))(eI||{});function eE(e){let t=(0,i.d4)(e=>e.orgById);if(e.resource.is_private){let l=e.resource?.org_id&&t[e.resource.org_id]?.name;return n.createElement(I.B,{svg:ev.A,className:ed.kQ,"data-tooltip-type":H.Ib.TEXT,"data-tooltip":l?(0,_.t)("community.plugins.private_for_plugin_org_name",{orgName:l}):(0,_.t)("community.plugins.private_for_plugin_org")})}return n.createElement(n.Fragment,null)}let ew=n.createContext(null);function ef(){return(0,a.sR)(n.useContext(ew),"Must be wrapped within <FdBrowseWidgetTileContext.Provider>")}let e_=n.createContext(null);function ey(){return(0,a.sR)(n.useContext(e_),"Must be wrapped within <FdBrowsePluginTileContext.Provider>")}function eb(e,t,l){let i=n.useRef(null),a=n.useCallback(()=>{i.current&&i.current.click()},[i]),{setKeyboardNavigationElement:r,isFauxFocused:o,keyboardNavigationItem:c}=(0,v.M3)({path:t||[0],fauxClick:a,id:e}),d=l&&t&&t.length>=2&&t[0]===eo.B6&&0===t[1];return n.useEffect(()=>{d&&c?.fauxFocus()},[d,c]),{setKeyboardNavigationElement:r,isFauxFocused:o,keyboardNavigationButtonRef:i}}function eC({resourceId:e,type:t,keyboardNavigationPath:l,shouldFocusFirstItem:i}){let a;let{activeTab:r,viewResource:o}=(0,eo.IT)(),c=(0,V.$1)(),d="development"===t?Object.values(c).find(t=>String(t.localFileId)===e):null,u=d?.plugin_id,s=n.useCallback(()=>o({id:u??e}),[e,o,u]),g=n.useMemo(()=>r===ec.s.WIDGET?{viewWidgetDetails:s,keyboardNavigationPath:l,shouldFocusFirstItem:i}:{viewPluginDetails:s,keyboardNavigationPath:l,shouldFocusFirstItem:i},[r,l,s,i]);if(r===ec.s.WIDGET){switch(t){case"community":a=n.createElement(ex,{widgetId:e});break;case"recent":a=n.createElement(eV,{widgetId:e,type:"recent"});break;case"development":a=n.createElement(eO,{localFileId:e});break;case"development_missing_local":a=n.createElement(eO,{widgetId:e});break;case"org_private":a=n.createElement(eL,{widgetId:e});break;case"saved":a=n.createElement(eS,{widgetId:e,type:"saved"});break;case"invited":a=n.createElement(eM,{widgetId:e});break;default:return null}return n.createElement(ew.Provider,{value:g},a)}switch(t){case"community":a=n.createElement(eT,{pluginId:e});break;case"recent":a=n.createElement(eh,{pluginId:e});break;case"development":a=n.createElement(eB,{localFileId:e});break;case"development_missing_local":a=n.createElement(eB,{pluginId:e});break;case"org_private":a=n.createElement(eP,{pluginId:e});break;case"saved":a=n.createElement(eF,{pluginId:e,type:"saved"});break;case"invited":a=n.createElement(ek,{pluginId:e});break;default:return null}return n.createElement(e_.Provider,{value:g},a)}function eh({pluginId:e}){let t=(0,V.b4)()[e],l=(0,V.cW)()[e],i=(0,L.tw)(l);return t?(0,$.ZQ)(t)?n.createElement(eB,{localFileId:t.localFileId.toString(),isRecentTile:!0}):i?null:n.createElement(eF,{pluginId:t.plugin_id,type:"recent"}):null}function eT(e){let t=(0,V.cW)()[e.pluginId];if(e.plugin&&(t=e.plugin),!t)return null;let l=(0,W.uF)(t),{description:i,tagline:a}=l,r=(0,eo.fO)(t),o=n.createElement(n.Fragment,null,n.createElement("div",{className:ed.y7},(0,F.G8)({tagline:a,description:i},m.$J)),n.createElement("div",{className:ed.Yl},r));return n.createElement(eD,{pluginVersion:l,subheader:o,pluginId:e.pluginId,primaryCTAButton:e.ctaButton,alwaysShowPrimaryCTA:e.alwaysShowCta,isDevModeWizard:e.isDevModeWizard,onClick:e.onClick,isCommunityPreview:!0})}function eR({plugin:e,ctaButton:t,onClick:l}){let i={viewPluginDetails:g.lQ,keyboardNavigationPath:void 0,shouldFocusFirstItem:void 0};return n.createElement(e_.Provider,{value:i},n.createElement(eT,{pluginId:e.id,plugin:e,ctaButton:t,alwaysShowCta:!0,isDevModeWizard:!0,onClick:l}))}function ek(e){let t=(0,V.cW)()[e.pluginId],l=(0,i.wA)(),a=n.useCallback(()=>{l(N.oB())},[l]);if(!t)return null;let r=(0,W.uF)(t),{description:o,tagline:c}=r,d=n.createElement(n.Fragment,null,n.createElement("div",{className:ed.Pg},(0,F.G8)({tagline:c,description:o},m.$J)),n.createElement("div",{className:ed.Yl},(0,eo.fO)(t)));return n.createElement(n.Fragment,null,n.createElement(eD,{pluginVersion:r,subheader:d,pluginId:e.pluginId,onClick:a,showEditorTypeIcon:!0,isNotification:!0,metadataOverrideNode:n.createElement(el.PE,{resource:t})}))}let eF=n.memo(function(e){let t=(0,V.Be)(),l=t.plugins[e.pluginId]||t.orgPlugins[e.pluginId],i=(0,V.b4)()[e.pluginId],a=(0,V.cW)()[e.pluginId],r=n.useMemo(()=>"recent"===e.type?i:"org_private"===e.type?(0,W.uF)(a):l,[l,e.type,a,i]),o=(0,x.Um)(),c=o?.type===er._n&&o.data.pluginId===e.pluginId&&o.data.targetRect&&o.data.viewType===e.type,d=eH(e.pluginId,e.type);return n.createElement(eN,{pluginId:e.pluginId,type:e.type,dropdownIsShown:c,runOptionsDropdownIsShown:d,version:r})}),eN=n.memo(function(e){let{dropdownIsShown:t,version:l}=e,a=(0,i.wA)(),{viewPluginDetails:r}=ey(),o=n.useCallback(l=>{l.stopPropagation(),t?a(N.oB()):a(N.j7({type:er._n,data:{pluginId:e.pluginId,targetRect:l.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[t,a,e.pluginId,e.type]),c=(0,D.dR)(e.pluginId,"universal-insert"),d=(0,D.Gt)(e.pluginId,"universal-insert"),u=(0,A.t)(e.pluginId,d,c),s=u.length>0,g=e.runOptionsDropdownIsShown&&s,m=n.useRef(null),{validatePublishedPluginInOrgAllowlist:p,isPluginBlockedByAllowlist:v}=(0,V.j1)(e.pluginId),I=(0,D.RK)(e.pluginId),E=n.useCallback(t=>{if(t?.stopPropagation(),p()){if(s){g?a(N.oB()):a(e$({pluginId:e.pluginId,tileType:e.type}));return}I?d():c(),a(B.b({seen_published_plugin_onboarding_modal:!0})),a(B.b({seen_development_plugin_onboarding_modal:!0}))}},[p,s,I,a,g,e.pluginId,e.type,d,c]),w=m.current?.getBoundingClientRect();if(!l)return null;let f=!!(g&&w)||t,_=n.createElement(en._W,{resourceId:e.pluginId,resourceType:Z.vt.PLUGIN,parentView:en.nN.TILE,isFauxFocused:f});return n.createElement("div",null,n.createElement(eD,{isFauxFocused:f,onClick:E,onOptionsClick:o,optionsButtonIsActive:t,pluginId:e.pluginId,pluginVersion:l,primaryCTAButton:_,secondaryIcon:n.createElement(eE,{resource:l}),showOnClickDropdownChevron:s,visuallyDisabled:v}),n.createElement("div",{ref:m}),g&&w&&n.createElement(q.j,{showPoint:!1,lean:"center",items:u,onSelectItem:e=>{e.callback&&e.callback("",null,a)},parentRect:w,dispatch:a}),t&&n.createElement(er.EJ,{viewResource:r,plugin:l}))});function eB(e){let t=(0,i.wA)(),l=(0,V.nl)({allowNonVsCodePluginsInVsCode:!0}),a=e.localFileId?l[e.localFileId]:void 0,r=a?a.plugin_id:e.pluginId,o=(0,V.kd)({includePendingPublishers:!1}).find(e=>e.id===r),c=o?(0,W.uF)(o):void 0,d=(0,x.Um)(),{viewPluginDetails:u}=ey(),s=d?.type===er.lD&&d?.data.localFileId===e.localFileId&&d?.data.pluginId===r,g=n.useCallback(l=>{if(l.stopPropagation(),s)t(N.oB());else{let n=l.currentTarget.getBoundingClientRect();t(N.j7({type:er.lD,data:{localFileId:e.localFileId,pluginId:r,targetRect:n}}))}},[t,e.localFileId,r,s]),m=(0,D.Gt)(r,"universal-insert"),p=(0,D.dR)(r,"universal-insert"),v=(0,A.t)(r,m,p),E=v.length>0,w=n.useRef(null),f=w.current?.getBoundingClientRect(),y=eH(r,e.isRecentTile?"recent_development":"development")&&E,b=n.useCallback(()=>{if(E){y?t(N.oB()):r&&t(e$({pluginId:r,tileType:e.isRecentTile?"recent_development":"development"}));return}p()},[E,p,y,t,r,e.isRecentTile]);if(!a&&!o)return null;let h=n.createElement(ee.A,{localResource:a,publishedResource:o}),T=o&&(0,F.AC)(o),R=o&&c?.redirect_icon_url,k=o&&!T?o.roles.is_public?em.A:ev.A:void 0,B=n.createElement(C.Ex,{height:"16"},n.createElement("span",null,(0,_.tx)("universal_insert.development")));return n.createElement(n.Fragment,null,n.createElement(eD,{icon:R?void 0:n.createElement(I.B,{svg:ep.A,className:ed.Bx}),inReview:T,localPlugin:a,onClick:b,onOptionsClick:g,optionsButtonIsActive:s,pluginId:r,pluginVersion:c,publishingStatusIcon:k,secondaryIcon:B,showEditorTypeIcon:!1,showOnClickDropdownChevron:E,subheader:h}),n.createElement("div",{ref:w}),y&&f&&n.createElement(q.j,{showPoint:!1,lean:"center",items:v,onSelectItem:e=>{e.callback&&e.callback("",null,t)},parentRect:f,dispatch:t}),s&&(a?n.createElement(er.T9,{localResource:a,viewResource:u}):n.createElement(er.T9,{publishedResource:o,viewResource:u})))}function eP(e){return(0,V.cW)()[e.pluginId]?n.createElement(eF,{pluginId:e.pluginId,type:"org_private"}):null}function eA({pluginId:e,name:t,icon:l,iconUrl:i}){let[a,r]=n.useState(!!l);return n.createElement("div",{className:u()(a?ed.lP:ed.vt)},l||n.createElement(G.V,{plugin:{name:t,plugin_id:e,redirect_icon_url:i??""},loading:"lazy",alt:`${t} icon`,onLoad:()=>r(!0)}))}function eD(e){let t;let l=e.pluginVersion?.name??e.localPlugin?.name??"",i=e.pluginVersion?.redirect_icon_url,{isPluginSetToAutoRun:a}=(0,z.bE)(e.pluginVersion??null),c=e.localPlugin?e.localPlugin.manifest.editorType:e.pluginVersion?.manifest.editorType,d=!e.subheader,{viewPluginDetails:s,keyboardNavigationPath:g,shouldFocusFirstItem:m}=ey(),{setKeyboardNavigationElement:p,isFauxFocused:v,keyboardNavigationButtonRef:R}=eb(`plugin_${l}`,g,!!m),k=(0,P.j6)(),F=(0,L.ul)(e.pluginId),N=Object.values((0,V.$1)()).find(t=>String(t.plugin_id)===e.pluginId),B=(0,W.uF)(F),A=(0,W.pk)(B),D=(0,L.EO)(F)&&!N,M=(0,L.OY)(F),x=(0,L.gn)(F)&&!N,j=(0,U.sZ)(),Z=(0,V.ll)(),$=!N&&(0,O.BF)({org:j,extensionVersion:B??e.pluginVersion,isWidget:!1,allowlistedExtensions:Z}),G=e.isCommunityPreview&&!$&&!e.isDevModeWizard,Y=D&&!M?n.createElement(eG,{plugin:F,hideFreeTrialBadge:!0}):x?n.createElement(et.ur,null):G?n.createElement(eW,{pluginId:e.pluginId,buttonRef:R}):void 0,J=(0,h.QP)({resource:F,validBadges:[h.op.FREEMIUM,h.op.OFF_PLATFORM,h.op.PURCHASED]}),K=e.metadataOverrideNode??n.createElement(n.Fragment,null,n.createElement("div",{className:ed.FV},n.createElement(b.Y,{spacing:4},n.createElement("div",{className:u()(ed.B6,{[f.s.colorTextDisabled.$]:e.visuallyDisabled})},l),a&&n.createElement(C.Ex,{height:"16"},(0,_.t)("universal_insert.auto_run")),e.inReview&&n.createElement(T.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,J&&!x&&n.createElement("div",{className:ed.UK},J),e.publishingStatusIcon&&n.createElement("div",{className:f.s.colorIcon.$},n.createElement(w.t,{svg:e.publishingStatusIcon})),e.showOnClickDropdownChevron&&n.createElement(I.B,{svg:eu.A,className:ed.o2})),e.subheader&&n.createElement("div",{className:ed.ZK},e.subheader)),Y&&n.createElement("div",{className:ed.D1},Y),e.onOptionsClick&&n.createElement(r.K,{onClick:e.onOptionsClick,"aria-label":(0,_.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":H.Ib.TEXT,"data-tooltip":(0,_.t)("universal_insert.more_options")}},n.createElement(E.U,{svg:es.A,fallbackSvg:eg.A,className:e.optionsButtonIsActive?ed.F$:ed.D1},n.createElement(o.J,null))),e.primaryCTAButton&&n.createElement("div",{style:y.sx.add({alignSelf:"center"}).$},e.primaryCTAButton)),q=function(e,t){if((0,X.ks)());else if(e&&t)return!0;return!1}(e.showEditorTypeIcon,c),ee=(0,X.ks)();t=q?n.createElement(Q.li.IconAndBadgeContainer,null,n.createElement(eA,{pluginId:e.pluginId,name:l,iconUrl:i,icon:e.icon}),n.createElement(Q.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin"},n.createElement(Q.dn,{editorType:c,is16x16:!0}))):ee&&A?n.createElement(Q.li.IconAndBadgeContainer,null,n.createElement(eA,{pluginId:e.pluginId,name:l,icon:e.icon,iconUrl:i}),n.createElement(Q.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin"},n.createElement(Q.ZA,null))):n.createElement(eA,{pluginId:e.pluginId,name:l,icon:e.icon,iconUrl:i});let el=()=>{if((0,S.Cu)({trackingContext:k.name,pluginId:e.pluginId}),D&&!M||$){s();return}if(e.onClick){e.onClick();return}s()};return n.createElement("div",{className:u()(d?ed.$C:ed.MJ,v||e.isFauxFocused?ed.c6:void 0,e.isDevModeWizard?ed.NH:void 0),onClick:el,role:"button",tabIndex:0,ref:g?p:void 0},n.createElement("button",{onClick:e=>{e.stopPropagation(),el()},ref:G?void 0:R,"data-testid":"plugin-tile-button"}),n.createElement("div",{className:ed.ot},e.isNotification&&n.createElement("div",{className:ed.Vx}),t),K)}function eV(e){let t=(0,V.YO)()[e.widgetId],l=(0,V.ZT)()[e.widgetId],i=(0,L.tw)(l);return t?(0,$.ZQ)(t)?n.createElement(eO,{localFileId:t.localFileId.toString(),isRecentTile:!0}):i?null:n.createElement(eS,{widgetId:e.widgetId,type:"recent"}):null}function eS(e){let t=(0,i.wA)(),{viewWidgetDetails:l}=ef(),a=(0,V.ZT)()[e.widgetId],r=(0,V.Be)().widgets[e.widgetId],o=(0,V.YO)()[e.widgetId],d="recent"===e.type?o:"org_private"===e.type?(0,W.uF)(a):r,u=(0,x.Um)(),g=u?.type===er._n&&u.data.widgetId===e.widgetId&&u.data.targetRect&&u.data.viewType===e.type,m=(0,V.Ud)(e.widgetId),p=n.useRef(null),v=(0,V.WK)(e.widgetId),I=s.eD&&!!m&&!v,E=!!v||I,w=(0,x.Um)(),f=n.useRef(null),_=u?.type===ea.cH&&u.data.widgetId===e.widgetId,{isWidgetBlockedByAllowlist:y}=(0,V.Ys)(e.widgetId),b=n.useCallback(l=>{if(E){if(l.preventDefault(),l.stopPropagation(),_)t(N.oB());else{let n=l.currentTarget.getBoundingClientRect();t(N.j7({type:ea.cH,data:{targetRect:n,widgetId:e.widgetId}}))}}},[t,e.widgetId,_,E]),C=n.useCallback(()=>{(0,M.j)({pluginID:e.widgetId,widgetName:d.name,pluginVersionID:d.id,triggeredFrom:"universal-insert"})},[d,e.widgetId]),h=n.useCallback(e=>{E?b(e):c.l7.user("insert-published-widget",()=>{C()})},[C,b,E]),T=n.useCallback(l=>{l.stopPropagation(),g?t(N.oB()):t(N.j7({type:er._n,data:{widgetId:e.widgetId,targetRect:l.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[g,t,e.widgetId,e.type]);if(!d)return null;if((0,$.ZQ)(d))return n.createElement(eO,{localFileId:d.localFileId.toString()});let R=f.current?.getBoundingClientRect(),k=!!(w&&R)||g,F=n.createElement(en._W,{resourceId:e.widgetId,resourceType:Z.vt.WIDGET,parentView:en.nN.TILE,isFauxFocused:k});return n.createElement("div",null,n.createElement(ej,{iconUrl:d.redirect_snapshot_url??void 0,isFauxFocused:k,localWidget:v,onClick:h,onOptionsClick:T,optionsButtonIsActive:g,primaryCTAButton:F,secondaryIcon:n.createElement(eE,{resource:d}),subheader:(0,eo.CF)(d),useHorizontalLayout:!0,visuallyDisabled:y,widget:d,widgetId:e.widgetId}),n.createElement("div",{ref:p}),w&&R&&n.createElement(er.NR,{targetRect:R,widgetId:e.widgetId,lean:"center"}),g&&n.createElement(er.EJ,{viewResource:l,plugin:d}))}function eL(e){return(0,V.ZT)()[e.widgetId]?n.createElement(eS,{widgetId:e.widgetId,type:"org_private"}):null}function eO(e){let t=(0,i.wA)(),l=(0,V.yQ)(),a=n.useMemo(()=>e.localFileId?l[e.localFileId]:void 0,[l,e.localFileId]),r=(0,V.jg)(),o=a?a.plugin_id:e.widgetId,c=(0,V.bh)({includePendingPublishers:!1}),d=n.useMemo(()=>Object.values(c).find(e=>e.id===o),[c,o]),u=n.useMemo(()=>d&&d.current_plugin_version_id?d.versions[d.current_plugin_version_id]:void 0,[d]),s=(0,x.Um)(),{viewWidgetDetails:g}=ef(),m=s?.type===K.jZ.DEVELOPMENT_WIDGET_DROPDOWN&&s?.data.isRecentTile===e.isRecentTile&&s?.data.localFileId===e.localFileId&&s?.data.pluginId===o&&s?.data.targetRect,p=n.useCallback(l=>{if(l.stopPropagation(),m)t(N.oB());else{let n=l.currentTarget.getBoundingClientRect();t(N.j7({type:K.jZ.DEVELOPMENT_WIDGET_DROPDOWN,data:{localFileId:e.localFileId,pluginId:o,isRecentTile:e.isRecentTile,targetRect:n}}))}},[t,e.localFileId,o,e.isRecentTile,m]),v=n.useCallback(()=>{a&&(0,M.j)({pluginID:a.plugin_id,widgetName:a.name,pluginVersionID:"",triggeredFrom:"universal-insert"})},[a]);if(!a&&!d)return null;let I=n.createElement(ee.A,{localResource:a,publishedResource:d}),E=d&&(0,F.AC)(d),w=d&&(0,W.uF)(d).redirect_snapshot_url||e.localFileId&&r[e.localFileId]&&r[e.localFileId].metadata.widgetSnapshotImageSrc||ei.J,f=d&&!E?d.roles.is_public?em.A:ev.A:void 0;return n.createElement(n.Fragment,null,n.createElement(ej,{iconUrl:w,inReview:E,localWidget:a,onClick:()=>v(),onOptionsClick:p,optionsButtonIsActive:m,publishingStatusIcon:f,showEditorTypeIcon:!1,subheader:I,useHorizontalLayout:!0,widget:u,widgetId:o}),m&&(a?n.createElement(er.T9,{localResource:a,viewResource:g}):n.createElement(er.T9,{publishedResource:d,viewResource:g})))}function eM(e){let{widgetId:t}=e,l=(0,V.ZT)()[t]??null;if(!l)return null;let i=(0,W.uF)(l),{redirect_snapshot_url:a,manifest:r}=i;return n.createElement(ej,{widget:i,iconUrl:a??void 0,widgetId:l.id,onClick:e=>e.stopPropagation(),useHorizontalLayout:!0,showEditorTypeIcon:!0,editorType:r.editorType,isNotification:!0,metadataOverrideNode:n.createElement(el.PE,{resource:l})})}function ex(e){let t=(0,L.J$)(e.widgetId);if(!t)return null;let l=(0,W.uF)(t),i=(0,eo.fO)(t),a=n.createElement(n.Fragment,null,n.createElement("div",{className:ed.rz},(0,F.G8)(l,m.$J)),n.createElement("div",{className:ed.Yl},i));return n.createElement(ej,{widget:l,subheader:a,iconUrl:l.redirect_snapshot_url??void 0,widgetId:e.widgetId})}function eU({useHorizontalLayout:e=!1,onIconClick:t,disabled:l,iconUrl:a="",widget:r,publishedWidget:o,keyboardNavigationButtonRef:c}){let d=n.useMemo(()=>e?[h.op.PRICE]:[h.op.PURCHASED,h.op.OFF_PLATFORM,h.op.FREEMIUM,h.op.PRICE],[e]),u=(0,i.d4)(e=>e.authedActiveCommunityProfile);return n.createElement("div",{className:e?ed.Zv:ed.Cq,onClick:t,role:"button",tabIndex:0},l?n.createElement(Y.z,{src:a,context:j._Y.DESIGN}):n.createElement(J._,{widget:r,src:a,analytics:{triggeredFrom:"universal-insert"},keyboardNavigationButtonRef:c,context:j._Y.DESIGN}),n.createElement("div",{className:ed.VJ},(0,h.$3)({resource:o,authedActiveCommunityProfile:u,validBadges:d,size:e?"md":"lg"})))}let ej=n.memo(function(e){let t=e.localWidget??e.widget??W.lT,{viewWidgetDetails:l,keyboardNavigationPath:i,shouldFocusFirstItem:a}=ef(),{setKeyboardNavigationElement:c,isFauxFocused:d,keyboardNavigationButtonRef:s}=eb(`widget_${t.name}`,i,!!a),g=(0,V.ZT)()[e.widgetId],m=(0,L.EO)(g),p=(0,L.gn)(g),v=g?(0,W.uF)(g):null,I=t.name;v?.name&&v?.name!==""&&(I=v?.name);let C=(0,U.sZ)(),h=(0,V.U6)(),R=!e.localWidget&&(0,O.BF)({org:C,extensionVersion:v??e.widget,isWidget:!0,allowlistedExtensions:h}),k=!!(m||R),F=(0,P.j6)(),N=k?void 0:e=>e.stopPropagation(),B=e.metadataOverrideNode??n.createElement(n.Fragment,null,n.createElement("div",{className:ed.QF},n.createElement("div",{className:ed.JW},n.createElement(b.Y,{spacing:4,verticalAlignItems:"center"},n.createElement("div",{className:u()(ed.Y2,{[f.s.colorTextDisabled.$]:e.visuallyDisabled})},I),e.inReview&&n.createElement(T.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,e.publishingStatusIcon&&n.createElement("div",{className:f.s.colorIcon.$},n.createElement(w.t,{svg:e.publishingStatusIcon})),p&&n.createElement("div",{className:ed.Y9},n.createElement(et.xY,null)))),n.createElement("div",{className:ed.ML},e.subheader)),e.onOptionsClick&&n.createElement(r.K,{"aria-label":(0,_.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":H.Ib.TEXT,"data-tooltip":(0,_.t)("universal_insert.more_options")},onClick:e.onOptionsClick},n.createElement(E.U,{className:e.optionsButtonIsActive?ed.F$:ed.D1,svg:es.A,fallbackSvg:eg.A},n.createElement(o.J,null))),e.primaryCTAButton&&n.createElement("div",{style:y.sx.add({alignSelf:"center"}).$},e.primaryCTAButton));return n.createElement("div",{className:u()(e.useHorizontalLayout?ed.Gy:ed.BG,d?ed.c6:void 0),onClick:t=>{(0,S.Cu)({trackingContext:F.name,widgetId:e.widgetId}),k?l():e.onClick?e.onClick(t):l()},role:"button",tabIndex:0,ref:i?c:void 0,"data-testid":"widget-tile"},n.createElement("div",{className:ed.ot},e.isNotification&&n.createElement("div",{className:ed.Vx}),e.showEditorTypeIcon?n.createElement(Q.li.IconAndBadgeContainer,null,n.createElement(eU,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:N,disabled:k,iconUrl:e.iconUrl,widget:t,publishedWidget:g,keyboardNavigationButtonRef:s}),n.createElement(Q.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"widget"},n.createElement(Q.dn,{editorType:e.editorType,is16x16:!0}))):n.createElement(eU,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:N,disabled:k,iconUrl:e.iconUrl,widget:t,publishedWidget:g,keyboardNavigationButtonRef:s})),B)});function eW(e){let t=(0,i.wA)(),l=n.useRef(null),a=(0,x.Um)(),r=(0,V.x)(),o=(0,X.ks)(),c=(0,D.dR)(e.pluginId,"universal-insert"),d=(0,D.Gt)(e.pluginId,"universal-insert"),u=(0,A.t)(e.pluginId,d,c),s=u.length>0,g=eH(e.pluginId,"community"),m=s&&a?.type===e.dropdownShownType&&a?.data.pluginId===e.pluginId,v=g||m,{validatePublishedPluginInOrgAllowlist:E}=(0,V.j1)(e.pluginId),w=(0,D.RK)(e.pluginId),f=n.useCallback(l=>{if(l.stopPropagation(),E()){if(s){v?t(N.oB()):(e.dropdownShownType&&t(N.j7({type:e.dropdownShownType,data:{pluginId:e.pluginId}})),t(e$({pluginId:e.pluginId,tileType:"community"})));return}w?d():c(),t(B.b({seen_published_plugin_onboarding_modal:!0})),t(B.b({seen_development_plugin_onboarding_modal:!0}))}},[E,s,w,t,v,e.dropdownShownType,e.pluginId,d,c]);if(o&&!r)return null;let y=l.current?.getBoundingClientRect(),b=e.usePrimaryButtonStyles?n.createElement(p.$$,{onClick:f,className:ed.lI},(0,_.tx)("universal_insert.run"),s&&n.createElement(I.B,{svg:eu.A,className:ed.sI})):n.createElement("button",{className:ed.lO,onClick:f,ref:e.buttonRef},(0,_.tx)("universal_insert.run"),s&&n.createElement(I.B,{svg:eu.A,className:ed.zZ}));return n.createElement("div",{className:e.usePrimaryButtonStyles?ed.od:void 0,"data-testid":"run-plugin-button"},n.createElement("div",{ref:l},b),v&&y&&n.createElement(q.j,{showPoint:!1,items:u,onSelectItem:e=>{e.callback&&e.callback("",null,t)},parentRect:y,dispatch:t,lean:"left"}))}let eZ="DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU";function e$(e){return N.j7({type:eZ,data:e})}function eH(e,t){let l=(0,x.Um)();return l?.type===eZ&&l.data.pluginId===e&&t===l.data.tileType}function ez(e){let t=(0,i.wA)(),l=(0,V.ZT)()[e.widgetId],a=(0,V.WK)(e.widgetId),r=(0,V.Ud)(e.widgetId),o=s.eD&&!!r&&!a,d=!!a||o,u=(0,x.Um)(),g=u?.type===ea.cH&&u.data.widgetId===e.widgetId,m=n.useRef(null),v=n.useCallback(l=>{if(d){if(l.preventDefault(),l.stopPropagation(),g)t(N.oB());else{let n=l.currentTarget.getBoundingClientRect();t(N.j7({type:ea.cH,data:{targetRect:n,widgetId:e.widgetId}}))}}},[t,e.widgetId,g,d]),E=n.useCallback(()=>{let e=(0,W.uF)(l);(0,M.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:e.id,triggeredFrom:"universal-insert"})},[l]),w=n.useCallback(e=>{d?v(e):c.l7.user("insert-published-widget",()=>{E()})},[E,v,d]);if(!l)return null;let f=n.createElement(p.$$,{onClick:w,className:ed.lI},(0,_.tx)("universal_insert.add"),d&&n.createElement(I.B,{svg:eu.A,className:ed.sI})),y=m.current?.getBoundingClientRect();return n.createElement("div",{className:ed.od},n.createElement("div",{ref:m},f),g&&y&&n.createElement(er.NR,{targetRect:y,widgetId:e.widgetId}))}function eG(e){let t=(0,L.lt)(e.plugin);return e.plugin.monetized_resource_metadata?n.createElement("div",{className:ed.y2},n.createElement("div",{className:ed.lO},(0,k.bV)(e.plugin.monetized_resource_metadata)),!e.hideFreeTrialBadge&&(0,k.Lt)({resource:e.plugin,payment:t})&&n.createElement(R.w5,{metadata:e.plugin.monetized_resource_metadata,condensed:!0})):null}}}]);

//# debugId=a05b0c65-5566-5b8f-b7ec-346f2d59cd8f

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/557e586251b80ebb687ac3574c706600ab634dd8/5567-5fbb195354a0e5d2.min.js.map
"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f0484ee9-9894-5e3c-b3a8-c129cc1d8bda")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[7391,9227],{789982:(e,t,n)=>{n.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#fff" fill-opacity=".8" fill-rule="evenodd" stroke="none" d="M13.148 9.715q-.53.633-.53 1.805v.957q0 1.175.51 1.812.195.237.45.385.428.248 1.031.248.63 0 1.065-.235.199-.108.357-.265.2-.199.328-.473.194-.415.219-1H15.43q-.024.579-.196.801-.034.043-.079.078-.182.14-.546.14-.308 0-.496-.141-.093-.07-.156-.175-.188-.316-.188-1.164v-1.074q.012-.738.204-1.059.058-.099.142-.168.19-.156.51-.156.358 0 .538.144.048.038.083.087.171.226.188.828h1.152q-.04-.58-.228-1-.128-.283-.323-.492-.143-.154-.325-.263-.432-.257-1.085-.257-.634 0-1.082.286-.22.141-.395.35zm-5.202 0q-.531.633-.531 1.805v.957q0 1.175.511 1.812.194.237.45.385.427.248 1.03.248.63 0 1.065-.235.2-.108.358-.265.2-.199.328-.473.192-.415.219-1h-1.149q-.023.579-.195.801-.035.043-.08.078-.182.14-.545.14-.308 0-.497-.141-.091-.07-.156-.175-.187-.316-.187-1.164v-1.074q.011-.738.203-1.059.06-.099.143-.168.189-.156.51-.156.357 0 .537.144.048.038.083.087.173.226.188.828h1.152q-.039-.58-.228-1-.127-.283-.322-.492-.143-.154-.326-.263-.43-.257-1.085-.257-.633 0-1.081.286-.22.141-.395.35zM18 7H6c-.552 0-1 .448-1 1v8c0 .552.448 1 1 1h12c.552 0 1-.448 1-1V8c0-.552-.448-1-1-1M6 6h12c1.105 0 2 .895 2 2v8c0 1.105-.895 2-2 2H6c-1.105 0-2-.895-2-2V8c0-1.105.895-2 2-2"/></svg>'},626824:(e,t,n)=>{n.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"><path fill="#000" fill-opacity=".8" fill-rule="evenodd" stroke="none" d="M5 1H1v4h4zM1 0C.448 0 0 .448 0 1v4c0 .552.448 1 1 1h4c.552 0 1-.448 1-1V1c0-.552-.448-1-1-1zm11.5 3H8V2h4.5c.828 0 1.5.672 1.5 1.5v9c0 .828-.672 1.5-1.5 1.5h-9c-.83 0-1.5-.672-1.5-1.5V8h1v4.5c0 .276.224.5.5.5h9c.276 0 .5-.224.5-.5v-9c0-.276-.224-.5-.5-.5m-2 4H7v3.5h1V8.707l2 2 .707-.707-2-2H10.5z"/></svg>'},918452:(e,t,n)=>{n.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="16" viewBox="0 0 21 17"><path fill="#000" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M15.647 6.588h-3.294v1.977m3.294-1.977h3.294v1.977m-3.294-1.977v8.47m0 0h1.922m-1.922 0h-1.922M6.705.942H1.06v3.294M6.706.941h5.647v3.294M6.706.941V15.06m0 0H10m-3.294 0H3.412"/></svg>'},662571:(e,t,n)=>{n.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#fff" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M12 16.05V9h1v7.05c1.141.232 2 1.24 2 2.45 0 1.21-.859 2.218-2 2.45V23h-1v-2.05c-1.141-.232-2-1.24-2-2.45 0-1.21.859-2.218 2-2.45m2 2.45c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5m5 4.5h1v-7.05c1.141-.232 2-1.24 2-2.45 0-1.21-.859-2.218-2-2.45V9h-1v2.05c-1.141.232-2 1.24-2 2.45 0 1.21.859 2.218 2 2.45zm2-9.5c0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5"/></svg>'},598284:(e,t,n)=>{n.d(t,{A:()=>r});let r='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="m9 15 4 3V6L9 9H6v6zm-2-1h2.333L12 16V8l-2.667 2H7z"/><path fill="#000" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M16 12c0-.552-.448-1-1-1v-1c1.105 0 2 .895 2 2 0 1.105-.895 2-2 2v-1c.552 0 1-.448 1-1m-1-3c1.657 0 3 1.343 3 3 0 1.657-1.343 3-3 3v1c2.21 0 4-1.79 4-4 0-2.21-1.79-4-4-4z"/></svg>'},850568:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(848318),a=n(301168),s=n(768618),l=n(19180),i=n(536384),o=n.n(i),c=n(410441),d=n(454805),u=n(959750),p=n(489082),m=n(963307),h=n(601167),y=n(554326),g=n(314774),b=n(273555),E=n(276595),f=n(27776);let _="offscreen_indicators--indicatorGraphicBlue---nYr-",v="offscreen_indicators--indicatorGraphicPurple--FAz-M",k=(0,c.jz)(f.y9S);function w(){let e=[],t=(0,m.kl)("selectionRegions"),n=(0,p.E7)(t);n&&(e=n);let i=(0,a.d4)(e=>e.mirror.appModel.hoveredNode);if(i&&(0,l.k)().ce_offscreen_indicators_for_hovered_nodes){let t=(0,s.UN)().get(i);if(t){let n=t.absoluteBoundingBox;e=[...e,{bounds:{height:n.h,width:n.w,x:n.x,y:n.y},regionType:t.isPrimaryInstance||t.isInstanceSublayer||t.isComponentish||t.isSymbolSublayer?b.fV.SYMBOLS_ONLY:b.fV.MIXED_OR_NO_SYMBOLS}]}}let o=!!e&&e.length>=1,c=(0,h._X)({subscribeToUpdates_expensive:o});return c&&e?r.createElement(S,{viewportInfo:c,regions:e}):null}function S({viewportInfo:e,regions:t}){let n=(0,r.useContext)(g.kw),s=(0,r.useMemo)(()=>n.getCommentsWrapperOffset(e),[n,e]),l=s.x,i=s.y,o={transform:`translate(${l}px, ${i}px)`},c=(0,a.d4)(e=>e.mirror?.appModel.showUi),d=(0,y.J2)((0,u.UK)().renderRulers)&&c?k:0,p={x:-3.5+d,y:-3.5+d,width:e.width- -7-d,height:e.height- -7-d},m={x:-3.5+d,y:-3.5+d,width:e.width- -7-d,height:e.height- -7-d};return r.createElement(r.Fragment,null,r.createElement(E.p,null,r.createElement("div",{"aria-hidden":!0,"data-forward-events-to-fullscreen":!0,className:"offscreen_indicators--overlay--pNOlw",style:o},!!t?.length&&r.createElement("div",null,t.map((t,n)=>{let a=(0,h.Z0)(e,{x:t.bounds.x,y:t.bounds.y}),s=(0,h.Z0)(e,{x:t.bounds.x+t.bounds.width,y:t.bounds.y+t.bounds.height}),l={x:a.x,y:a.y,width:s.x-a.x,height:s.y-a.y};return l.x<p.x+p.width&&l.x+l.width>p.x&&l.y+l.height>p.y&&l.y<p.y+p.height?null:r.createElement(T,{key:n,viewportBounds:m,viewportInfo:e,indicatorViewportBounds:l,selectionBoundsScaledWidth:function(e,t){let n=Math.max(e.x,t.x);return Math.max(Math.min(e.x+e.width,t.x+t.width)-n,10)}(l,m),selectionBoundsScaledHeight:function(e,t){let n=Math.max(e.y,t.y);return Math.max(Math.min(e.y+e.height,t.y+t.height)-n,10)}(l,m),selectionRegionType:t.regionType})})))))}function T({viewportBounds:e,viewportInfo:t,indicatorViewportBounds:n,selectionBoundsScaledWidth:s,selectionBoundsScaledHeight:l,selectionRegionType:i}){let c=function(e,t){let n=0-t.x,r=0+e.width-t.x,a=0-t.y,s=0+e.height-t.y,l=Math.abs(n)<r?n:r,i=Math.abs(a)<s?a:s,o=n<0!=r<0,c=a<0!=s<0;return o&&c?Math.abs(l)<Math.abs(i)?{x:t.x+l,y:t.y}:{x:t.x,y:t.y+i}:!o&&c?{x:t.x+l,y:t.y}:o&&!c?{x:t.x,y:t.y+i}:{x:t.x+l,y:t.y+i}}(t,{x:n.x+n.width/2,y:n.y+n.height/2});c.x-=s/2,c.y-=l/2;let p=(0,a.d4)(e=>e.mirror?.appModel.showUi),m=(0,y.J2)((0,u.UK)().renderRulers)&&p?k:0,h=1+m,g=Math.max(h,t.width-1-s),E=1+m,f=Math.max(E,t.height-1-l-1),w=d.Mi.bound(c,{min:{x:h,y:E},max:{x:g,y:f}}),S=n.y+n.height<e.y,T=n.y>e.y+e.height,x=n.x+n.width<e.x,N=n.x>e.x+e.width;w.x+=t.x,w.y+=t.y;let I=Math.min(t.width-2,s),L=Math.min(t.height-2,l);return r.createElement("div",{className:"offscreen_indicators--indicator---T9xk",style:{transform:`translate3D(${w.x}px, ${w.y}px, 0)`}},(S||T)&&r.createElement("div",{style:{position:"absolute",height:1.5,width:I,marginTop:T?L-1.5:0},className:o()({[_]:i===b.fV.MIXED_OR_NO_SYMBOLS,[v]:i===b.fV.SYMBOLS_ONLY})}),(x||N)&&r.createElement("div",{style:{position:"absolute",left:0,height:L,width:1.5,marginLeft:N?I-1.5:0},className:o()({[_]:i===b.fV.MIXED_OR_NO_SYMBOLS,[v]:i===b.fV.SYMBOLS_ONLY})}))}},444964:(e,t,n)=>{n.d(t,{m:()=>nZ});var r=n(848318),a=n(186606),s=n(19180),l=n(382902),i=n(66699),o=n(361964),c=n(696786),d=n(355755),u=n(730143),p=n(554326),m=n(535884),h=n(792682),y=n(141454),g=n(506777),b=n(79810),E=n(126072),f=n(957017),_=n(63340),v=n(228845),k=n(301168),w=n(563029),S=n(898700),T=n(644216),x=n(353231),N=n(859480),I=n(14837),L=n(200300),C=n(837988),A=n(605381),M=n(244942),P=n(774121),F=n(967688),K=n(659717),O=n(731991),H=n(896967),R=n(15105),z=n(601167),U=n(17753),B=n(16808),G=n(583484),V=n(555806),$=n(702051);function D(){let e=(0,k.wA)(),t=(0,k.d4)(e=>!!e.modalShown),n=(0,k.d4)(e=>e.versionHistory.compareId),s=a.AWq.getChunkChangeCount(),l=(0,R.Z)("chunk_change_navigator_navigate"),i=(0,H.E)(),o=r.useCallback(e=>{a.Egt.setSelectedNodeAndCanvas(e,!0),l((0,z.QZ)({nodeId:e,...G.ob}),G.kh),i(e)},[l,i]),c=r.useCallback(e=>{t||0===s||("ArrowUp"===e.key||"ArrowLeft"===e.key||e.shiftKey&&"Tab"===e.key?o(a.glU.navigateToNextChange(-1)):("ArrowDown"===e.key||"ArrowRight"===e.key||"Tab"===e.key)&&o(a.glU.navigateToNextChange(1)))},[t,s,o]);return(r.useEffect(()=>{e(O.Q.dequeue({type:K._.SEE_WHATS_CHANGED}))},[e]),r.useEffect(()=>{n&&0!==s&&o(a.glU.navigateToFirstVisibleOrClosestChange())},[s,n,o]),r.useLayoutEffect(()=>{if(0!==s)return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[s,c]),0===s)?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"chunk_change_navigator--chunkChangeCount--ZFnfP"},(0,F.tx)("collaboration.feedback.change_count",{changeCount:s})),r.createElement("div",{className:"chunk_change_navigator--chunkChangeNavigator--82303"},r.createElement(B.K0,{svg:$.A,onClick:e=>{e.stopPropagation(),o(a.glU.navigateToNextChange(-1))},"data-tooltip-type":U.Ib.TEXT,"data-tooltip":(0,F.t)("collaboration.feedback.previous_change"),recordingKey:"change_stepper.previous",disabled:0===s}),r.createElement(B.K0,{svg:V.A,onClick:e=>{e.stopPropagation(),o(a.glU.navigateToNextChange(1))},"data-tooltip-type":U.Ib.TEXT,"data-tooltip":(0,F.t)("collaboration.feedback.next_change"),recordingKey:"change_stepper.next",disabled:0===s})))}var W=n(625024),q=n(7376),j=n(277930),Y=n(989232),X=n(410441),J=n(63163),Q=n(410725),Z=n(61503),ee=n(692711),et=n(561258),en=n(345964),er=n(834428),ea=n(31898),es=n(30575),el=n(267670),ei=n(271326),eo=n(97795),ec=n(702038),ed=n(760641),eu=n(125761),ep=n(931451),em=n(83742),eh=n(55116),ey=n(526594),eg=n(253332),eb=n(620964),eE=n(700436),ef=n(715880),e_=n(561327),ev=n(775030),ek=n(295156),ew=n(874728),eS=n(882839),eT=n(536384),ex=n.n(eT),eN=n(857607),eI=n(656329),eL=n(689347),eC=n(710481),eA=n(168852);function eM({searchOptions:e,keyboardNavigationPath:t,keyboardNavigationColumn:n}){let s=(0,ep.I)(em.Cn.AssetsPanel),{activeTab:l,shouldFocusSearchBar:i}=(0,k.d4)(e=>e.leftPanel),o=l===a.xae.ASSETS,c=r.useRef(null),d=(0,k.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),u=(0,eC.vb)({isVisible:o,autofocus:!0,selectOnFocus:!0,ref:c});r.useEffect(()=>{let e=e=>{(eI.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===eN.Uz.KEY_2:e.altKey&&e.keyCode===eN.Uz.KEY_2)&&d!==a.m1T.TEXT&&(u(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[d,u]);let p=r.useCallback(t=>{let n;e&&((0,eL.eu)(e.type)?n=e.type:(n={type:eA.I.ALL},e.onSetAssetType(n))),s.setQuery(t,n)},[s,e]),m=ex()("component_sidebar_search--searchWithViewModeToggle--nKJ2-","component_sidebar_search--negMargin--QTfpB");return null!=t?r.createElement(eC.E1,{autofocus:i,className:m,column:n,entryPointForTracking:"editor:assets_panel",forwardedRef:c,hideSearchIcon:!0,isVisible:o,onChange:p,path:t,placeholder:(0,F.t)("design_systems.assets_panel.search"),query:s.query,recordingKey:"componentsLibrarySearch",selectOnFocus:!0}):r.createElement(eC.aU,{autofocus:i,className:m,entryPointForTracking:"editor:assets_panel",forwardedRef:c,hideSearchIcon:!0,isVisible:o,onChange:p,placeholder:(0,F.t)("design_systems.assets_panel.search"),query:s.query,recordingKey:"componentsLibrarySearch",selectOnFocus:!0})}var eP=n(561882),eF=n(946678),eK=n.n(eF),eO=n(750294),eH=n(292024),eR=n(389541),ez=n(992288),eU=n(680004),eB=n(900980),eG=n(949598),eV=n(789253),e$=n(120846);function eD(e){let{assetType:t,libraryNameByLibraryKey:n,fileKeyToLibraryKey:a,onSetAssetType:s,onSetKeyboardNavigationElement:l,validAssetTypeOptions:i}=e,o=(0,k.wA)(),c=(0,k.d4)(e=>e.dropdownShown),d=(0,k.d4)(u.tB),{closeFlyout:p}=(0,eV.JA)(),m=(0,eR.Fl)(),h=r.useCallback(()=>{p(),Y.definedAnalyticsHandler.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:d?.key,assetsPanelVersion:2})},[p,d?.key]),y=r.useMemo(()=>{if((0,eU.NX)(m)){let e=Object.entries(a).map(([e,t])=>({name:n[t]??"",key:e,library_key:t}));return(0,eU.k9)({libraries:e,approvedLibraryKeysByResourceType:m}),e.map(({key:e})=>e)}return Object.keys(n??{}).sort((e,t)=>eO.f.LEXICOGRAPHICALLY(n[e],n[t]))},[m,a,n]),g=(0,ei.n1)(),[b,E]=eK()(y,e=>!(0,eH.wJ)(e)),f=E.length>0&&g,_=r.useMemo(()=>({format:e=>{switch(e.type){case eA.I.RECENT:return(0,F.t)("design_systems.assets_panel.dropdown_type_recents");case eA.I.ALL:return(0,F.t)("design_systems.assets_panel.dropdown_type_all_libraries");case eA.I.LOCAL:return(0,F.t)("design_systems.assets_panel.created_in_this_file");case eA.I.FILE:return n[e.libraryKey]??"";case eA.I.SITE_KIT:return""}},isEqual:eW}),[n]);return r.createElement(e$.l6,{ariaLabel:(0,F.t)("design_systems.assets_panel.dropdown.aria_label"),chevronClassName:"sidebar_asset_type_select--chevron--xyZLx",className:"sidebar_asset_type_select--select--PTmwH",dispatch:o,dropdownAlignment:"left",dropdownShown:e.useLocalState?e.dropdownShown:c,dropdownWidth:260,formatter:_,id:"component-sidebar-asset-type-select",inputClassName:"sidebar_asset_type_select--input--sSEn2",inputRef:l,onChange:s,onHideDropdownOverride:e.useLocalState?e.onHideDropdownOverride:void 0,onShowDropdown:h,onShowDropdownOverride:e.useLocalState?e.onShowDropdownOverride:void 0,openOnKeyPressed:[eN.Uz.SPACE,eN.Uz.ENTER],property:t,rightIcon:r.createElement(eG.P,{libraryKey:t.type===eA.I.FILE?t.libraryKey:void 0})},!!i[eA.I.ALL]&&r.createElement(e$.c$,{value:{type:eA.I.ALL}}),!!i[eA.I.RECENT]&&r.createElement(e$.c$,{value:{type:eA.I.RECENT}}),!!i[eA.I.LOCAL]&&r.createElement(e$.c$,{value:{type:eA.I.LOCAL}}),b.length>0?r.createElement(e$.sK,null):null,b.length>0?r.createElement(e$.c$,{isHeader:!0,formattedValue:d?.org?.name?(0,F.t)("design_systems.assets_panel.dropdown_org_libraries",{orgName:d.org.name}):(0,F.t)("design_systems.assets_panel.dropdown_libraries")}):null,b.map(e=>(0,eU.sF)(a[e])?r.createElement(e$.c$,{key:e,value:{type:eA.I.FILE,libraryKey:a[e]},removeTextRightPadding:!0,rightSettingsIcon:r.createElement(ez.FX,null)}):r.createElement(e$.c$,{key:e,value:{type:eA.I.FILE,libraryKey:a[e]},fullWidth:!0})),f?r.createElement(e$.sK,null):null,f?r.createElement(e$.c$,{isHeader:!0,formattedValue:(0,F.t)("design_systems.assets_panel.dropdown_curated_libraries")}):null,f&&E.map(e=>r.createElement(e$.c$,{key:e,value:{type:eA.I.FILE,libraryKey:a[e]},removeTextRightPadding:!0,rightSettingsIcon:r.createElement(eB.t,null)})))}function eW(e,t){return e.type===eA.I.FILE&&t.type===eA.I.FILE?e.libraryKey===t.libraryKey:e.type===t.type}var eq=n(781239),ej=n(346480),eY=n(951032);function eX({disabled:e,isList:t,onSetKeyboardNavigationElement:n,onToggleViewMode:a,recordingKey:s}){let l=t?(0,F.t)("design_systems.assets_panel.show_as_grid"):(0,F.t)("design_systems.assets_panel.show_as_list");return r.createElement(B.K0,{ref:n,recordingKey:eq.Pt(s,"toggleComponentsSidebarViewMode"),"data-tooltip-type":U.Ib.TEXT,"data-tooltip":l,svg:t?ej.A:eY.A,onClick:a,disabled:e})}var eJ=n(669465),eQ=n(712964),eZ=n(4881),e0=n(336004);let e1=(0,eZ.Wh)(()=>(0,l.eU)(0)),e2=(0,eZ.Wh)(()=>(0,l.eU)(e0.Bk.Grid));var e5=n(391375),e4=n(475166);function e8(e,t,n){return null!=e&&(t[e.type]||e.type===eA.I.FILE&&n[e.libraryKey])?e:{type:eA.I.ALL}}var e3=n(587745),e6=n(106358),e7=n(692454),e9=n(138842);function te(e,t){return`${t}:${e.key}`}function tt(e){return`${e}:stickySection`}var tn=n(722692),tr=n(660376),ta=n(550984),ts=n(901558),tl=n(865114),ti=n(540698),to=n(345249),tc=n(720522),td=n(925085),tu=n(446244),tp=n(87148),tm=n(555958),th=n(452086),ty=n(940016),tg=n(410739),tb=n(357741),tE=n(796490),tf=n(824662),t_=n(709114),tv=n(444441),tk=n(478581),tw=n(645801),tS=n(775065);function tT({asset:e,fileName:t,sourceForTracking:n,thumbHeight:a,thumbLayout:i,thumbWidth:o,viewMode:c,sectionNameForTracking:d,sectionPosition:u,noFlyout:p,preventDrag:h,disableContextMenu:y}){let g=(0,k.wA)(),b=(0,k.d4)(e=>e.dropdownShown),{query:E,searchOption:f}=(0,ep.I)(em.Cn.AssetsPanel),_=(0,k.d4)(eE.dK),v=(0,k.d4)(m.F9),w=(0,l.md)(ty.T),S=f?.type===eA.I.ALL,T=(0,eR.fV)(e.library_key),x=(0,tp.fd)(e.library_key),N=S&&(T||x),I=r.useRef(null),L=(0,tm.kH)(e.name),C=(0,to.NG)({text:L,textRef:I}),A=r.useRef(null),M=(0,to.NG)({text:t??"",textRef:A}),P=b?.type===t_.K.ASSETS_PANEL?b?.data?.component:void 0,F=P?.node_id===e.node_id,K=c===e0.Bk.List,O=K?"list-no-padding":"grid",H=!!E,R=(0,tb.F)(e,t_.K.ASSETS_PANEL,u,d),z=(0,tg.n)(e),U=(0,tl.ZC)(z),B=!p;r.useEffect(()=>{z&&!U&&g(tu.jD())},[z,g,U]);let G=e.isLocal&&(0,ti.PN)()?(0,tv.eT)(e.node_id,_).join("-"):e.node_id,V="Local components"===d||"Local private components"===d||e.isLocal,$=i!==tk.rp.SMALL&&!K,D=!K&&(0,s.k)().api_asset_search_with_scores,W=(0,tE.Y)(e),q=K?a:a-2,j=K?o:o-2,Y=r.useMemo(()=>h?void 0:{sourceForTracking:n,clickToInsert:!1,afterSuccessfulInsert:th.$z,sectionNameForTracking:d},[h,d,n]),X=V?r.createElement(tf.MT,{alwaysShowBorder:!0,buttonProps:{onContextMenu:y?void 0:R},displayType:O,draggable:Y,fileName:C||M?t:void 0,height:q,hideNameOverlay:$,isFilePublished:v,isSearch:H,item:e,numVariants:W,recordingNodePath:G,sectionPosition:u,shouldHideTooltip:B||F||z,showTooltipImmediately:!1,useBaseTile:!0,width:j}):r.createElement(tf.lX,{alwaysShowBorder:!0,buttonProps:{onContextMenu:y?void 0:R},displayType:O,draggable:Y,fileName:C||M?t:void 0,height:q,hideNameOverlay:$,isSearch:H,item:e,numVariants:W,recordingNodePath:G,sectionPosition:u,shouldHideTooltip:B||F||z,showName:!0,showTooltipImmediately:!1,useBaseTile:!0,width:j});return r.createElement("div",{className:K?tw.AD:tw.iE},K?X:r.createElement("div",{className:ex()(tw.QX,{[tw.Gr]:z,[tw.HR]:z&&w})},X),$&&r.createElement("div",{role:"button",className:tw.Bm,style:{width:o}},r.createElement("span",{className:tw.UU,ref:I},L),B&&r.createElement(tc.B,{ariaHidden:!0,className:tw.OW,svg:tS.A})),$&&!!t&&r.createElement(td.Y,{spacing:0,direction:"horizontal"},r.createElement("div",{className:ex()(tw.Md,tw.Rm),ref:A,style:N?{maxWidth:o-eG.J}:{width:o}},t),N&&r.createElement(eG.P,{libraryKey:e.library_key,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),D&&r.createElement(r.Fragment,null,r.createElement("div",{className:ex()(tw.Md,tw.Rm),style:N?{maxWidth:o-eG.J}:{width:o}},"Score: "+(e.server_score?.toFixed(2)??"N/A")),r.createElement("div",{className:ex()(tw.Md,tw.Rm),style:N?{maxWidth:o-eG.J}:{width:o}},"(L:"+(e.lexical_score?.toFixed(2)??"N/A")+", AI:"+(e.ai_score?.toFixed(2)??"N/A")+", F:"+(e.fuse_score?.toFixed(2)??"N/A")+")")),B&&K&&r.createElement(tc.B,{ariaHidden:!0,className:tw.Ki,svg:tS.A}))}var tx=n(297638),tN=n(863270),tI=n(486383),tL=n(475869);let tC="library_section_header--sectionHeaderH1--P70zQ ellipsis--ellipsis--Tjyfa",tA="library_section_header--sectionHeader3_redesign--TGISe ellipsis--ellipsis--Tjyfa",tM="library_section_header--sectionHeaderH3--5VrMz ellipsis--ellipsis--Tjyfa";var tP=n(523860),tF=n(85206);let tK=e=>"isExpandable"in e&&e.isExpandable,tO=(e,t)=>{switch(e){case tC:return t?"library_section_header--sectionHeaderDivider--SdrS5 ellipsis--ellipsis--Tjyfa":"library_section_header--sectionHeader1_redesign--cWZaj ellipsis--ellipsis--Tjyfa";case tM:return tA;default:return"library_section_header--sectionHeader3_normal--bf4ra"}},tH=e=>{let t=[];if(e&&e.length){t.push(r.createElement("div",{className:"library_section_header--sectionHeader1_sticky--mZ4QY ellipsis--ellipsis--Tjyfa",key:e[0]},e[0]+" / ","\xa0"));let n=e.slice(1).join(" / ");t.push(r.createElement("div",{className:tA,key:n},n,"\xa0"))}return t};class tR extends r.Component{componentDidUpdate(e){tK(this.props)&&tK(e)&&e.isExpanded!==this.props.isExpanded&&"h1"===this.props.size&&(0,i.YQ)({id:"library_section_header_toggled"})}render(){let e="h1"===this.props.size?tC:tM,t=tK(this.props)?"library_section_header--sectionHeaderExpandable--hHEFq":"",n=tO(e,this.props.shouldShowDividerLine),a=tK(this.props)&&this.props.isFixed?"library_section_header--isFixed--eVHns":"";return r.createElement(tN.fu,{name:"Section Header",properties:{title:this.props.title,isExpanded:!!tK(this.props)&&this.props.isExpanded},trackingTargets:tI.K.RCS},r.createElement("div",{className:ex()(n,e,t,a)},tK(this.props)&&r.createElement(tc.B,{className:this.props.isExpanded?"library_section_header--expandCaretOpen--083vU library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad":"library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad",svg:this.props.isExpanded?tP.A:tF.A}),tK(this.props)&&this.props.breadcrumbPath&&!this.props.isFixed&&r.createElement("div",{className:"library_section_header--breadcrumbPath--Jevbg"},this.props.breadcrumbPath,"\xa0"),tK(this.props)&&this.props.isFixed&&this.props.stickyHeadertokens&&this.props.stickyHeadertokens.length?tH(this.props.stickyHeadertokens):r.createElement("div",{className:n},this.props.title),(0,eU.sF)(this.props.subscribedLibraryKey)&&r.createElement("div",{className:tx.s.flex.alignCenter.justifyCenter.ml4.$},r.createElement(ez.KP,{libraryKey:this.props.subscribedLibraryKey})),((0,tp.o3)(this.props.subscribedLibraryKey)||(0,tp.Ag)(this.props.subscribedLibraryKey))&&r.createElement("div",{className:tx.s.flex.alignCenter.justifyCenter.ml4.$},r.createElement(eB.E,{libraryKey:this.props.subscribedLibraryKey,showTooltip:!0,redirectToHubFile:!0}))))}}tR.H1_HEIGHT=(0,X.hG)(tL.BS),tR.H3_HEIGHT=(0,X.hG)(tL.T);class tz extends r.Component{render(){return r.createElement("div",{className:12===this.props.size?"library_section_header--spacer12--0h1Dt":"library_section_header--spacer16--iPkYc"})}}tz.HEIGHT=(0,X.hG)(tL.FX);let tU=(0,X.hG)(tL.FX),tB=(0,X.hG)(tL.FX)/2,tG=(0,X.hG)(tL.Nz),tV=(0,X.hG)(tL.cP);function t$({parent:e,outputElements:t,libraryNameByLibraryKey:n,items:a,keyPrefix:l,sharedOptions:i,sectionNameForTracking:o}){let c=(0,tk.PI)(a,!0),d={layout:c,...i},u=(0,tk.A5)(d),{width:p,height:m}=(0,tk.rj)(d,u),h=i.isList?1:0,y=i.isList?0:tG,g=i.isList||!n?0:tV,b=m+(i.isList?tB:tU)+y+g+h+(i.isList?0:-2);(0,s.k)().api_asset_search_with_scores&&(b+=2*(0,X.hG)(tL.uY));let E=p+(i.isList?tB:tU)+(i.isList?0:-2),f=0,_=ta.oz.getNextRenderedElementTop(t)+tB;for(let[s,d]of a.entries()){let a=i.isList?_+f*b:_+Math.floor(f/u)*b,h=i.isList?0:3+f%u*E,y=(0,ts.V)(d),g=d.library_key?n?.[d.library_key]:void 0;t.push({parent:e,type:ta.zq.TILE,top:a,left:h,height:b,key:`${l}:${y}`,element:function({item:e,fileName:t,sourceForTracking:n,sectionNameForTracking:a,thumbLayout:s,thumbHeight:l,thumbWidth:i,isList:o,sectionPosition:c}){return r.createElement(tT,{asset:e,fileName:t,sourceForTracking:n,sectionNameForTracking:a,thumbLayout:s,thumbHeight:l,thumbWidth:i,viewMode:o?e0.Bk.List:e0.Bk.Grid,sectionPosition:c})}({containerWidth:i.containerWidth,fileName:g,sourceForTracking:i.sourceForTracking,sectionNameForTracking:o,thumbLayout:c,thumbHeight:m,thumbWidth:p,isList:i.isList,item:d,isExpanded:i.isExpanded,sectionPosition:s}),item:d,numCols:u,containerWidth:i.containerWidth,sectionNameForTracking:o,sectionPosition:s}),f+=1}}let tD=(e,t,n)=>{let a=tt(n.keyPrefix),s=ta.oz.getNextRenderedElementTop(t),l={parent:e,type:ta.zq.ROW,top:s,height:"h1"==n.size?tR.H1_HEIGHT:tR.H3_HEIGHT,key:a,element:r.createElement(tR,{size:n.size,isExpandable:!0,isExpanded:n.isExpanded,title:n.title,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:null,stickyHeadertokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,isFixed:!1,subscribedLibraryKey:n.subscribedLibraryKey}),isSticky:!0,isFixed:!1,children:[],isExpandable:!0,isExpanded:n.isExpanded,getExpandableElement:e=>r.createElement(tR,{size:n.size,isExpandable:!0,isExpanded:e,title:n.title,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:null,stickyHeadertokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,subscribedLibraryKey:n.subscribedLibraryKey}),sectionNameForTracking:n.sectionNameForTracking,rowType:n.rowType,fixedElement:r.createElement(r.Fragment,null,r.createElement("div",{className:"component_sidebar--stickyHeaderSpacer--SaKsM"}),r.createElement(tR,{size:"h1",isExpandable:!0,isExpanded:n.isExpanded,title:n.title,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:null,stickyHeadertokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,isFixed:!0,subscribedLibraryKey:n.subscribedLibraryKey}))};return t.push(l),l};function tW({prevParent:e,outputElements:t,inputSubtree:n,inputParentTree:a,keyPrefix:l,sharedOptions:i,sectionNameForTracking:o,hideTitle:c}){let d=te(n,l),u=!c&&function(e,t){switch(e.type){case"FILE":return""!==e.name;case"PAGE":return t.subtrees.length>1;case"NAME_GROUP":return!e.skipElementsInRendering;case"ASSET_TYPE":return e.items.length>0||e.subtrees.length>0}}(n,a),p=function(e,t,n,r,a,s){if(!e)return null;let l=te(r,a),i=tt(l),o=s.isExpanded(i,(0,tn.pR)(r.type,r.sectionNameForTracking));switch(r.type){case"FILE":return tD(null,n,{keyPrefix:l,size:"h1",title:r.name,isExpanded:o,stickyHeaderTokens:r.stickyHeaderTokens?r.stickyHeaderTokens:void 0,subscribedLibraryKey:r.subscribedLibraryKey,sectionNameForTracking:r.sectionNameForTracking,rowType:ta.l$.LIBRARY});case"PAGE":return tD(t,n,{keyPrefix:l,title:r.name,size:"h3",isExpanded:o,stickyHeaderTokens:r.stickyHeaderTokens?r.stickyHeaderTokens:void 0,sectionNameForTracking:r.sectionNameForTracking,rowType:ta.l$.PAGE});case"NAME_GROUP":return tD(t,n,{keyPrefix:l,size:"h3",title:r.flattenedPath?r.flattenedPath:r.name,isExpanded:o,breadcrumbPath:r.breadcrumbPath?r.breadcrumbPath:void 0,stickyHeaderTokens:r.stickyHeaderTokens?r.stickyHeaderTokens:void 0,sectionNameForTracking:r.sectionNameForTracking,rowType:ta.l$.NAME_GROUP});case"ASSET_TYPE":let c=tq(r.sectionNameForTracking);return tD(t,n,{keyPrefix:l,size:"h3",title:r.name,isExpanded:!0,sectionNameForTracking:r.sectionNameForTracking,rowType:c})}}(u,e,t,n,l,i),m=p?p.children:t,h=p||e;if((0,s.k)().dse_templates_proto){let e=n.subtrees.find(e7.Qe);null!=e&&tW({prevParent:null,outputElements:m,inputSubtree:e,inputParentTree:n,keyPrefix:l,sharedOptions:i,sectionNameForTracking:e.sectionNameForTracking})}switch(n.type){case"PAGE":case"ASSET_TYPE":case"FILE":t$({parent:h,outputElements:m,items:n.items,keyPrefix:d,sharedOptions:i,sectionNameForTracking:o});break;case"NAME_GROUP":n.skipElementsInRendering||t$({parent:h,outputElements:m,items:n.items,keyPrefix:d,sharedOptions:i,sectionNameForTracking:o});break;default:(0,tr.xb)(n.type)}for(let e of n.subtrees)(0,s.k)().dse_templates_proto&&(0,e7.Qe)(e)||tW({prevParent:h,outputElements:m,inputSubtree:e,inputParentTree:n,keyPrefix:d,sharedOptions:i,sectionNameForTracking:o});"FILE"===n.type&&u&&function(e,t,n){let a=ta.oz.getNextRenderedElementTop(t);t.push({parent:e,type:ta.zq.SEPARATOR,top:a,height:n.size,key:`${n.keyPrefix}:spacer${n.size}`,element:r.createElement(tz,{size:n.size})})}(h,m,{keyPrefix:d,size:16})}let tq=e=>{let t=e?.toLowerCase().includes("local");return e?.toLowerCase().includes("templates")?t?ta.l$.LOCAL_TEMPLATES:ta.l$.TEMPLATES:t?ta.l$.LOCAL_COMPONENTS:ta.l$.COMPONENTS},tj="root",tY=[];function tX(e,t,n){let r=[];return e&&tW({prevParent:null,outputElements:r,inputSubtree:e,inputParentTree:t,keyPrefix:tj,sharedOptions:n,sectionNameForTracking:e.sectionNameForTracking,hideTitle:!0}),r}var tJ=n(562027);let tQ="library-section-asset-type-v2";function tZ(e){switch(e){case"all":return{type:eA.I.ALL};case"recent":return{type:eA.I.RECENT};case"local":return{type:eA.I.LOCAL};default:return{type:eA.I.FILE,libraryKey:(0,tJ.l)(e)}}}var t0=n(331084),t1=n(316581),t2=n(185643),t5=n(901878),t4=n(27776);let t8=(0,X.hG)(t4.gNA),t3={improved:{search:{path:[0,0],column:0},libraryModal:{path:[0,0],column:1},dropdown:{path:[0,1],column:0},viewToggle:{path:[0,1],column:1}}};function t6(e,t){(0,Y.trackEvent)("Component Sidebar Viewed",{viewMode:(0,e0.RN)(e),assetsPanelVersion:2,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0,componentSuggestionSessionId:(0,ev.r6)()})}function t7({containerSizingOptions:e,recordingKey:t}){let n=(0,eu.iZ)(),a=(0,u.q5)(),[s,i]=(0,l.fp)(e1),o=(0,j.A)(e=>{i(e),n&&(0,x.uE)("action_left_panel_scroll",{user:n},{assetsPanelVersion:2,tab:"assets",fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0})},500),[c,d]=(0,l.fp)(e2);(0,J.h)(()=>{t6(c,a)});let p=r.useCallback(()=>{d(e=>{let t=e===e0.Bk.Grid?e0.Bk.List:e0.Bk.Grid;return t6(t,a),t})},[a,d]);return r.createElement(et.dP,{recordingKey:"localComponents",className:"component_sidebar--container--Wxtr4",dataTestId:"component-sidebar","data-does-not-dismiss-component-flyout":!0},r.createElement(t9,{initialScrollTop:s,onScroll:o,viewMode:c,toggleViewMode:p,containerSizingOptions:e,recordingKey:t}))}function t9({initialScrollTop:e,onScroll:t,viewMode:n,toggleViewMode:a,containerSizingOptions:i,recordingKey:o}){let c=(0,k.wA)(),d=(0,k.d4)(e=>e.dropdownShown),p=(0,k.d4)(m.e_),h=(0,k.d4)(eb.h),y=(0,k.d4)(eE.dK),g=(0,k.d4)(eE.Xt),b=(0,k.d4)(ef.P),E=(0,k.d4)(e=>e.userFlags.has_dismissed_component_sidebar_library_upsell_banner),f=(0,k.d4)(e=>e.isFreeUser),_=(0,k.d4)(e=>e.user),v=(0,Z.Av)(),w=(0,u.q5)(),S=(0,e9.D)(),{query:T,searchSessionId:x}=(0,eo.Gq)();(0,t0.y)(),(0,el.S)();let N=(0,et.q_)();r.useEffect(()=>{c(er.cr({shouldSearchDefaultLibraries:!1}))},[c]);let{assetType:I,libraryNameByLibraryKey:L,fileKeyToLibraryKey:C,onSetAssetType:A,scrollContent:M,validAssetTypeOptions:P}=function({containerSizingOptions:e,viewMode:t}){var n;let a=function(){let e=(0,k.d4)(m.e_),t=(0,k.d4)(u.tB),n=(0,k.d4)(e=>e.hubFiles),a=(0,k.d4)(m.MH),s=(0,k.d4)(m.dM),i=(0,k.d4)(ef.P),o=(0,ei.n1)(),c=(0,l.md)(e6.qp),d=(0,eR.Fl)(),p=t?.teamId?i[t.teamId]:null,h=!!p&&(0,eg.w5)(p),y=r.useMemo(()=>(0,e0.Sg)(a,s),[a,s]),g=(0,e0.$1)({library:e,fileDataByLibraryKey:c}),b=(0,e0.Tk)(e,n),E=r.useMemo(()=>o?b:null,[o,b]);return r.useMemo(()=>(0,e7.Nx)({localLibraryItemsInfo:y,subscribedItemsInfo:g,subscribedCommunityItemsInfo:E,defaultSubscribedItemsInfo:(0,e0.Mt)(),canPublish:h,currentFileKeyForPublish:t?(0,e3.Kz)(t)?t.sourceFileKey:t.key:null,approvedLibraryKeysByResourceType:d}),[y,g,E,h,t,d])}(),{productComponents:i}=(0,e5.g5)(e4.$A.Design),{query:o}=(0,ep.I)(em.Cn.AssetsPanel),c=(0,e9.D)(),d=r.useMemo(()=>({productComponents:i}),[i]),p=r.useMemo(()=>{var e;return o?eA.v:(e=a.localSubtree,{[eA.I.ALL]:!0,[eA.I.RECENT]:!!i.length,[eA.I.LOCAL]:e.items.length>0||e.subtrees.length>0,[eA.I.FILE]:!1,[eA.I.SITE_KIT]:!1})},[o,i,a.localSubtree]),h=(n=a.subscribedFileSubtrees,r.useMemo(()=>{let e={};for(let[,t]of Object.entries(n))t?.subscribedLibraryKey&&(e[t.subscribedLibraryKey]=t.name);return e},[n])),y=a.fileKeyToLibraryKey,{assetType:g,onSetAssetType:b}=function(e,t){let[n,a]=r.useState(!1),[s,l]=r.useState({type:eA.I.ALL}),i=(0,k.wA)(),o=(0,k.d4)(eL.q5),c=(0,u.q5)();r.useEffect(()=>{n||"loading"===e||(l(e8(function(){if(q.x4)try{let e=q.x4.getItem(tQ);if(!e)return;return tZ(e)}catch(e){return}}(),e,t)),a(!0))},[n,e,t]);let d=r.useCallback(e=>{(!o||(0,eL.eu)(e))&&(l(e),q.x4?.setItem(tQ,function(e){switch(e.type){case eA.I.ALL:return"all";case eA.I.RECENT:return"recent";case eA.I.LOCAL:return"local";case eA.I.FILE:return e.libraryKey;case eA.I.SITE_KIT:return""}}(e)),o&&i(er.gP({searchOptions:e})),Y.definedAnalyticsHandler.trackDefinedEvent("assets_panel.asset_type_changed",{assetType:e.type,isSearching:!!o,fileKey:e.type===eA.I.FILE?e.libraryKey:void 0,openFileKey:c?.key,fileTeamId:c?.teamId??void 0,fileOrgId:c?.parentOrgId??void 0,assetsPanelVersion:2}))},[o,i,c?.key,c?.parentOrgId,c?.teamId]),p=r.useCallback(e=>e.key===tQ&&null!=e.newValue,[]),m=r.useCallback(n=>{if(!n)return;let r=tZ(n);"loading"!==e&&l(e8(r,e,t))},[e,t]);return(0,q.tl)({onSync:m,shouldSyncValue:p}),{assetType:s,onSetAssetType:d}}(c?"loading":p,h),E=function({assetType:e,containerSizingOptions:t,recentlyUsedItems:n,treeWithSubtrees:a,viewMode:i}){let[o,c]=r.useState(!1),d=i===e0.Bk.List,u=(0,ep.I)(em.Cn.AssetsPanel),p=(0,l.md)(e6.oE),m=r.useMemo(()=>({isList:d,isExpanded:tn.xO,sourceForTracking:e0.mZ,...t}),[t,d]),h=r.useMemo(()=>{let{query:e,results:{normalizedSearchResults:t,unsubscribedSearchResults:n}}=u;if(!e)return tY;let a=t.length+n.length;if(0===a)return tY;!o&&0===t.length&&n.length>0&&c(!0);let s=[];return a>0&&!function({outputElements:e,results:t,moreResults:n,showMoreResults:a,keyPrefix:s,overallOptions:l,libraryNameByLibraryKey:i,toggleShowMoreResults:o,parent:c}){if(t.length>0&&t$({parent:c??null,outputElements:e,items:t,keyPrefix:`${s}:results`,sharedOptions:l,libraryNameByLibraryKey:i,sectionNameForTracking:"Primary search results"}),n.length>0){let t=ta.oz.getNextRenderedElementTop(e);e.push({parent:c??null,type:ta.zq.ROW,top:t,height:40,key:`${s}:moreResultsLink`,element:r.createElement("div",{className:"component_sidebar--text--g20jk"},a&&(0,F.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!a&&r.createElement("a",{className:"component_sidebar--link--I-ane blue_link--blueLink--9rlnd",onClick:o},(0,F.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:n.length}))),sectionNameForTracking:"More search results"}),a&&t$({parent:null,outputElements:e,items:n,keyPrefix:`${s}:moreResults`,sharedOptions:l,libraryNameByLibraryKey:i,sectionNameForTracking:"More search results"})}}({outputElements:s,results:t,moreResults:n,showMoreResults:o,keyPrefix:`${tj}:searchResults`,overallOptions:m,libraryNameByLibraryKey:p,toggleShowMoreResults:()=>{c(e=>!e)}}),s},[u,o,m,p]),{productComponents:y}=n,g=r.useMemo(()=>{if(!y.length)return tY;let e=[];return t$({parent:null,outputElements:e,items:y,keyPrefix:`${tj}:recentlyUsed`,sharedOptions:m}),e},[y,m]),b=r.useMemo(()=>tX(a.localSubtree,a.tree,m),[a.localSubtree,a.tree,m]),E=r.useMemo(()=>e.type===eA.I.FILE?Object.entries(a.fileKeyToLibraryKey).find(([t,n])=>e.libraryKey===n)?.[0]??"":"",[e,a.fileKeyToLibraryKey]),f=r.useMemo(()=>tX(e.type===eA.I.FILE?a.subscribedFileSubtrees[E]:void 0,a.tree,m),[e.type,E,m,a.subscribedFileSubtrees,a.tree]),_=r.useMemo(()=>{let e=[];return!function(e,t,n,r){if((0,s.k)().dse_templates_proto){let a=t.subtrees.find(e7.Qe);null!=a&&tW({prevParent:null,outputElements:e,inputSubtree:a,inputParentTree:t,keyPrefix:n,sharedOptions:r,sectionNameForTracking:a.sectionNameForTracking})}for(let a of(t.items.length>0&&t$({parent:null,outputElements:e,items:t.items,keyPrefix:n,sharedOptions:r}),t.subtrees))(0,s.k)().dse_templates_proto&&(0,e7.Qe)(a)||tW({prevParent:null,outputElements:e,inputSubtree:a,inputParentTree:t,keyPrefix:n,sharedOptions:r,sectionNameForTracking:a.sectionNameForTracking})}(e,a.tree,tj,m),e},[m,a.tree]);return u.query?h:e.type===eA.I.RECENT?g:e.type===eA.I.LOCAL?b:e.type===eA.I.FILE?f:_}({assetType:g,containerSizingOptions:e,recentlyUsedItems:d,treeWithSubtrees:a,viewMode:t});return{assetType:g,libraryNameByLibraryKey:h,fileKeyToLibraryKey:y,onSetAssetType:b,scrollContent:E,validAssetTypeOptions:p}}({viewMode:n,containerSizingOptions:i}),[K,O]=(0,l.fp)(ek.dL);r.useEffect(()=>{K&&(A({type:eA.I.FILE,libraryKey:K}),O(null))},[K,A,O]);let H=(0,ed.LR)(),R=(0,k.d4)(e=>e.universalInsertModal.showing),z=r.useCallback(()=>{R&&H()},[H,R]),U=r.useCallback((e,t,n)=>{z(),c((0,ea.to)({type:eQ.m,data:{asset:e,searchSessionId:x??void 0,query:T??void 0,sectionPosition:t,sectionNameForTracking:n,assetTypeDropdownSelection:I?.type,containerWidth:i.containerWidth,onGetKeyboardNavigationItemById:N}}))},[I,i.containerWidth,c,z,N,x,T]),B=r.useMemo(()=>({onOpenFlyout:U,assetTypeDropdownSelection:I?.type}),[I,U]);(0,t2.d)({allElements:M});let G=n===e0.Bk.List,V=(0,ep.I)(em.Cn.AssetsPanel),$=0===M.length,D=d?.type===t_.K.ASSETS_PANEL,W=D&&d?.data?.component||null,j=(0,t1.K)(!0),X=r.useCallback(()=>{D||(0,ec.wr)()},[D]),[J,eu]=(0,q.Vc)("has-auto-expanded-component-libraries-for-nux",!1),ev=(0,ei.n1)(),eS=r.useRef(null);r.useEffect(()=>{let e=eS.current;e&&0!==M.length&&ev&&!J&&e.expandAllComponentLibraries(308)>0&&eu(!0)},[J,ev,M.length,eu]);let eT=r.useCallback(()=>{let e=!!V.query,t=0===M.length;return r.createElement("div",null,e&&t&&r.createElement(ew.Wq,null),!e&&t&&r.createElement(ew.od,null))},[V.query,M.length]),ex=S||V.isLoading,eN=(0,ey.jO)(),eI=w?.teamId?b[w.teamId]:null,eC=(0,Q.Rs)(eh.kQI,{id:w?.teamId??""},{enabled:!!w?.teamId}),eM=eC.data?.team?.hasPermission,eP=!E&&f&&(!eI||!(0,eg.w5)(eI)&&eM)&&w?.canEdit&&eN&&Object.keys(p.local.components).length>0&&(0,es.Hz)(_?.id);return r.createElement(eJ.U.Provider,{value:B},r.createElement(ne,{assetType:I,componentsEmpty:$,fileKeyToLibraryKey:C,isComponentSidebarInitialLoading:S,isList:G,isSearching:!!V.query,libraryNameByLibraryKey:L,onSetAssetType:A,onToggleViewMode:a,recordingKey:o,validAssetTypeOptions:P}),ex?r.createElement("div",{className:"component_sidebar--loadingSpinnerContainerWithDropdown--9b8ZI"},r.createElement(en.kt,null)):r.createElement("div",{className:"component_sidebar--assetPanelSection--mYuo2"},r.createElement(ee.O,{ref:eS,className:"component_sidebar--scrollContainerFullHeight---DTUM component_sidebar--_scrollContainerBase--1rakD",enableKeyboardNavigation:!0,fileKey:w?.key,getViewportHeight:e=>e-2*v,initialScrollTop:e,isList:G,isTileSelected:e=>!!e.item.isLocal&&g&&(0,e_.sp)(y,g,e.item.node_id),onMouseUp:X,onScroll:t,orgId:w?.parentOrgId??void 0,recordingKey:"componentsListContainer",renderEmptyState:eT,scrollContent:M,shouldRefocusAfterKeyboardInsert:I.type===eA.I.RECENT,teamId:w?.teamId??void 0,topOffset:t8,width:i.containerWidth}),!!W&&r.createElement(t_.h,{selectedView:h,dropdownShown:d,onJumpToLocalComponent:j,onOpenFlyout:U,usePortal:!0}),eP&&r.createElement(t5.V,null)))}function ne({assetType:e,componentsEmpty:t,isList:n,isSearching:a,isComponentSidebarInitialLoading:s,libraryNameByLibraryKey:l,fileKeyToLibraryKey:i,onSetAssetType:o,onToggleViewMode:c,validAssetTypeOptions:d,recordingKey:u}){let p=t3.improved,{setKeyboardNavigationElement:m}=(0,et.M3)({path:p.libraryModal.path,column:p.libraryModal.column}),{setKeyboardNavigationElement:h}=(0,et.M3)({path:t3.improved.dropdown.path,column:t3.improved.dropdown.column}),{setKeyboardNavigationElement:y}=(0,et.M3)({path:p.viewToggle.path,column:p.viewToggle.column});return r.createElement("div",null,r.createElement("div",{className:"component_sidebar--searchHeader--yTD7D component_sidebar--_header--nHN39"},r.createElement(eM,{searchOptions:{type:e,onSetAssetType:o},keyboardNavigationPath:p.search.path,keyboardNavigationColumn:p.search.column}),r.createElement(eP.b,{entrypoint:eS.r6.ASSETS_PANEL_BUTTON,onSetKeyboardNavigationElement:m,recordingKey:u})),s||t&&!a?null:r.createElement("div",{className:"component_sidebar--pageHeader--m9FWc component_sidebar--_header--nHN39"},r.createElement(eD,{assetType:e,libraryNameByLibraryKey:l,fileKeyToLibraryKey:i,onSetAssetType:o,onSetKeyboardNavigationElement:h,validAssetTypeOptions:d}),r.createElement(eX,{isList:n,onToggleViewMode:c,onSetKeyboardNavigationElement:y,recordingKey:u})))}var nt=n(399906),nn=n(134285),nr=n(359418),na=n(443054),ns=n(10082),nl=n(353620),ni=n(614092),no=n(21614);let nc=(0,ns.vv)(()=>a.Ez5?.boxSelectionState().isBoxSelecting,!1);function nd(){let e=(0,r.useContext)(nl.y0).focusSelectedNodes;return!!((0,s.k)().ce_il_layer_focus&&e)}let nu=new Set;function np(e){let t=(0,r.useRef)(e),n=t.current;return t.current=e,n}function nm(e,t){let n;if(t?.length===1&&(n=t[0])){let t=e.get(n);t&&(t.isExpanded=!0)}}var nh=n(453761),ny=n(149928),ng=n(412840),nb=n(353956),nE=n(762703),nf=n(485558),n_=n(773511),nv=n(979890),nk=n(67188),nw=n(201588),nS=n(226455),nT=n(214758);function nx({showTabs:e,activeTab:t,isComparingChanges:n,pageTabChevron:s,currentPageName:l,onCanvasSearch:i,onPageContextMenu:o,onTogglePages:c,recordingKey:d}){let u=(0,nE.U)(),p=(0,N.dh)(),m=(0,eq.rf)(eq.Pt(d,"collapsedRow"),"contextmenu",(0,r.useCallback)(e=>{(0,nk.jo)(e),o({nodeId:p,clientX:e.clientX,clientY:e.clientY})},[o,p]));return r.createElement(nf.y,{withBorder:!0},e&&r.createElement(r.Fragment,null,r.createElement(nw._,{onClick:i}),r.createElement(nv.Bx,{className:t===a.xae.LAYERS?nT.yR:nT.Mf,dataTestId:nS.pk,onMouseDown:u.showLayersPanel,onContextMenu:nk.jo,"data-label":(0,F.t)("fullscreen.pages_panel.layers_tab"),recordingKey:eq.Pt(d,"tab","layers"),innerText:"Layers"},(0,F.tx)("fullscreen.pages_panel.layers_tab")),r.createElement(nv.Bx,{className:nT.dB,onMouseDown:()=>u.showPublish(),onContextMenu:nk.jo,recordingKey:eq.Pt(d,"tab","assets"),innerText:"Assets","data-onboarding-key":nS.Qr},r.createElement("div",{className:t===a.xae.ASSETS?nT.yR:nT.Mf,"data-label":(0,F.t)("fullscreen.pages_panel.assets_tab")},r.createElement("div",null,(0,F.tx)("fullscreen.pages_panel.assets_tab"))))),!e&&r.createElement("div",{className:ex()("ui2_tabs_row--viewOnlySearchRow--lXeEC",{"ui2_tabs_row--hidden--H29bc":n})},r.createElement(y.Y,{onFocus:i})),r.createElement(n_.E,{className:ex()("ui2_tabs_row--toggleButton--3lJw1",{"ui2_tabs_row--viewOnly--crQc4":!e}),onClick:c,htmlAttributes:{onContextMenu:m},recordingKey:eq.Pt(d,"collapsedRow")},r.createElement("span",{className:"ui2_tabs_row--pageTitle--PPrKt ellipsis--ellipsis--Tjyfa","data-onboarding-key":"pages-panel-toggle"},l||""),r.createElement(tc.B,{className:"ui2_tabs_row--chevron--GSVx7",svg:s})))}var nN=n(148311),nI=n(33692),nL=n(90206),nC=n(455945);function nA(e){let t=e.value.textValue;if(void 0===t)throw Error("textValue is undefined");let n=JSON.parse(t);switch(n.type){case"text":case"tool-call":case"tool-result":return n;default:throw Error(`Unknown IDLAIChatContentPart: ${JSON.stringify(e)}`)}}function nM(e){return{type:a.FbN.TEXT,value:{textValue:JSON.stringify(e)}}}let nP={user:a.oN4.USER,assistant:a.oN4.ASSISTANT,tool:a.oN4.TOOL,system:a.oN4.SYSTEM},nF={[a.oN4.USER]:"user",[a.oN4.ASSISTANT]:"assistant",[a.oN4.TOOL]:"tool",[a.oN4.SYSTEM]:"system"};function nK(e){let t=e.content;return{createdAtMs:e.createdAtMs,role:nF[e.role],content:t.map(nA)}}var nO=n(320953);let nH=e=>"JSX"===e.type;class nR{appendMessage(e){if(null==a.glU)throw Error("Fullscreen not loaded");return nO.l7.ai("append-ai-chat-message",()=>{let t=this.node.aiChatThread;return null==t&&(t={messages:[]}),t.messages.push({createdAtMs:e.createdAtMs,role:nP[e.role],content:e.content.map(nM)}),this.node.aiChatThread=t,{messages:t.messages.map(nK)}})}get rawMessages(){return this.node.aiChatThread?.messages.map(nK)??[]}constructor(e){if(!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"node",void 0),this.node=e,!nH(e))throw Error("Node is not a valid AI Chat node")}}var nz=n(768618),nU=n(583018),nB=n(324762),nG=n(139227),nV=n(255130),n$=n(766647),nD=n(897659),nW=n(579556);function nq(){let e=(0,l.Xr)((0,nV.mC)("0:1")),[t,n]=r.useState(0),s=(0,eu.iZ)(),i=(0,nB.uQ)(),o=(0,nB.NM)(),c=r.useRef(null);if(i)c.current=i;else if(o?.length){let e=(0,nz.UN)();i=function(e,t){if(!e.length)return null;if(1===e.length)return e[0]??null;let n=e.map(e=>t.get(e)).filter(Boolean);if(n.length!==e.length)return null;let r=[...n],a=[],s=new Map;for(;r.length>0;){for(let e of(a=[],r)){if(!e)continue;let t=e.guid,r=(s.get(t)||0)+1;if(s.set(t,r),r===n.length)return t;e.parentNode&&a.push(e.parentNode)}r=a}return null}(o,e)??e.getCurrentPage().guid,c.current=i}else{let e=(0,nz.UN)().getCurrentPage();i=c.current??e.guid}let d=function(e,t){if(null==a.glU)throw Error("Fullscreen not loaded");let n=e.getInternalCanvas();if(!n)return null;for(let e of n.childrenNodes)if(nH(e)&&e.name===t)return new nR(e);return new nR(nO.l7.ai("create-unique-ai-chat",()=>{let r=function(e,t){let n=e.createNode("JSX");return t&&(n.name=t),n.aiChatThread={messages:[]},n}(e,t);return n.appendChild(r),r}))}((0,nz.UN)(),"defaultName"),u=(d?.rawMessages||[]).map((e,t)=>{let n;let r=e.role;switch(r){case"user":n=a.K$p.USER_MESSAGE;break;case"assistant":n=a.K$p.ASSISTANT_MESSAGE;break;case"tool":n=a.K$p.TOOL_MESSAGE;break;case"system":n=a.K$p.SYSTEM_MESSAGE;break;default:throw Error(`Unknown message role: ${r}`)}let l=e.content.filter(e=>"text"===e.type).map(e=>e.text).join(""),i=e.content.filter(e=>"tool-call"===e.type).map(e=>({toolCallId:e.toolCallId,toolName:e.toolName,argsJson:e.argsJSON})),o=e.content.filter(e=>"tool-result"===e.type).map(e=>({toolCallId:e.toolCallId,toolName:e.toolName,resultJson:e.resultJSON}));return{id:`converted-${t}`,type:n,userId:s.id,textContent:JSON.stringify({plainText:l}),sentAt:e.createdAtMs,toolCalls:i,toolResults:o}}),p=async(r,a)=>{if(d?.appendMessage({role:"user",content:[{type:"text",text:r.plainText}],createdAtMs:Date.now()}),e(""),n(t+1),!i){console.warn("No node selected for make edits");return}let s=(0,nz.UN)().get(i);if(!s){console.warn("Selected node not found");return}try{let e=d?.rawMessages||[],r=JSON.stringify(e.map(e=>({role:e.role,content:e.content.map(e=>e.text).join("")})));await (0,nG.applyMakeEdits)(s,r,(0,nU.g)(),"other"),d?.appendMessage({role:"assistant",content:[{type:"text",text:"I've processed your request and made the necessary changes to the design."}],createdAtMs:Date.now()}),n(t+2)}catch(e){console.error("Error in streamMakeEdits:",e),d?.appendMessage({role:"assistant",content:[{type:"text",text:"Sorry, I encountered an error while processing your request. Please try again."}],createdAtMs:Date.now()}),n(t+2)}},m=r.useMemo(()=>u.map(e=>e.userId)||[],[u]),h=(0,n$.gC)(m),y=(0,nW.t)(u,h);return r.createElement(n$.U0,{chatMessagesForDisplay:u,chatMessagesNodeGuid:"0:1",clientLifecycleIdMap:new Map,codeFileChanges:void 0,emptyState:r.createElement("div",null),exchangeMessages:[],featureType:nD.lV.AI_ASSISTANT,messagesForRendering:y,sendDisabled:!1,sendMessage:p,setInput:e,showCodeStreaming:!1})}let nj=new Map;var nY=n(364616),nX=n(844411);function nJ(){let e=(0,v.cT)(),{pagesList:t,pageToNumChangesMap:n,isComparingChanges:l}=function(){let e=(0,v.n0)(),t=(0,k.d4)(e=>!!(0,s.k)().version_diffing&&e.mirror.appModel.activeCanvasEditModeType===a.m1T.COMPARE_CHANGES),n=(0,k.d4)(e=>e.versionHistory.compareId);return r.useMemo(()=>{if(!t||!n)return{pagesList:e,pageToNumChangesMap:nj,isComparingChanges:t};let r=(0,G.ee)(e);return{pagesList:e,pageToNumChangesMap:r,isComparingChanges:t}},[t,n,e])}(),i=(0,nL.g)({pagesList:t}),o=(0,v.GQ)(),c=(0,L.o3)(L.nt.newResizablePanel);return t.length?r.createElement(nQ,{recordingKey:"pagesPanel",isReadOnly:e,width:c?void 0:o,pagesList:t,isComparingChanges:l,pageToNumChanges:n,onPageContextMenu:i}):null}function nQ({width:e=240,isReadOnly:t,pagesList:n,onPageContextMenu:s,isComparingChanges:i,pageToNumChanges:o,recordingKey:p}){let m=(0,c.GS)(),h=(0,nt.M)(),y=(0,u.q5)(),g=(0,k.d4)(e=>t||!y?a.xae.LAYERS:e.leftPanel.activeTab),b=(0,k.d4)(e=>e.versionHistory),E=(0,N.dh)(),f=(0,N.nn)(),_=(0,l.md)(nb.l7),L=(0,nE.U)(),{toggleManageMemoryModal:F,closeManageMemoryModal:K}=(0,P.P)({sidebarWidth:e}),O=(0,I.T)(),{isLayersOpen:H,toggleLayersAction:R}=(0,v.vr)(),{renamingNodeGuid:z,startRenamingNode:U,stopRenamingNode:B}=(0,v.TU)(),G=(0,v._4)(),{height:V,setHeight:$,isOpen:q,setIsOpen:j}=(0,nC.d)({defaultIsOpen:n.length>1||m}),Y=g===a.xae.LAYERS,X=Y&&(!!m||q),J=q&&Y?nX.A:nY.A,Q=a.AWq.getChunkChangeCount(),Z=(0,k.Pj)(),ee=(0,r.useCallback)(e=>{L.showLayersPanel(),(0,x.ds)("pages_panel_open_toggle",y?.key,Z.getState(),{isPagesOpen:e},{forwardToDatadog:!0}),j(e)},[y,L,j,Z]),et=(0,r.useCallback)(()=>{ee(!0)},[ee]),en=(0,S.F)(q),er=(0,r.useCallback)(()=>{ee(!en.current)},[en,ee]),ea=(0,w.$)(_);(0,r.useEffect)(()=>{_&&ea&&!t&&et()},[ea,_,t,et]);let{focusedNodes:es,onSelectNodesFromLayersPanel:el,clearFocusedNodes:ei}=function(){let e=(0,no.Tv)(),t=(0,d.eY)(),n=nd(),a=function(){let e=(0,d.KH)(),t=nd(),n=(0,ni.Fk)((e,n)=>{if(!t)return[];let r=new Set;return Object.keys(n).forEach(t=>{let n=function(e){for(;e;){if(e.parentNode?.type==="CANVAS")return e;e=e.parentNode}return null}(e.get(t));n&&r.add(n.guid)}),Array.from(r)},e);return(0,r.useMemo)(()=>new Set(n),[n])}(),s=np(n),i=np(a),o=np(e),c=(0,r.useRef)(!1),u=(0,r.useRef)(new Set),p=i!==a,m=s!==n;(o!==e||p||m)&&function({focusedNodesRef:e,supportsFocus:t,isObjectsPanelClickRef:n,topLevelParents:r,didTopLevelParentsChange:a,scene:s,nodeIds:i}){if(!t||l.zl.get(nc)){e.current=nu;return}if(n.current){if(a&&e.current.size){let t=new Set(e.current);r.forEach(e=>t.add(e)),nm(s,i),e.current=t}n.current=!1;return}e.current=r,nm(s,i)}({focusedNodesRef:u,supportsFocus:n,isObjectsPanelClickRef:c,nodeIds:e,scene:t,topLevelParents:a,didTopLevelParentsChange:p});let h=(0,na.C)(),y=(0,r.useCallback)(()=>{u.current=nu,h()},[h]),g=(0,r.useCallback)(()=>{c.current=!0},[]);return{onSelectNodesFromLayersPanel:n?g:void 0,focusedNodes:n?u.current:void 0,clearFocusedNodes:n?y:void 0}}();return r.createElement(nh.A,{isFullHeight:!0},m?r.createElement(r.Fragment,null,r.createElement(T.$,null),!t&&r.createElement(nI.I,{recordingKey:p,activeTab:g,onCanvasSearch:G})):r.createElement(r.Fragment,null,r.createElement(nx,{recordingKey:p,showTabs:!t,activeTab:g,pageTabChevron:J,isComparingChanges:i,currentPageName:f,onCanvasSearch:G,onTogglePages:g===a.xae.ASSETS?et:er,onPageContextMenu:s}),g===a.xae.LAYERS&&r.createElement(T.$,null)),i&&Y&&r.createElement(r.Fragment,null,b.compareId&&r.createElement(W.ZI,{compareId:b.compareId,versions:b.versions}),Q>0&&r.createElement(nf.y,{withBorder:!0},r.createElement(D,null))),y&&r.createElement(M.QU,{fileKey:y.key,toggleManageMemoryModal:F,closeManageMemoryModal:K}),X&&r.createElement(ng.R,{height:V,isComparingChanges:i,isOpen:q,isReadOnly:t,onCanvasSearch:G,onHeightChange:$,onPageContextMenu:s,onToggle:er,pageToNumChanges:o,pages:n,showHeader:!O}),Y&&r.createElement(ny.m,null,H&&r.createElement(C.p,null,r.createElement(A.Ay,null)),m?r.createElement(nN.o,{currentPage:E,focusedNodes:es,isLayersOpen:H,isReadOnly:t,onSelectNodesFromLayersPanel:el,onToggleLayers:R,recordingKey:p,renamingGuid:z,reserveBottomHeight:es?.size!==0,showAllLayers:ei,startRenaming:U,stopRenaming:B,topNodeProperties:null,versionHistory:b,width:e}):r.createElement(nr.X,{isReadOnly:t,currentPage:E,width:e,renamingGuid:z,startRenaming:U,stopRenaming:B,thumbnailGuid:y?.thumbnailGuid||null,topNodeProperties:null,versionHistory:b})),g===a.xae.ASSETS&&r.createElement(r.Fragment,null,h?r.createElement(nn.g,{width:e}):r.createElement(t7,{recordingKey:"componentsSidebar",containerSizingOptions:{containerWidth:e,maxSmallThumbSize:40,maxWideColWidth:300}})),g===a.xae.CHAT&&r.createElement(nq,null))}let nZ=r.memo(function(){let e=(0,l.md)((0,m.Xh)(void 0)),t=(0,u.q5)(),n=(0,c.GS)(),k=(0,d.aV)();(0,v.bi)();let w=(0,o.X0)(),S=!!t&&e,T=(0,p.ut)(a.Ez5?.uiState().showCanvasSearch,!1),x=(0,d.p8)("showUi");return(r.useEffect(()=>{S&&(0,i.YQ)({id:"Found Updates To Publish"})},[S]),(0,s.k)().dont_render_ui&&!x)?null:r.createElement(_.Q,{ignoreRulers:k},r.createElement(b.s,null),r.createElement(g.$,null,n&&r.createElement(f.n,null),n&&r.createElement(E.d,{shouldUseBottomBorder:!w}),T?r.createElement(h.EA.Provider,{value:!0},r.createElement(y.f,{showFilter:!0})):r.createElement(nJ,null)))})},776740:(e,t,n)=>{n.d(t,{n:()=>o});var r=n(848318),a=n(301168),s=n(614092),l=n(86705),i=n(933480);function o(){let e=function(){let e=(0,a.d4)(e=>e.mirror.appModel.onCanvasPillInfo);return(0,s.Fk)((e,t)=>t&&0!==t.length?t.map(t=>{let n=e.get(t.guid);if(!n||"-1:-1"===n.guid)return null;let r={guid:n.guid,name:n.name,type:n.type,boundingBox:n.absoluteBoundingBox,isFigmaPurple:t.isFigmaPurple,hasEnabledStaticImagePaint:n.hasEnabledStaticImagePaint,isState:n.isState,isStateGroup:n.isStateGroup,stackCounterAlignItems:n.stackCounterAlignItems,stackMode:n.stackMode,isGroup:n.isGroup,canHaveStatus:n.canHaveStatus,hasStatus:n.hasStatus,objectsPanelThumbnailId:n.objectsPanelThumbnailId};if(r.isState&&t.symbolId){let n=e.get(t.symbolId);r.symbolName=n?.name}return r}):null,e)}()?.[0];return e?r.createElement(l.MO,{node:e,offsetX:-3},r.createElement("div",{className:i.nM},r.createElement(l.Tq,{node:e}),r.createElement("span",{className:i.dK},e.symbolName?e.symbolName:e.name))):null}},776038:(e,t,n)=>{n.d(t,{e:()=>h});var r=n(848318),a=n(879169),s=n(186606),l=n(19180),i=n(781239),o=n(967688),c=n(995218),d=n(209595),u=n(226455),p=n(596224),m=n(762703);function h({activeTab:e,recordingKey:t}){let n=(0,d._6)(),{showPublish:h,showLayersPanel:y,showCodePanel:g,showChat:b}=(0,m.U)(),E=(0,p.Vj)(n),f=!!(0,l.k)().sts_code,_=(0,c.ow)(),v=(0,c.Em)(),k=(0,l.k)().ai_assistant||!1,w=s.xae.LAYERS.toString(),S=s.xae.CODE.toString(),T=s.xae.ASSETS.toString(),x=s.xae.CHAT.toString(),[N,,I]=a.t.useManagedTabs({[w]:!0,[S]:E&&f,[T]:!_,[x]:v&&k&&!1},e.toString(),e=>{switch(parseInt(e)){case s.xae.LAYERS:y();break;case s.xae.CODE:g();break;case s.xae.ASSETS:h();break;case s.xae.CHAT:b();break;default:(t=>{throw Error("Unhandled tab behavior: "+e)})(0)}},{recordingKey:i.Pt(t,"tabs")});return r.createElement("div",{className:"ui3_tabs--tabStrip--zypFK",onContextMenu:e=>{e.preventDefault(),e.stopPropagation()}},r.createElement(a.t.TabStrip,{manager:I},r.createElement(a.t.Tab,{...N[w],htmlAttributes:{"data-testid":u.pk}},(0,o.tx)("fullscreen.pages_panel.file_tab")),r.createElement(a.t.Tab,{...N[S]},(0,o.tx)("fullscreen.pages_panel.code_tab")),r.createElement(a.t.Tab,{...N[T],onboardingKey:u.Qr},(0,o.tx)("fullscreen.pages_panel.assets_tab")),r.createElement(a.t.Tab,{...N[x]},(0,o.tx)("fullscreen.pages_panel.chat_tab"))))}},812045:(e,t,n)=>{n.d(t,{q:()=>h});var r=n(848318),a=n(863270),s=n(963307),l=n(355755),i=n(730143),o=n(394882),c=n(991675),d=n(919645),u=n(247852),p=n(827930),m=n(340427);function h({scrollContainer:e}){let t=(0,i.q5)(),n=(0,l.KH)(),h=(0,s.Gt)("prototypeStartingPointsInfo"),y=!h||h.length>0,g=0===Object.keys(n).length,b=t?.canEdit,E=r.createElement(o.VF,{isVisible:g&&!b&&y},()=>r.createElement(m.A,{viewOnly:!0})),f=r.createElement(o.VF,{isVisible:g},()=>r.createElement(d.Q,{key:"code-local-styles",recordingKey:"code-local-styles",scrollContainer:e}));return r.createElement(a.fu,{name:c.e0.CODE_PANEL},r.createElement(u.Mw,{panelName:u.ON.INSPECT}),r.createElement(p.U,{key:"inspection-properties-panel",recordingKey:"inspectionPanel",flowPanel:E,localStylesPanel:f}))}},730871:(e,t,n)=>{n.d(t,{x:()=>m});var r=n(848318),a=n(531788),s=n(186606),l=n(781239),i=n(297638),o=n(967688),c=n(696786),d=n(345204),u=n(614892),p=n(699848);function m({recordingKey:e,numSelected:t}){let n=(0,c.GS)(),m=()=>{s.glU.upgradeToLatestVectorOperationVersion()},h=(0,o.tx)("fullscreen.properties_panel.vector_operation.update_text",{numNodes:t??1}),y=(0,o.tx)("fullscreen.properties_panel.vector_operation.update_button");return r.createElement(u.Zk,null,r.createElement("p",{className:i.s.pl16.pr16.mb12.font11.$},h),n?r.createElement(p.Ad,{label:null,input:r.createElement(a.$n,{variant:"secondary",onClick:m,recordingKey:l.Pt(e,"updateBoolean")},y)}):r.createElement(d.z,{onClick:m,recordingKey:l.Pt(e,"updateBooleanUI2")},y))}},139227:(e,t,n)=>{n.d(t,{Ik:()=>i,Y4:()=>s,applyMakeEdits:()=>r,fc:()=>o,hc:()=>a,li:()=>l});let r=()=>Promise.resolve(),a=()=>Promise.resolve({nodeId:"",issues:[]}),s=()=>null,l=()=>Promise.resolve({serialized:"",componentDefsStr:"",assetsByName:{}}),i=null,o=()=>[]},197183:(e,t,n)=>{n.d(t,{t:()=>i});var r=n(848318),a=n(301168),s=n(186606),l=n(7148);function i(){let e=(0,l.m0)(),t=(0,a.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);return r.useEffect(()=>{e&&(e._keyboard_will_show_with_height=e=>{s.glU.keyboardWillShowWithHeight(e)},e._keyboard_will_hide=()=>{t===s.m1T.TEXT&&s.glU.setDefaultEditMode()},window.FigmaAppObj?(window.FigmaAppObj.keyboardWillShow=()=>{s.glU.keyboardWillShow()},window.FigmaAppObj.keyboardWillShowWithHeight=e=>{s.glU.keyboardWillShowWithHeight(e)}):window.FigmaAppObj={keyboardWillShow:()=>{s.glU.keyboardWillShow()},keyboardWillShowWithHeight:e=>{s.glU.keyboardWillShowWithHeight(e)}})},[e,t]),null}}}]);

//# debugId=f0484ee9-9894-5e3c-b3a8-c129cc1d8bda

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/c806c444796268d576cc87e80c35e04d40e9a08e/7391-f0c6a8e1a8b1c39a.min.js.map